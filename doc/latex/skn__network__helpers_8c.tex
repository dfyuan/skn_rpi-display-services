\hypertarget{skn__network__helpers_8c}{}\section{src/skn\+\_\+network\+\_\+helpers.c File Reference}
\label{skn__network__helpers_8c}\index{src/skn\+\_\+network\+\_\+helpers.\+c@{src/skn\+\_\+network\+\_\+helpers.\+c}}
{\ttfamily \#include \char`\"{}skn\+\_\+network\+\_\+helpers.\+h\char`\"{}}\\*
Include dependency graph for skn\+\_\+network\+\_\+helpers.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{skn\+\_\+locator\+\_\+print\+\_\+usage} ()
\item 
static void \hyperlink{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1}{exit\+\_\+handler} (int sig)
\item 
static void $\ast$ \hyperlink{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a}{service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper} (char $\ast$key, char $\ast$$\ast$name, char $\ast$$\ast$ip, char $\ast$$\ast$port)
\item 
static \hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} \hyperlink{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}{service\+\_\+registry\+\_\+create} ()
\item 
static int \hyperlink{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a}{service\+\_\+registry\+\_\+entry\+\_\+create} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg, char $\ast$name, char $\ast$ip, char $\ast$port, int $\ast$errors)
\item 
static int \hyperlink{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}{service\+\_\+registry\+\_\+response\+\_\+parse} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg, const char $\ast$response, int $\ast$errors)
\item 
long \hyperlink{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores} ()
\item 
int \hyperlink{skn__network__helpers_8c_af451ef71d607d9188e02af7079f14263}{generate\+\_\+loadavg\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{skn__network__helpers_8c_aaf8b0dfb11a3800bb249c6cf90a2537a}{generate\+\_\+uname\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{skn__network__helpers_8c_a8aa6a7a3ba2390cf536e26c6cd2aa840}{generate\+\_\+datetime\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{skn__network__helpers_8c_a802d742c15476782fbbea1528f76dea5}{skn\+\_\+time\+\_\+delay} (double delay\+\_\+time)
\item 
uid\+\_\+t \hyperlink{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79}{skn\+\_\+get\+\_\+userids} ()
\item 
void \hyperlink{skn__network__helpers_8c_a6af44fa0e0746d3d2a804fea1e84dacd}{signals\+\_\+init} ()
\item 
void \hyperlink{skn__network__helpers_8c_ac256e2066453ab0ff82322aa24b161df}{signals\+\_\+cleanup} (int sig)
\item 
void \hyperlink{skn__network__helpers_8c_a96bf395b914c5182e438800248d6e8f3}{get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address} (char $\ast$intf, char $\ast$ipv4)
\item 
int \hyperlink{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a}{get\+\_\+broadcast\+\_\+ip\+\_\+array} (\hyperlink{cmd_d_c_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array} paB)
\item 
int \hyperlink{skn__network__helpers_8c_a6d284e9250411e031cfa4ecb19583696}{get\+\_\+default\+\_\+interface\+\_\+name} (char $\ast$pch\+Default\+Interface\+Name)
\item 
int \hyperlink{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line} (int argc, char $\ast$$\ast$argv)
\item 
void \hyperlink{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set} (const char $\ast$name, const char $\ast$desc)
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\+\_\+strip} (char $\ast$alpha)
\item 
int \hyperlink{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket} (int port, double rcv\+Timeout)
\item 
int \hyperlink{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket} (int port, double rcv\+Timeout)
\item 
\hyperlink{skn__common__headers_8h_a09c39b109fec01639de4bcbf7c481f18}{P\+Service\+Request} \hyperlink{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}{skn\+\_\+service\+\_\+request\+\_\+create} (\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{P\+Registry\+Entry} pre, int host\+\_\+socket, char $\ast$request)
\item 
double \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\+\_\+duration\+\_\+in\+\_\+milliseconds} (struct timeval $\ast$pstart, struct timeval $\ast$pend)
\item 
int \hyperlink{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{skn\+\_\+udp\+\_\+service\+\_\+request} (\hyperlink{skn__common__headers_8h_a09c39b109fec01639de4bcbf7c481f18}{P\+Service\+Request} psr)
\item 
int \hyperlink{skn__network__helpers_8c_ad148412119d5d8373da1a6859aafda41}{service\+\_\+registry\+\_\+provider} (int i\+\_\+socket, char $\ast$response)
\item 
int \hyperlink{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e}{service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format} (const char $\ast$response)
\item 
\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} \hyperlink{skn__network__helpers_8c_aae9b1fb439eead75521f80120886867e}{service\+\_\+registry\+\_\+valiadated\+\_\+registry} (const char $\ast$response)
\item 
void \hyperlink{skn__network__helpers_8c_ad0e63e9d3365fb8818a5ca21179abb3e}{service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log} (const char $\ast$response)
\item 
\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{P\+Registry\+Entry} \hyperlink{skn__network__helpers_8c_ab5ed70a05f4e20dac13298ae16530069}{service\+\_\+registry\+\_\+find\+\_\+entry} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg, char $\ast$service\+Name)
\item 
int \hyperlink{skn__network__helpers_8c_a88465ff1322cb437fd3b7a1e036fd017}{service\+\_\+registry\+\_\+entry\+\_\+count} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psr)
\item 
int \hyperlink{skn__network__helpers_8c_a16d6920592f2a64c9cab22cb26ef28e1}{service\+\_\+registry\+\_\+list\+\_\+entries} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psr)
\item 
void $\ast$ \hyperlink{skn__network__helpers_8c_a6e35caa22b36caec7dcb3b6585cbb7e3}{service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref} (\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{P\+Registry\+Entry} prent, char $\ast$field)
\item 
\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} \hyperlink{skn__network__helpers_8c_a8a291f1cb8d18e45a3e9b6bc9e3798a6}{service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast} (int i\+\_\+socket, char $\ast$request)
\item 
void \hyperlink{skn__network__helpers_8c_a819c12fc7c8ff576b1aaad69bc098840}{service\+\_\+registry\+\_\+destroy} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
sig\+\_\+atomic\+\_\+t \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\+\_\+exit\+\_\+flag} = \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+UN}
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\+\_\+pch\+\_\+message} = N\+U\+LL
\item 
signed int \hyperlink{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}{gd\+\_\+i\+\_\+debug} = 0
\item 
char \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\+\_\+ch\+\_\+program\+\_\+name} \mbox{[}\hyperlink{skn__common__headers_8h_a442d5e93bd9c9d8eb4532aba62b5f86c}{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\+\_\+ch\+\_\+program\+\_\+desc} \mbox{[}\hyperlink{skn__common__headers_8h_a442d5e93bd9c9d8eb4532aba62b5f86c}{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}\mbox{]}
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\+\_\+pch\+\_\+effective\+\_\+userid} = N\+U\+LL
\item 
int \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\+\_\+i\+\_\+socket} = -\/1
\item 
int \hyperlink{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{gd\+\_\+i\+\_\+display} = 0
\item 
int \hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\+\_\+i\+\_\+update} = 0
\item 
int \hyperlink{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{gd\+\_\+i\+\_\+unique\+\_\+registry} = 0
\item 
char \hyperlink{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}{gd\+\_\+ch\+\_\+ip\+Address} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}{gd\+\_\+ch\+\_\+intf\+Name} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{gd\+\_\+ch\+\_\+host\+Name} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{gd\+\_\+ch\+\_\+host\+Short\+Name} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\+\_\+pch\+\_\+service\+\_\+name}
\item 
int \hyperlink{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}{gd\+\_\+i\+\_\+i2c\+\_\+address} = 0
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!exit\+\_\+handler@{exit\+\_\+handler}}
\index{exit\+\_\+handler@{exit\+\_\+handler}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{exit\+\_\+handler(int sig)}{exit_handler(int sig)}}]{\setlength{\rightskip}{0pt plus 5cm}static void exit\+\_\+handler (
\begin{DoxyParamCaption}
\item[{int}]{sig}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1}{}\label{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1}
Control-\/C Program exit ref\+: \href{http://www.cons.org/cracauer/sigint.html}{\tt http\+://www.\+cons.\+org/cracauer/sigint.\+html} \href{http://www.chemie.fu-berlin.de/chemnet/use/info/libc/libc_21.html#SEC361}{\tt http\+://www.\+chemie.\+fu-\/berlin.\+de/chemnet/use/info/libc/libc\+\_\+21.\+html\#\+S\+E\+C361} 

Definition at line 174 of file skn\+\_\+network\+\_\+helpers.\+c.



References gi\+\_\+exit\+\_\+flag, and S\+D\+\_\+\+N\+O\+T\+I\+CE.



Referenced by signals\+\_\+init().


\begin{DoxyCode}
174                                   \{
175     \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} = sig;
176     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Program Exiting, from signal=%d:%s\(\backslash\)n"}, sig, strsignal(sig));
177 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!generate\+\_\+datetime\+\_\+info@{generate\+\_\+datetime\+\_\+info}}
\index{generate\+\_\+datetime\+\_\+info@{generate\+\_\+datetime\+\_\+info}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{generate\+\_\+datetime\+\_\+info(char $\ast$msg)}{generate_datetime_info(char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int generate\+\_\+datetime\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a8aa6a7a3ba2390cf536e26c6cd2aa840}{}\label{skn__network__helpers_8c_a8aa6a7a3ba2390cf536e26c6cd2aa840}


Definition at line 78 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF, and T\+Z\+\_\+\+A\+D\+J\+U\+ST.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work().


\begin{DoxyCode}
78                                       \{
79     \textcolor{keywordtype}{int} mLen = 0;
80     \textcolor{keyword}{struct }tm *t;
81     time\_t tim;
82 
83     tim = time(NULL);
84     t = localtime(&tim);
85 
86     mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"%02d:%02d:%04d %02d:%02d:%02d"},
87                     t->tm\_mon + 1, t->tm\_mday, t->tm\_year + 1900,
88                     ((t->tm\_hour - \hyperlink{skn__common__headers_8h_a43b19fdfa560dfa392d708c35bc58b37}{TZ\_ADJUST}) < 0 ? (t->tm\_hour - 
      \hyperlink{skn__common__headers_8h_a43b19fdfa560dfa392d708c35bc58b37}{TZ\_ADJUST} + 12) : (t->tm\_hour - \hyperlink{skn__common__headers_8h_a43b19fdfa560dfa392d708c35bc58b37}{TZ\_ADJUST})), t->tm\_min, t->tm\_sec);
89 
90     \textcolor{keywordflow}{return} mLen;
91 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a8aa6a7a3ba2390cf536e26c6cd2aa840_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!generate\+\_\+loadavg\+\_\+info@{generate\+\_\+loadavg\+\_\+info}}
\index{generate\+\_\+loadavg\+\_\+info@{generate\+\_\+loadavg\+\_\+info}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{generate\+\_\+loadavg\+\_\+info(char $\ast$msg)}{generate_loadavg_info(char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int generate\+\_\+loadavg\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_af451ef71d607d9188e02af7079f14263}{}\label{skn__network__helpers_8c_af451ef71d607d9188e02af7079f14263}


Definition at line 45 of file skn\+\_\+network\+\_\+helpers.\+c.



References P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work().


\begin{DoxyCode}
45                                      \{
46     \textcolor{keywordtype}{double} loadavg[4];
47     \textcolor{keywordtype}{int} rc = 0;
48 
49     rc = getloadavg(loadavg, 3);
50 
51     \textcolor{keywordflow}{if} (rc != \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
52         snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"LoadAvg: 1m=%2.1f, 5m=%2.1f, 15m=%2.1F"},
53                  loadavg[0], loadavg[1], loadavg[2]);
54     \} \textcolor{keywordflow}{else} \{
55         snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"Load Average: Not Available  %d:%d:%s"},
56                  rc, errno, strerror(errno));
57     \}
58 
59     \textcolor{keywordflow}{return} rc;
60 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_af451ef71d607d9188e02af7079f14263_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!generate\+\_\+uname\+\_\+info@{generate\+\_\+uname\+\_\+info}}
\index{generate\+\_\+uname\+\_\+info@{generate\+\_\+uname\+\_\+info}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{generate\+\_\+uname\+\_\+info(char $\ast$msg)}{generate_uname_info(char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int generate\+\_\+uname\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_aaf8b0dfb11a3800bb249c6cf90a2537a}{}\label{skn__network__helpers_8c_aaf8b0dfb11a3800bb249c6cf90a2537a}


Definition at line 62 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores(), and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work().


\begin{DoxyCode}
62                                    \{
63     \textcolor{keyword}{struct }utsname info;
64 
65     \textcolor{keywordtype}{int} mLen = 0;
66     \textcolor{keywordtype}{char} * message = \textcolor{stringliteral}{"uname() api failed."};
67 
68     \textcolor{keywordflow}{if} (uname(&info) != 0) \{
69         mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"%s"}, message);
70     \} \textcolor{keywordflow}{else} \{
71         mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"%s %s, %s %s | Cores=%ld"},
72                         info.sysname, info.release, info.version, info.machine,
73                         \hyperlink{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{skn\_get\_number\_of\_cpu\_cores}());
74     \}
75     \textcolor{keywordflow}{return} mLen;
76 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aaf8b0dfb11a3800bb249c6cf90a2537a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aaf8b0dfb11a3800bb249c6cf90a2537a_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!get\+\_\+broadcast\+\_\+ip\+\_\+array@{get\+\_\+broadcast\+\_\+ip\+\_\+array}}
\index{get\+\_\+broadcast\+\_\+ip\+\_\+array@{get\+\_\+broadcast\+\_\+ip\+\_\+array}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{get\+\_\+broadcast\+\_\+ip\+\_\+array(\+P\+I\+P\+Broadcast\+Array pa\+B)}{get_broadcast_ip_array(PIPBroadcastArray paB)}}]{\setlength{\rightskip}{0pt plus 5cm}int get\+\_\+broadcast\+\_\+ip\+\_\+array (
\begin{DoxyParamCaption}
\item[{{\bf P\+I\+P\+Broadcast\+Array}}]{paB}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a}{}\label{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a}
Collect IP and Broadcast Addresses for this machine


\begin{DoxyItemize}
\item Affects the P\+I\+P\+Broadcast\+Array
\item Return -\/1 on error, or count of interfaces
\item contains this ip\+Address in pa\+B-\/$>$ip\+Addr\+Str\mbox{[}pa\+B-\/$>$default\+Index\mbox{]} 
\end{DoxyItemize}

Definition at line 214 of file skn\+\_\+network\+\_\+helpers.\+c.



References A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF, \+\_\+ip\+Broadcast\+Array\+::broad\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::cb\+Name, \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::count, \+\_\+ip\+Broadcast\+Array\+::default\+Index, get\+\_\+default\+\_\+interface\+\_\+name(), \+\_\+ip\+Broadcast\+Array\+::if\+Name\+Str, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::mask\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, S\+D\+\_\+\+E\+RR, and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF.



Referenced by get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address(), service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), service\+\_\+registry\+\_\+provider(), and skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+thread().


\begin{DoxyCode}
214                                                   \{
215     \textcolor{keyword}{struct }ifaddrs * ifap;
216     \textcolor{keyword}{struct }ifaddrs * p;
217     \textcolor{keywordtype}{int} rc = 0;
218 
219     memset(paB, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__ip_broadcast_array}{IPBroadcastArray}));
220     paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count} = 0;
221     paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex} = 0;
222     strcpy(paB->\hyperlink{struct__ip_broadcast_array_a0f592bd31dcc3ce00a349f04ff6bd1ba}{cbName}, \textcolor{stringliteral}{"IPBroadcastArray"});
223 
224     rc = \hyperlink{skn__network__helpers_8c_a6d284e9250411e031cfa4ecb19583696}{get\_default\_interface\_name}(paB->
      \hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName});
225     \textcolor{keywordflow}{if} (rc == EXIT\_FAILURE) \{ \textcolor{comment}{// Alternate method for Mac: 'route -n -A inet'}
226         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"No Default Network Interfaces Found!."});
227         paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}[0] = 0;
228     \}
229     rc = getifaddrs(&ifap);
230     \textcolor{keywordflow}{if} (rc != 0) \{
231         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"No Network Interfaces Found at All ! %d:%d:%s"}, rc, errno, strerror(errno
      ) );
232         \textcolor{keywordflow}{return} (\hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR});
233     \}
234     p = ifap;
235 
236     \textcolor{keywordflow}{while} (p && paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count} < \hyperlink{cmd_d_c_8c_a00b19837422a3b13d82b9a525e92ef51}{ARY\_MAX\_INTF}) \{
237         \textcolor{keywordflow}{if} (p->ifa\_addr != NULL && p->ifa\_addr->sa\_family == AF\_INET && ((p->ifa\_flags & IFF\_BROADCAST) > 0
      )) \{
238 
239             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_addr)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
240             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_netmask)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_a9241c1fbfb22a3ecfe4777863a063eb3}{maskAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
241             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_broadaddr)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
242 
243             strncpy(paB->\hyperlink{struct__ip_broadcast_array_a193b90f271c061e8bf1593bab6a182c9}{ifNameStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], p->ifa\_name, (
      \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} -1));
244 
245             \textcolor{comment}{/* Take match as the default */}
246             \textcolor{keywordflow}{if} (strcmp(paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, p->ifa\_name) == 0) \{
247                 paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex} = paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count};
248             \}
249 
250             paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}++;
251         \}
252         p = p->ifa\_next;
253     \} \textcolor{comment}{// end while}
254     freeifaddrs(ifap);
255 
256     \textcolor{keywordflow}{return} paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count};
257 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!get\+\_\+default\+\_\+interface\+\_\+name@{get\+\_\+default\+\_\+interface\+\_\+name}}
\index{get\+\_\+default\+\_\+interface\+\_\+name@{get\+\_\+default\+\_\+interface\+\_\+name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{get\+\_\+default\+\_\+interface\+\_\+name(char $\ast$pch\+Default\+Interface\+Name)}{get_default_interface_name(char *pchDefaultInterfaceName)}}]{\setlength{\rightskip}{0pt plus 5cm}int get\+\_\+default\+\_\+interface\+\_\+name (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{pch\+Default\+Interface\+Name}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a6d284e9250411e031cfa4ecb19583696}{}\label{skn__network__helpers_8c_a6d284e9250411e031cfa4ecb19583696}
Retrieves default internet interface name into param
\begin{DoxyItemize}
\item absolute best way to do this, but not supported on Darwin(i.\+e O\+SX) return E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS or E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE
\end{DoxyItemize}

\mbox{[}jscott O\+SX\mbox{]}\$ route -\/n get 0.\+0.\+0.\+0 route to\+: default destination\+: default mask\+: default gateway\+: 10.\+21.\+1.\+254 interface\+: en3 flags\+: $<$UP,G\+A\+T\+E\+W\+AY,D\+O\+NE,S\+T\+A\+T\+IC,P\+R\+C\+L\+O\+N\+I\+NG$>$ recvpipe sendpipe ssthresh rtt,msec rttvar hopcount mtu expire 0 0 0 0 0 0 1500 0 

Definition at line 275 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+E\+RR, skn\+\_\+strip(), and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by get\+\_\+broadcast\+\_\+ip\+\_\+array().


\begin{DoxyCode}
275                                                               \{
276     FILE *f\_route;
277     \textcolor{keywordtype}{char} line[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}], *dRoute = NULL, *iName = NULL;
278 
279     f\_route = fopen(\textcolor{stringliteral}{"/proc/net/route"}, \textcolor{stringliteral}{"r"});
280     \textcolor{keywordflow}{if} (f\_route != NULL) \{
281         \textcolor{keywordflow}{while} (fgets(line, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1, f\_route)) \{
282             iName = strtok(line, \textcolor{stringliteral}{"\(\backslash\)t"});
283             dRoute = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)t"});
284 
285             \textcolor{keywordflow}{if} (iName != NULL && dRoute != NULL) \{
286                 \textcolor{keywordflow}{if} (strcmp(dRoute, \textcolor{stringliteral}{"00000000"}) == 0) \{
287                     strncpy(pchDefaultInterfaceName, iName, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1));
288                     \textcolor{keywordflow}{break};
289                 \}
290             \}
291         \}
292         fclose(f\_route);
293 
294         \textcolor{keywordflow}{return} EXIT\_SUCCESS;
295     \}
296     skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"Opening ProcFs for RouteInfo Failed: %d:%s, Alternate method will be
       attempted."}, errno, strerror(errno));
297 
298     f\_route = popen(\textcolor{stringliteral}{"route -n get 0.0.0.0"}, \textcolor{stringliteral}{"r"}); \textcolor{comment}{// for linux 'route -n -A inet', with interface at
       line\_word[7]}
299     \textcolor{keywordflow}{if} (f\_route != NULL) \{
300         \textcolor{keywordflow}{while} (fgets(line, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1, f\_route)) \{
301             dRoute = strtok(line, \textcolor{stringliteral}{":"});
302             iName = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)n"});
303             \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(dRoute), \textcolor{stringliteral}{"interface"}) == 0) \{
304                 strncpy(pchDefaultInterfaceName, \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(iName), (
      \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1));
305                 \textcolor{keywordflow}{break};
306             \}
307         \}
308         fclose(f\_route);
309 
310         \textcolor{keywordflow}{return} EXIT\_SUCCESS;
311     \} \textcolor{keywordflow}{else} \{
312         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"Alternate method to get RouteInfo Failed: %d:%s"}, errno, strerror(errno))
      ;
313         \textcolor{keywordflow}{return} EXIT\_FAILURE;
314     \}
315 
316 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{skn__network__helpers_8c_a6d284e9250411e031cfa4ecb19583696_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a6d284e9250411e031cfa4ecb19583696_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}}
\index{get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address(char $\ast$intf, char $\ast$ipv4)}{get_default_interface_name_and_ipv4_address(char *intf, char *ipv4)}}]{\setlength{\rightskip}{0pt plus 5cm}void get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{intf, }
\item[{char $\ast$}]{ipv4}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a96bf395b914c5182e438800248d6e8f3}{}\label{skn__network__helpers_8c_a96bf395b914c5182e438800248d6e8f3}


Definition at line 196 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::default\+Index, get\+\_\+broadcast\+\_\+ip\+\_\+array(), \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, S\+D\+\_\+\+E\+RR, and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF.



Referenced by main().


\begin{DoxyCode}
196                                                                            \{
197     \hyperlink{struct__ip_broadcast_array}{IPBroadcastArray} aB;
198 
199     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a}{get\_broadcast\_ip\_array}(&aB) != \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
200         memcpy(intf, aB.\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
201         memcpy(ipv4, aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
202     \} \textcolor{keywordflow}{else} \{
203         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"InterfaceName and Address: unable to access information."});
204     \}
205 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a96bf395b914c5182e438800248d6e8f3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{skn__network__helpers_8c_a96bf395b914c5182e438800248d6e8f3_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+create@{service\+\_\+registry\+\_\+create}}
\index{service\+\_\+registry\+\_\+create@{service\+\_\+registry\+\_\+create}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+create()}{service_registry_create()}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf P\+Service\+Registry} service\+\_\+registry\+\_\+create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}{}\label{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}
\hyperlink{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}{service\+\_\+registry\+\_\+create()}


\begin{DoxyItemize}
\item Collection of Services and their locations
\item Returns the Registry 
\end{DoxyItemize}

Definition at line 797 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::cb\+Name, \+\_\+service\+Registry\+::computed\+Max, \+\_\+service\+Registry\+::count, and \+\_\+service\+Registry\+::entry.



Referenced by service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(), and service\+\_\+registry\+\_\+valiadated\+\_\+registry().


\begin{DoxyCode}
797                                                   \{
798     \hyperlink{struct__service_registry}{PServiceRegistry} psreg = NULL;
799 
800     psreg = (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{PServiceRegistry}) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct__service_registry}{ServiceRegistry}));
801     \textcolor{keywordflow}{if} (psreg != NULL) \{
802         memset(psreg, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__service_registry}{ServiceRegistry}));
803         strcpy(psreg->\hyperlink{struct__service_registry_ab822dc7bf25dc0eb498e81f81581e448}{cbName}, \textcolor{stringliteral}{"PServiceRegistry"});
804         psreg->\hyperlink{struct__service_registry_afc84b25f775a67d768cf4915db3c7115}{computedMax} = (\textcolor{keyword}{sizeof}(psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}) / \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void} *));
805         psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count} = 0;
806     \}
807 
808     \textcolor{keywordflow}{return} psreg;
809 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+destroy@{service\+\_\+registry\+\_\+destroy}}
\index{service\+\_\+registry\+\_\+destroy@{service\+\_\+registry\+\_\+destroy}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+destroy(\+P\+Service\+Registry psreg)}{service_registry_destroy(PServiceRegistry psreg)}}]{\setlength{\rightskip}{0pt plus 5cm}void service\+\_\+registry\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a819c12fc7c8ff576b1aaad69bc098840}{}\label{skn__network__helpers_8c_a819c12fc7c8ff576b1aaad69bc098840}
\hyperlink{skn__network__helpers_8c_a819c12fc7c8ff576b1aaad69bc098840}{service\+\_\+registry\+\_\+destroy()}
\begin{DoxyItemize}
\item Free each entry, then the Registry itself. 
\end{DoxyItemize}

Definition at line 1159 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count, and \+\_\+service\+Registry\+::entry.



Referenced by main(), and service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format().


\begin{DoxyCode}
1159                                                       \{
1160     \textcolor{keywordtype}{int} index = 0;
1161 
1162     \textcolor{keywordflow}{if} (psreg == NULL)
1163         \textcolor{keywordflow}{return};
1164 
1165     \textcolor{keywordflow}{for} (index = 0; index < psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}; index++) \{
1166         free(psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]);
1167     \}
1168     free(psreg);
1169 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a819c12fc7c8ff576b1aaad69bc098840_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+entry\+\_\+count@{service\+\_\+registry\+\_\+entry\+\_\+count}}
\index{service\+\_\+registry\+\_\+entry\+\_\+count@{service\+\_\+registry\+\_\+entry\+\_\+count}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+entry\+\_\+count(\+P\+Service\+Registry psr)}{service_registry_entry_count(PServiceRegistry psr)}}]{\setlength{\rightskip}{0pt plus 5cm}int service\+\_\+registry\+\_\+entry\+\_\+count (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psr}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a88465ff1322cb437fd3b7a1e036fd017}{}\label{skn__network__helpers_8c_a88465ff1322cb437fd3b7a1e036fd017}
Returns the number of services in registry 

Definition at line 947 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count.



Referenced by main().


\begin{DoxyCode}
947                                                        \{
948     \textcolor{keywordflow}{return} psr->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count};
949 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{skn__network__helpers_8c_a88465ff1322cb437fd3b7a1e036fd017_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+entry\+\_\+create@{service\+\_\+registry\+\_\+entry\+\_\+create}}
\index{service\+\_\+registry\+\_\+entry\+\_\+create@{service\+\_\+registry\+\_\+entry\+\_\+create}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+entry\+\_\+create(\+P\+Service\+Registry psreg, char $\ast$name, char $\ast$ip, char $\ast$port, int $\ast$errors)}{service_registry_entry_create(PServiceRegistry psreg, char *name, char *ip, char *port, int *errors)}}]{\setlength{\rightskip}{0pt plus 5cm}static int service\+\_\+registry\+\_\+entry\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg, }
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{ip, }
\item[{char $\ast$}]{port, }
\item[{int $\ast$}]{errors}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a}{}\label{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a}
\hyperlink{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a}{service\+\_\+registry\+\_\+entry\+\_\+create()}


\begin{DoxyItemize}
\item Create a Service Entry and adds it to the Registry collection
\item Returns E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E/\+S\+U\+C\+C\+E\+SS 
\end{DoxyItemize}

Definition at line 817 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Entry\+::cb\+Name, \+\_\+service\+Registry\+::computed\+Max, \+\_\+service\+Registry\+::count, \+\_\+service\+Registry\+::entry, gd\+\_\+i\+\_\+unique\+\_\+registry, \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, \+\_\+service\+Entry\+::port, S\+D\+\_\+\+D\+E\+B\+UG, S\+D\+\_\+\+W\+A\+R\+N\+I\+NG, and service\+\_\+registry\+\_\+find\+\_\+entry().



Referenced by service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
817                                                                                                            
           \{
818     \hyperlink{struct__service_entry}{PRegistryEntry} prent = NULL;
819 
820     \textcolor{keywordflow}{if} ((psreg == NULL) || (name == NULL) || (ip == NULL) || (port == NULL)) \{
821         skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Parse failure missing value: (%s,%s,%s)"}, name, ip, port);
822         \textcolor{keywordflow}{if} (errors != NULL)
823             (*errors)++;
824         \textcolor{keywordflow}{return} EXIT\_FAILURE;
825     \}
826 
827     \textcolor{keywordflow}{if} (psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count} >= psreg->\hyperlink{struct__service_registry_afc84b25f775a67d768cf4915db3c7115}{computedMax}) \{
828         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Capacity Error: Too many! New entry %d:%s exceeds maximum of %d
       allowed! Consider using the --unique-registry option."}, psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}, name, psreg->
      \hyperlink{struct__service_registry_afc84b25f775a67d768cf4915db3c7115}{computedMax});
829         \textcolor{keywordflow}{if} (errors != NULL)
830             (*errors)++;
831         \textcolor{keywordflow}{return} EXIT\_FAILURE;
832     \}
833 
834     \textcolor{comment}{/* update or create entry */}
835     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{gd\_i\_unique\_registry}) \{
836         prent = \hyperlink{skn__network__helpers_8c_ab5ed70a05f4e20dac13298ae16530069}{service\_registry\_find\_entry}(psreg, name);
837     \}
838     \textcolor{keywordflow}{if} (prent == NULL) \{
839         prent = (\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{PRegistryEntry}) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct__service_entry}{RegistryEntry}));
840         \textcolor{keywordflow}{if} (prent != NULL) \{
841             psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}] = prent;
842             psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}++;
843         \}
844     \}
845 
846     \textcolor{keywordflow}{if} (prent != NULL) \{
847         memset(prent, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__service_entry}{RegistryEntry}));
848         strcpy(prent->\hyperlink{struct__service_entry_ac654e9e33bf977ee6c36c46af83fbdd4}{cbName}, \textcolor{stringliteral}{"PRegistryEntry"});
849         strcpy(prent->\hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, name);
850         strcpy(prent->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, ip);
851         prent->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port} = atoi(port);
852     \} \textcolor{keywordflow}{else} \{
853         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Internal Memory Error: Could not allocate memory for entry %d:%s
       !"}, name, psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count});
854         \textcolor{keywordflow}{if} (errors != NULL)
855             (*errors)++;
856 
857         \textcolor{keywordflow}{return} EXIT\_FAILURE;
858     \}
859 
860     \textcolor{keywordflow}{return} psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count};
861 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper@{service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper}}
\index{service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper@{service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper(char $\ast$key, char $\ast$$\ast$name, char $\ast$$\ast$ip, char $\ast$$\ast$port)}{service_registry_entry_create_helper(char *key, char **name, char **ip, char **port)}}]{\setlength{\rightskip}{0pt plus 5cm}static void $\ast$ service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{key, }
\item[{char $\ast$$\ast$}]{name, }
\item[{char $\ast$$\ast$}]{ip, }
\item[{char $\ast$$\ast$}]{port}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a}{}\label{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a}
\hyperlink{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a}{service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper()}
\begin{DoxyItemize}
\item Determines which field should be updated
\item compute the address of each field on demand, from local vars
\item Returns the address offset of the registry field requested 
\end{DoxyItemize}

Definition at line 993 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+strip().



Referenced by service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
993                                                                                                    \{
994     \textcolor{keywordtype}{int} index = 0;
995     \textcolor{keywordtype}{char} * guess = NULL;
996     \textcolor{keywordtype}{void} * result = NULL;
997     \textcolor{keywordtype}{char} * names[4] = \{ \textcolor{stringliteral}{"name"}, \textcolor{stringliteral}{"ip"}, \textcolor{stringliteral}{"port"}, NULL \};
998     \textcolor{keywordtype}{void} * offsets[] = \{ name, ip, port, NULL \};
999 
1000     \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(key); \textcolor{comment}{// cleanup first}
1001     \textcolor{keywordflow}{for} (index = 0; names[index] != NULL; index++) \{ \textcolor{comment}{// find direct match}
1002         \textcolor{keywordflow}{if} (strcmp(names[index], key) == 0) \{
1003             result = offsets[index];
1004             \textcolor{keywordflow}{break};
1005         \}
1006     \}
1007     \textcolor{keywordflow}{if} (result == NULL) \{ \textcolor{comment}{// try to guess what the key is}
1008         \textcolor{keywordflow}{if} ((guess = strstr(key, \textcolor{stringliteral}{"e"})) != NULL) \{
1009             result = offsets[0];
1010         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((guess = strstr(key, \textcolor{stringliteral}{"i"})) != NULL) \{
1011             result = offsets[1];
1012         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((guess = strstr(key, \textcolor{stringliteral}{"t"})) != NULL) \{
1013             result = offsets[2];
1014         \}
1015     \}
1016 
1017     \textcolor{keywordflow}{return} result;
1018 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log@{service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log}}
\index{service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log@{service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log(const char $\ast$response)}{service_registry_entry_response_message_log(const char *response)}}]{\setlength{\rightskip}{0pt plus 5cm}void service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{response}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ad0e63e9d3365fb8818a5ca21179abb3e}{}\label{skn__network__helpers_8c_ad0e63e9d3365fb8818a5ca21179abb3e}
\hyperlink{skn__network__helpers_8c_ad0e63e9d3365fb8818a5ca21179abb3e}{service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log()}


\begin{DoxyItemize}
\item Prints each pair of values from a text registry entry 
\end{DoxyItemize}

Definition at line 907 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+N\+O\+T\+I\+CE.



Referenced by main(), and service\+\_\+registry\+\_\+provider().


\begin{DoxyCode}
907                                                                         \{
908     \textcolor{keywordtype}{char} * worker = NULL, *parser = NULL, *base = strdup(response);
909     parser = base;
910     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Response Message:"});
911     \textcolor{keywordflow}{while} (( ((worker = strsep(&parser, \textcolor{stringliteral}{"|"})) != NULL) ||
912           ((worker = strsep(&parser, \textcolor{stringliteral}{"%"})) != NULL) ||
913           ((worker = strsep(&parser, \textcolor{stringliteral}{";"})) != NULL)) &&
914           (strlen(worker) > 8)) \{
915         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"[%s]"}, worker);
916     \}
917     free(base);
918 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad0e63e9d3365fb8818a5ca21179abb3e_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+find\+\_\+entry@{service\+\_\+registry\+\_\+find\+\_\+entry}}
\index{service\+\_\+registry\+\_\+find\+\_\+entry@{service\+\_\+registry\+\_\+find\+\_\+entry}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+find\+\_\+entry(\+P\+Service\+Registry psreg, char $\ast$service\+Name)}{service_registry_find_entry(PServiceRegistry psreg, char *serviceName)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Registry\+Entry} service\+\_\+registry\+\_\+find\+\_\+entry (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg, }
\item[{char $\ast$}]{service\+Name}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ab5ed70a05f4e20dac13298ae16530069}{}\label{skn__network__helpers_8c_ab5ed70a05f4e20dac13298ae16530069}
\hyperlink{skn__network__helpers_8c_ab5ed70a05f4e20dac13298ae16530069}{service\+\_\+registry\+\_\+find\+\_\+entry()}


\begin{DoxyItemize}
\item Finds an existing entry
\item Returns E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E/\+S\+U\+C\+C\+E\+SS 
\end{DoxyItemize}

Definition at line 926 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::entry, and \+\_\+service\+Entry\+::name.



Referenced by main(), and service\+\_\+registry\+\_\+entry\+\_\+create().


\begin{DoxyCode}
926                                                                                       \{
927     \hyperlink{struct__service_entry}{PRegistryEntry} prent = NULL;
928     \textcolor{keywordtype}{int} index = 0;
929 
930     \textcolor{keywordflow}{if} (psreg == NULL)
931         \textcolor{keywordflow}{return} NULL;
932 
933     \textcolor{keywordflow}{while} (index < psreg->count) \{
934         \textcolor{keywordflow}{if} (strcmp(serviceName, psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->\hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}) == 0) \{
935             prent = psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index];
936             \textcolor{keywordflow}{break};
937         \}
938         index++;
939     \}
940 
941     \textcolor{keywordflow}{return} prent;
942 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ab5ed70a05f4e20dac13298ae16530069_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref@{service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref}}
\index{service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref@{service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref(\+P\+Registry\+Entry prent, char $\ast$field)}{service_registry_get_entry_field_ref(PRegistryEntry prent, char *field)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref (
\begin{DoxyParamCaption}
\item[{{\bf P\+Registry\+Entry}}]{prent, }
\item[{char $\ast$}]{field}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a6e35caa22b36caec7dcb3b6585cbb7e3}{}\label{skn__network__helpers_8c_a6e35caa22b36caec7dcb3b6585cbb7e3}
\hyperlink{skn__network__helpers_8c_a6e35caa22b36caec7dcb3b6585cbb7e3}{service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref()}
\begin{DoxyItemize}
\item compute the address of each field on demand, from struct
\item Returns the address offset of the registry field requested 
\end{DoxyItemize}

Definition at line 969 of file skn\+\_\+network\+\_\+helpers.\+c.


\begin{DoxyCode}
969                                                                                \{
970     \textcolor{keywordtype}{int} index = 0;
971     \textcolor{keywordtype}{void} * result = NULL;
972     \textcolor{keywordtype}{char} * names[4] = \{ \textcolor{stringliteral}{"name"}, \textcolor{stringliteral}{"ip"}, \textcolor{stringliteral}{"port"}, NULL \};
973     \textcolor{keywordtype}{int} offsets[4] = \{ offsetof(\hyperlink{struct__service_entry}{RegistryEntry}, name),
974                        offsetof(\hyperlink{struct__service_entry}{RegistryEntry}, ip),
975                        offsetof(\hyperlink{struct__service_entry}{RegistryEntry}, port),
976                        0
977                      \};
978     \textcolor{keywordflow}{for} (index = 0; names[index] != NULL; index++) \{
979         \textcolor{keywordflow}{if} (strcmp(names[index], field) == 0) \{
980             result = (\textcolor{keywordtype}{void} *) prent + offsets[index];
981             \textcolor{keywordflow}{break};
982         \}
983     \}
984     \textcolor{keywordflow}{return} result;
985 \}
\end{DoxyCode}
\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast@{service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast}}
\index{service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast@{service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(int i\+\_\+socket, char $\ast$request)}{service_registry_get_via_udp_broadcast(int i_socket, char *request)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Service\+Registry} service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast (
\begin{DoxyParamCaption}
\item[{int}]{i\+\_\+socket, }
\item[{char $\ast$}]{request}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a8a291f1cb8d18e45a3e9b6bc9e3798a6}{}\label{skn__network__helpers_8c_a8a291f1cb8d18e45a3e9b6bc9e3798a6}
\hyperlink{skn__network__helpers_8c_a8a291f1cb8d18e45a3e9b6bc9e3798a6}{service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast()}


\begin{DoxyItemize}
\item Retrieves entries from every service that responds to the broadcast parses and builds a new Registry of all entries, or unique entries.
\item Returns Populated Registry 
\end{DoxyItemize}

Definition at line 1094 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+ip\+Broadcast\+Array\+::broad\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::count, \+\_\+ip\+Broadcast\+Array\+::default\+Index, gd\+\_\+ch\+\_\+intf\+Name, gd\+\_\+ch\+\_\+ip\+Address, get\+\_\+broadcast\+\_\+ip\+\_\+array(), gi\+\_\+exit\+\_\+flag, \+\_\+ip\+Broadcast\+Array\+::if\+Name\+Str, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, S\+D\+\_\+\+D\+E\+B\+UG, S\+D\+\_\+\+E\+M\+E\+RG, S\+D\+\_\+\+N\+O\+T\+I\+CE, S\+D\+\_\+\+W\+A\+R\+N\+I\+NG, service\+\_\+registry\+\_\+create(), service\+\_\+registry\+\_\+response\+\_\+parse(), skn\+\_\+duration\+\_\+in\+\_\+milliseconds(), S\+K\+N\+\_\+\+F\+I\+N\+D\+\_\+\+R\+P\+I\+\_\+\+P\+O\+RT, S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+UN, S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by main().


\begin{DoxyCode}
1094                                                                                      \{
1095     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
1096     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
1097     \hyperlink{struct__ip_broadcast_array}{IPBroadcastArray} aB;
1098     \textcolor{keywordtype}{int} vIndex = 0;
1099     \textcolor{keywordtype}{char} response[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
1100     \textcolor{keywordtype}{char} recvHostName[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
1101     \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int} rLen = 0;
1102     \textcolor{keyword}{struct }timeval start;
1103 
1104     memset(response, 0, \textcolor{keyword}{sizeof}(response));
1105     memset(recvHostName, 0, \textcolor{keyword}{sizeof}(recvHostName));
1106 
1107     \hyperlink{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a}{get\_broadcast\_ip\_array}(&aB);
1108     strncpy(\hyperlink{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}{gd\_ch\_intfName}, aB.\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, 
      \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
1109     strncpy(\hyperlink{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}{gd\_ch\_ipAddress}, aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.
      \hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
1110 
1111     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Socket Bound to %s"}, aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.
      \hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}]);
1112 
1113     gettimeofday(&start, NULL);
1114     \textcolor{keywordflow}{for} (vIndex = 0; vIndex < aB.\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}; vIndex++) \{
1115         memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
1116         remaddr.sin\_family = AF\_INET;
1117         remaddr.sin\_addr.s\_addr = inet\_addr(aB.\hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[vIndex]);
1118         remaddr.sin\_port = htons(\hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
1119 
1120         \textcolor{keywordflow}{if} (sendto(i\_socket, request, strlen(request), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr, addrlen) < 0) \{
1121             skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"SendTo() Timed out; Failure code=%d, etext=%s"}, errno, 
      strerror(errno));
1122             \textcolor{keywordflow}{break};
1123         \}
1124         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Message Broadcasted on %s:%s:%d"}, aB.
      \hyperlink{struct__ip_broadcast_array_a193b90f271c061e8bf1593bab6a182c9}{ifNameStr}[vIndex], aB.\hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[vIndex], 
      \hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
1125     \}
1126 
1127     \hyperlink{struct__service_registry}{PServiceRegistry} psr = \hyperlink{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}{service\_registry\_create}();
1128     skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Waiting for all responses\(\backslash\)n"});
1129     \textcolor{keywordflow}{while} (\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} == \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN}) \{ \textcolor{comment}{// depends on a socket timeout
       of 5 seconds}
1130 
1131         rLen = recvfrom(i\_socket, response, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr
      , &addrlen);
1132         \textcolor{keywordflow}{if} (rLen == \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{  \textcolor{comment}{// EAGAIN}
1133             \textcolor{keywordflow}{break};
1134         \}
1135         response[rLen] = 0;
1136 
1137         rLen = getnameinfo(((\textcolor{keyword}{struct} sockaddr *) &remaddr), \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} sockaddr\_in), recvHostName, (
      \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1), NULL, 0, NI\_DGRAM);
1138         \textcolor{keywordflow}{if} (rLen != 0) \{
1139             skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"getnameinfo() failed: %s\(\backslash\)n"}, gai\_strerror(rLen));
1140             \textcolor{keywordflow}{break};
1141         \}
1142 
1143         skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Response(%1.3fs) received from %s @ %s:%d"},
1144                         \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start, NULL),
1145                         recvHostName,
1146                         inet\_ntoa(remaddr.sin\_addr),
1147                         ntohs(remaddr.sin\_port)
1148                   );
1149         \hyperlink{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}{service\_registry\_response\_parse}(psr, response, NULL);
1150     \}
1151 
1152     \textcolor{keywordflow}{return} (psr);
1153 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a8a291f1cb8d18e45a3e9b6bc9e3798a6_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{skn__network__helpers_8c_a8a291f1cb8d18e45a3e9b6bc9e3798a6_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+list\+\_\+entries@{service\+\_\+registry\+\_\+list\+\_\+entries}}
\index{service\+\_\+registry\+\_\+list\+\_\+entries@{service\+\_\+registry\+\_\+list\+\_\+entries}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+list\+\_\+entries(\+P\+Service\+Registry psr)}{service_registry_list_entries(PServiceRegistry psr)}}]{\setlength{\rightskip}{0pt plus 5cm}int service\+\_\+registry\+\_\+list\+\_\+entries (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psr}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a16d6920592f2a64c9cab22cb26ef28e1}{}\label{skn__network__helpers_8c_a16d6920592f2a64c9cab22cb26ef28e1}
Logs each entry in service registry 

Definition at line 954 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count, \+\_\+service\+Registry\+::entry, \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, \+\_\+service\+Entry\+::port, and S\+D\+\_\+\+I\+N\+FO.



Referenced by main().


\begin{DoxyCode}
954                                                         \{
955     \textcolor{keywordtype}{int} index = 0;
956 
957     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nServiceRegistry:"});
958     \textcolor{keywordflow}{for} (index = 0; index < psr->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}; index++) \{
959         skn\_logger(\hyperlink{skn__common__headers_8h_a1bcf100bcdd91eacaf0b05d83c88aedf}{SD\_INFO}, \textcolor{stringliteral}{"RegistryEntry(%02d) name=%s, ip=%s, port=%d"}, index, psr->
      \hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->\hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, psr->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, psr->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->
      \hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
960     \}
961     \textcolor{keywordflow}{return} index;
962 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=257pt]{skn__network__helpers_8c_a16d6920592f2a64c9cab22cb26ef28e1_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+provider@{service\+\_\+registry\+\_\+provider}}
\index{service\+\_\+registry\+\_\+provider@{service\+\_\+registry\+\_\+provider}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+provider(int i\+\_\+socket, char $\ast$response)}{service_registry_provider(int i_socket, char *response)}}]{\setlength{\rightskip}{0pt plus 5cm}int service\+\_\+registry\+\_\+provider (
\begin{DoxyParamCaption}
\item[{int}]{i\+\_\+socket, }
\item[{char $\ast$}]{response}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ad148412119d5d8373da1a6859aafda41}{}\label{skn__network__helpers_8c_ad148412119d5d8373da1a6859aafda41}


Definition at line 692 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::default\+Index, gd\+\_\+i\+\_\+display, gd\+\_\+pch\+\_\+service\+\_\+name, get\+\_\+broadcast\+\_\+ip\+\_\+array(), gi\+\_\+exit\+\_\+flag, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, S\+D\+\_\+\+D\+E\+B\+UG, S\+D\+\_\+\+E\+M\+E\+RG, S\+D\+\_\+\+E\+RR, S\+D\+\_\+\+N\+O\+T\+I\+CE, service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log(), service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(), S\+K\+N\+\_\+\+F\+I\+N\+D\+\_\+\+R\+P\+I\+\_\+\+P\+O\+RT, S\+K\+N\+\_\+\+R\+P\+I\+\_\+\+D\+I\+S\+P\+L\+A\+Y\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+P\+O\+RT, S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+UN, S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by main().


\begin{DoxyCode}
692                                                             \{
693     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
694     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
695     \hyperlink{struct__ip_broadcast_array}{IPBroadcastArray} aB;
696     \textcolor{keywordtype}{char} request[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
697     \textcolor{keywordtype}{char} recvHostName[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
698     \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int} rLen = 0, rc = 0;
699     \textcolor{keywordtype}{int} exit\_code = EXIT\_SUCCESS, i\_response\_len = 0;
700 
701 
702     memset(request, 0, \textcolor{keyword}{sizeof}(request));
703     memset(recvHostName, 0, \textcolor{keyword}{sizeof}(recvHostName));
704 
705     rc = \hyperlink{skn__network__helpers_8c_a0b4821586a5c3d59096cb20dc6b28b2a}{get\_broadcast\_ip\_array}(&aB);
706     \textcolor{keywordflow}{if} (rc == \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
707         \textcolor{keywordflow}{return} EXIT\_FAILURE;
708     \}
709 
710     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} == NULL) \{
711         \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} = \textcolor{stringliteral}{"lcd\_display\_service"};
712     \}
713 
714     \textcolor{keywordflow}{if} (strlen(response) < 16) \{
715         \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{gd\_i\_display}) \{
716             i\_response\_len = snprintf(response, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1),
717                      \textcolor{stringliteral}{"name=rpi\_locator\_service,ip=%s,port=%d|"}
718                      \textcolor{stringliteral}{"name=%s,ip=%s,port=%d|"},
719                      aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT},
720                      \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name},
721                      aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{skn__common__headers_8h_a438e6442bfb3d18e1846357cf7379216}{SKN\_RPI\_DISPLAY\_SERVICE\_PORT});
722         \} \textcolor{keywordflow}{else} \{
723             i\_response\_len = snprintf(response, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1),
724                             \textcolor{stringliteral}{"name=rpi\_locator\_service,ip=%s,port=%d|"},
725                             aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
726         \}
727     \}
728     \hyperlink{skn__network__helpers_8c_ad0e63e9d3365fb8818a5ca21179abb3e}{service\_registry\_entry\_response\_message\_log}(response);
729 
730     skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Socket Bound to %s:%s"}, aB.\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, aB.
      \hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}]);
731 
732     \textcolor{keywordflow}{while} (\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} == \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN}) \{
733         memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
734         remaddr.sin\_family = AF\_INET;
735         remaddr.sin\_port = htons(\hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
736         remaddr.sin\_addr.s\_addr = htonl(INADDR\_ANY);
737         addrlen = \textcolor{keyword}{sizeof}(remaddr);
738 
739         \textcolor{keywordflow}{if} ((rLen = recvfrom(i\_socket, request, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1), 0, (\textcolor{keyword}{struct} sockaddr *) &
      remaddr, &addrlen)) < 0) \{
740             \textcolor{keywordflow}{if} (errno == EAGAIN) \{
741                 \textcolor{keywordflow}{continue};
742             \}
743             skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"RcvFrom() Failure code=%d, etext=%s"}, errno, strerror(errno));
744             exit\_code = EXIT\_FAILURE;
745             \textcolor{keywordflow}{break};
746         \}
747         request[rLen] = 0;
748 
749         rc = getnameinfo(((\textcolor{keyword}{struct} sockaddr *) &remaddr), \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} sockaddr\_in), recvHostName, (
      \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}-1), NULL, 0, NI\_DGRAM);
750         \textcolor{keywordflow}{if} (rc != 0) \{
751             skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"GetNameInfo() Failure code=%d, etext=%s"}, errno, strerror(errno));
752             exit\_code = EXIT\_FAILURE;
753             \textcolor{keywordflow}{break};
754         \}
755         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Received request from %s @ %s:%d"}, recvHostName, inet\_ntoa(remaddr.
      sin\_addr), ntohs(remaddr.sin\_port));
756         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Request data: [%s]\(\backslash\)n"}, request);
757 
758         \textcolor{comment}{/*}
759 \textcolor{comment}{         * Add new registry entry by command */}
760         \textcolor{keywordflow}{if} ((strncmp(\textcolor{stringliteral}{"ADD "}, request, \textcolor{keyword}{sizeof}(\textcolor{stringliteral}{"ADD"})) == 0) &&
761             (\hyperlink{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e}{service\_registry\_valiadate\_response\_format}(&request[
      4]) == EXIT\_SUCCESS)) \{
762             \textcolor{keywordflow}{if} ((response[i\_response\_len-1] == \textcolor{charliteral}{'|'}) ||
763                 (response[i\_response\_len-1] == \textcolor{charliteral}{'%'}) ||
764                 (response[i\_response\_len-1] == \textcolor{charliteral}{';'})) \{
765                 strncpy(&response[i\_response\_len], &request[4], ((\hyperlink{cmd_d_c_8c_a352051a682a5205841c1bda6e30bb30d}{SZ\_COMM\_BUFF} - 1) - (strlen(
      response) + strlen(&request[4]))) );
766                 i\_response\_len += (rLen - 4);
767                 skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"COMMAND: Add New RegistryEntry Request Accepted!"});
768             \}
769         \}
770 
771         \textcolor{keywordflow}{if} (sendto(i\_socket, response, strlen(response), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr, addrlen) < 0) \{
772             skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"SendTo() Failure code=%d, etext=%s"}, errno, strerror(errno));
773             exit\_code = EXIT\_FAILURE;
774             \textcolor{keywordflow}{break};
775         \}
776 
777         \textcolor{comment}{/*}
778 \textcolor{comment}{         * Shutdown by command */}
779         \textcolor{keywordflow}{if} (strcmp(\textcolor{stringliteral}{"QUIT!"}, request) == 0) \{
780             skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"COMMAND: Shutdown Requested! exit code=%d"}, 
      \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag});
781             \textcolor{keywordflow}{break};
782         \}
783     \}
784 
785     \textcolor{keywordflow}{return} exit\_code;
786 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad148412119d5d8373da1a6859aafda41_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=281pt]{skn__network__helpers_8c_ad148412119d5d8373da1a6859aafda41_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+response\+\_\+parse@{service\+\_\+registry\+\_\+response\+\_\+parse}}
\index{service\+\_\+registry\+\_\+response\+\_\+parse@{service\+\_\+registry\+\_\+response\+\_\+parse}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+response\+\_\+parse(\+P\+Service\+Registry psreg, const char $\ast$response, int $\ast$errors)}{service_registry_response_parse(PServiceRegistry psreg, const char *response, int *errors)}}]{\setlength{\rightskip}{0pt plus 5cm}static int service\+\_\+registry\+\_\+response\+\_\+parse (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg, }
\item[{const char $\ast$}]{response, }
\item[{int $\ast$}]{errors}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}{}\label{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}
\hyperlink{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}{service\+\_\+registry\+\_\+response\+\_\+parse()}

Parse this response message, guess spellings, skip invalid, export error count

Format\+: name=rpi\+\_\+locator\+\_\+service,ip=10.\+100.\+1.\+19,port=48028$\vert$ name=lcd\+\_\+display\+\_\+service,ip=10.\+100.\+1.\+19,port=48029$\vert$

the vertical bar char \textquotesingle{}$\vert$\textquotesingle{} is the line separator, \% and ; are also supported 

Definition at line 1031 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count, S\+D\+\_\+\+W\+A\+R\+N\+I\+NG, service\+\_\+registry\+\_\+entry\+\_\+create(), service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper(), and skn\+\_\+strip().



Referenced by service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(), and service\+\_\+registry\+\_\+valiadated\+\_\+registry().


\begin{DoxyCode}
1031                                                                                                       \{
1032     \textcolor{keywordtype}{int} control = 1;
1033     \textcolor{keywordtype}{char} *base = NULL, *psep = NULL, *resp = NULL, *line = NULL,
1034          *keypair = NULL, *element = NULL,
1035          *name = NULL, *ip = NULL, *pport = NULL,
1036          **meta = NULL;
1037 
1038     base = resp = strdup(response);
1039 
1040     \textcolor{keywordflow}{if} (strstr(response, \textcolor{stringliteral}{"|"})) \{
1041         psep = \textcolor{stringliteral}{"|"};
1042     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strstr(response, \textcolor{stringliteral}{"%"})) \{
1043         psep = \textcolor{stringliteral}{"%"};
1044     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strstr(response, \textcolor{stringliteral}{";"})) \{
1045         psep = \textcolor{stringliteral}{";"};
1046     \}
1047 
1048     \textcolor{keywordflow}{while} ((line = strsep(&resp, psep)) != NULL) \{
1049         \textcolor{keywordflow}{if} (strlen(line) < 16) \{
1050             \textcolor{keywordflow}{continue};
1051         \}
1052 
1053         pport = ip = name = NULL;
1054         \textcolor{keywordflow}{while} ((keypair = strsep(&line, \textcolor{stringliteral}{","})) != NULL) \{
1055             \textcolor{keywordflow}{if} (strlen(keypair) < 1) \{
1056                 \textcolor{keywordflow}{continue};
1057             \}
1058 
1059             control = 1;
1060             element = strstr(keypair, \textcolor{stringliteral}{"="});
1061             \textcolor{keywordflow}{if} (element != NULL) \{
1062                 element[0] = 0;
1063                 meta = \hyperlink{skn__network__helpers_8c_ae671be512539874689abbab598f9f65a}{service\_registry\_entry\_create\_helper}(keypair, &
      name, &ip, &pport);
1064                 \textcolor{keywordflow}{if} (meta != NULL && (element[1] != 0)) \{
1065                     *meta = \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(++element);
1066                 \} \textcolor{keywordflow}{else} \{
1067                     control = 0;
1068                     \textcolor{keywordflow}{if} (errors != NULL)
1069                         (*errors)++;
1070                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Response format failure: for name=%s, ip=%s, port=%s,
       first failing entry: [%s]"}, name, ip, pport, keypair);
1071                     \textcolor{keywordflow}{break};
1072                 \}
1073             \}
1074         \} \textcolor{comment}{// end while line}
1075 
1076         \textcolor{keywordflow}{if} (control == 1) \{ \textcolor{comment}{// catch a breakout caused by no value}
1077             \hyperlink{skn__network__helpers_8c_a5e51f7d19b5d689be44036a57e056e7a}{service\_registry\_entry\_create}(psreg, name, ip, pport, errors);
1078         \}
1079 
1080     \} \textcolor{comment}{// end while buffer}
1081 
1082     free(base);
1083     \textcolor{keywordflow}{return} psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count};
1084 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format@{service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format}}
\index{service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format@{service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(const char $\ast$response)}{service_registry_valiadate_response_format(const char *response)}}]{\setlength{\rightskip}{0pt plus 5cm}int service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{response}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e}{}\label{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e}
\hyperlink{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e}{service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format()}


\begin{DoxyItemize}
\item Validates a text registry entry format
\item Returns E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E/\+S\+U\+C\+C\+E\+SS 
\end{DoxyItemize}

Definition at line 869 of file skn\+\_\+network\+\_\+helpers.\+c.



References service\+\_\+registry\+\_\+create(), service\+\_\+registry\+\_\+destroy(), and service\+\_\+registry\+\_\+response\+\_\+parse().



Referenced by main(), and service\+\_\+registry\+\_\+provider().


\begin{DoxyCode}
869                                                                      \{
870     \textcolor{keywordtype}{int} errors = 0; \textcolor{comment}{// false}
871 
872     \hyperlink{struct__service_registry}{PServiceRegistry} psr = \hyperlink{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}{service\_registry\_create}();
873     \hyperlink{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}{service\_registry\_response\_parse}(psr, response, &errors);
874     \hyperlink{skn__network__helpers_8c_a819c12fc7c8ff576b1aaad69bc098840}{service\_registry\_destroy}(psr);
875 
876     \textcolor{keywordflow}{if} (errors > 0) \{
877         \textcolor{keywordflow}{return} EXIT\_FAILURE; \textcolor{comment}{// false}
878     \} \textcolor{keywordflow}{else} \{
879         \textcolor{keywordflow}{return} EXIT\_SUCCESS; \textcolor{comment}{// true}
880     \}
881 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a866cf7e5524cc49a76448c59395a622e_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!service\+\_\+registry\+\_\+valiadated\+\_\+registry@{service\+\_\+registry\+\_\+valiadated\+\_\+registry}}
\index{service\+\_\+registry\+\_\+valiadated\+\_\+registry@{service\+\_\+registry\+\_\+valiadated\+\_\+registry}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{service\+\_\+registry\+\_\+valiadated\+\_\+registry(const char $\ast$response)}{service_registry_valiadated_registry(const char *response)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Service\+Registry} service\+\_\+registry\+\_\+valiadated\+\_\+registry (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{response}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_aae9b1fb439eead75521f80120886867e}{}\label{skn__network__helpers_8c_aae9b1fb439eead75521f80120886867e}
\hyperlink{skn__network__helpers_8c_aae9b1fb439eead75521f80120886867e}{service\+\_\+registry\+\_\+valiadated\+\_\+registry()}


\begin{DoxyItemize}
\item Validate the text formatted entry and return registry collection
\item Returns a Registry with one entry 
\end{DoxyItemize}

Definition at line 889 of file skn\+\_\+network\+\_\+helpers.\+c.



References service\+\_\+registry\+\_\+create(), and service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
889                                                                             \{
890     \textcolor{keywordtype}{int} errors = 0;
891 
892     \hyperlink{struct__service_registry}{PServiceRegistry} psr = \hyperlink{skn__network__helpers_8c_afb305f4b4db81aad61bd5e4e6ecaf6fd}{service\_registry\_create}();
893     \hyperlink{skn__network__helpers_8c_a25149d495d462b7600eb6715da868200}{service\_registry\_response\_parse}(psr, response, &errors);
894     \textcolor{keywordflow}{if} (errors > 0) \{
895         free(psr);
896         \textcolor{keywordflow}{return} NULL; \textcolor{comment}{// false}
897     \}
898 
899     \textcolor{keywordflow}{return} psr;
900 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aae9b1fb439eead75521f80120886867e_cgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!signals\+\_\+cleanup@{signals\+\_\+cleanup}}
\index{signals\+\_\+cleanup@{signals\+\_\+cleanup}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{signals\+\_\+cleanup(int sig)}{signals_cleanup(int sig)}}]{\setlength{\rightskip}{0pt plus 5cm}void signals\+\_\+cleanup (
\begin{DoxyParamCaption}
\item[{int}]{sig}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ac256e2066453ab0ff82322aa24b161df}{}\label{skn__network__helpers_8c_ac256e2066453ab0ff82322aa24b161df}


Definition at line 185 of file skn\+\_\+network\+\_\+helpers.\+c.



References gi\+\_\+exit\+\_\+flag, and S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+UN.



Referenced by main().


\begin{DoxyCode}
185                               \{
186     signal(SIGINT, SIG\_DFL);
187     signal(SIGQUIT, SIG\_DFL);
188     signal(SIGTERM, SIG\_DFL);
189 
190     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} > \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN}) \{ \textcolor{comment}{// exit caused by some interrupt --
       otherwise it would be exactly 0}
191         kill(getpid(), sig);
192     \}
193 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{skn__network__helpers_8c_ac256e2066453ab0ff82322aa24b161df_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!signals\+\_\+init@{signals\+\_\+init}}
\index{signals\+\_\+init@{signals\+\_\+init}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{signals\+\_\+init()}{signals_init()}}]{\setlength{\rightskip}{0pt plus 5cm}void signals\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a6af44fa0e0746d3d2a804fea1e84dacd}{}\label{skn__network__helpers_8c_a6af44fa0e0746d3d2a804fea1e84dacd}


Definition at line 179 of file skn\+\_\+network\+\_\+helpers.\+c.



References exit\+\_\+handler().



Referenced by main().


\begin{DoxyCode}
179                     \{
180     signal(SIGINT, \hyperlink{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1}{exit\_handler});  \textcolor{comment}{// Ctrl-C}
181     signal(SIGQUIT, \hyperlink{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1}{exit\_handler});  \textcolor{comment}{// Quit}
182     signal(SIGTERM, \hyperlink{skn__network__helpers_8c_a49f6d3bb9d22d5b9cf5c7eb6175318d1}{exit\_handler});  \textcolor{comment}{// Normal kill command}
183 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{skn__network__helpers_8c_a6af44fa0e0746d3d2a804fea1e84dacd_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{skn__network__helpers_8c_a6af44fa0e0746d3d2a804fea1e84dacd_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+duration\+\_\+in\+\_\+milliseconds@{skn\+\_\+duration\+\_\+in\+\_\+milliseconds}}
\index{skn\+\_\+duration\+\_\+in\+\_\+milliseconds@{skn\+\_\+duration\+\_\+in\+\_\+milliseconds}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+duration\+\_\+in\+\_\+milliseconds(struct timeval $\ast$pstart, struct timeval $\ast$pend)}{skn_duration_in_milliseconds(struct timeval *pstart, struct timeval *pend)}}]{\setlength{\rightskip}{0pt plus 5cm}double skn\+\_\+duration\+\_\+in\+\_\+milliseconds (
\begin{DoxyParamCaption}
\item[{struct timeval $\ast$}]{pstart, }
\item[{struct timeval $\ast$}]{pend}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{}\label{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}
skn\+\_\+duration\+\_\+in\+\_\+microseconds()
\begin{DoxyItemize}
\item expressed in \%1.\+6us seconds.\+miroseconds 
\end{DoxyItemize}

Definition at line 622 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), and skn\+\_\+udp\+\_\+service\+\_\+request().


\begin{DoxyCode}
622                                                                                   \{
623     \textcolor{keywordtype}{long} secs\_used = 0;
624     \textcolor{keywordtype}{double} total\_micros\_used = 0.0;
625     \textcolor{keyword}{struct }timeval end;
626 
627     \textcolor{keywordflow}{if} (pend == NULL) \{   \textcolor{comment}{// calc running duration}
628         pend = &end;
629         gettimeofday(pend, NULL);
630     \}
631 
632     secs\_used=(pend->tv\_sec - pstart->tv\_sec); \textcolor{comment}{//avoid overflow by subtracting first}
633     total\_micros\_used = secs\_used * 1000.0; \textcolor{comment}{// sec to ms}
634     total\_micros\_used += (pend->tv\_usec - pstart->tv\_usec) / 1000.0; \textcolor{comment}{// us to ms}
635 
636     \textcolor{keywordflow}{return} total\_micros\_used / 1000.0; \textcolor{comment}{// express in seconds.milliseconds}
637 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores@{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores}}
\index{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores@{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores()}{skn_get_number_of_cpu_cores()}}]{\setlength{\rightskip}{0pt plus 5cm}long skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{}\label{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}


Definition at line 40 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by generate\+\_\+rpi\+\_\+model\+\_\+info(), generate\+\_\+uname\+\_\+info(), and main().


\begin{DoxyCode}
40                                    \{
41     \textcolor{keywordflow}{return} sysconf(\_SC\_NPROCESSORS\_ONLN);
42 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+userids@{skn\+\_\+get\+\_\+userids}}
\index{skn\+\_\+get\+\_\+userids@{skn\+\_\+get\+\_\+userids}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+userids()}{skn_get_userids()}}]{\setlength{\rightskip}{0pt plus 5cm}uid\+\_\+t skn\+\_\+get\+\_\+userids (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79}{}\label{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79}
D\+E\+L\+AY F\+OR \# uS W\+I\+T\+H\+O\+UT S\+L\+E\+E\+P\+I\+NG Ref\+: \href{http://www.raspberry-projects.com/pi/programming-in-c/timing/clock_gettime-for-acurate-timing}{\tt http\+://www.\+raspberry-\/projects.\+com/pi/programming-\/in-\/c/timing/clock\+\_\+gettime-\/for-\/acurate-\/timing}

Using delay\+Microseconds lets the linux scheduler decide to jump to another process. Using this function avoids letting the scheduler know we are pausing and provides much faster operation if you are needing to use lots of delays.

Fixup incase your building on for O\+SX, which does not implement clock\+\_\+gettime()

\#ifdef {\bfseries M\+A\+CH} \#include $<$sys/time.\+h$>$ \#define C\+L\+O\+C\+K\+\_\+\+R\+E\+A\+L\+T\+I\+ME 0

\begin{DoxyVerb}  clock_gettime is not implemented on OSX *
\end{DoxyVerb}
 int clock\+\_\+gettime(int clk\+\_\+id, struct timespec$\ast$ t) \{ struct timeval now; int rv = gettimeofday(\&now, N\+U\+L\+L); if (rv) return rv; t-\/$>$tv\+\_\+sec = now.\+tv\+\_\+sec; t-\/$>$tv\+\_\+nsec = now.\+tv\+\_\+usec $\ast$ 1000; return 0; \} \#endif

void skn\+\_\+delay\+\_\+microseconds (int delay\+\_\+us) \{ long int start\+\_\+time; long int time\+\_\+difference; struct timespec gettime\+\_\+now;

clock\+\_\+gettime(\+C\+L\+O\+C\+K\+\_\+\+R\+E\+A\+L\+T\+I\+M\+E, \&gettime\+\_\+now); start\+\_\+time = gettime\+\_\+now.\+tv\+\_\+nsec; //\+Get nS value while (1) \{ clock\+\_\+gettime(\+C\+L\+O\+C\+K\+\_\+\+R\+E\+A\+L\+T\+I\+M\+E, \&gettime\+\_\+now); time\+\_\+difference = gettime\+\_\+now.\+tv\+\_\+nsec -\/ start\+\_\+time; if (time\+\_\+difference $<$ 0) time\+\_\+difference += 1000000000; //(Rolls over every 1 second) if (time\+\_\+difference $>$ (delay\+\_\+us $\ast$ 1000)) //\+Delay for \# nS break; \} \} Setup effective and real userid 

Definition at line 152 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+pch\+\_\+effective\+\_\+userid.



Referenced by main().


\begin{DoxyCode}
152                         \{
153     uid\_t real\_user\_id = 0;
154     uid\_t effective\_user\_id = 0;
155     \textcolor{keyword}{struct }passwd *userinfo = NULL;
156 
157     real\_user\_id = getuid();
158     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\_pch\_effective\_userid} != NULL) \{
159         userinfo = getpwnam(\hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\_pch\_effective\_userid});
160         effective\_user\_id = userinfo->pw\_uid;
161     \} \textcolor{keywordflow}{else} \{
162         effective\_user\_id = geteuid();
163         userinfo = getpwuid(effective\_user\_id);
164         \hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\_pch\_effective\_userid} = userinfo->pw\_name;
165     \}
166 
167     \textcolor{keywordflow}{return} real\_user\_id;
168 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line@{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line}}
\index{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line@{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(int argc, char $\ast$$\ast$argv)}{skn_handle_locator_command_line(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}{}\label{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}


Definition at line 373 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+ch\+\_\+program\+\_\+name, gd\+\_\+i\+\_\+debug, gd\+\_\+i\+\_\+display, gd\+\_\+i\+\_\+i2c\+\_\+address, gd\+\_\+i\+\_\+unique\+\_\+registry, gd\+\_\+i\+\_\+update, gd\+\_\+pch\+\_\+message, gd\+\_\+pch\+\_\+service\+\_\+name, P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON, S\+D\+\_\+\+E\+RR, S\+D\+\_\+\+W\+A\+R\+N\+I\+NG, and skn\+\_\+locator\+\_\+print\+\_\+usage().



Referenced by main().


\begin{DoxyCode}
373                                                            \{
374     \textcolor{keywordtype}{int} opt = 0;
375     \textcolor{keywordtype}{int} longindex = 0;
376     \textcolor{keyword}{struct }option longopts[] = \{ \{ \textcolor{stringliteral}{"include-display-service"}, 0, NULL, \textcolor{charliteral}{'s'} \}, \textcolor{comment}{/* set true if present */}
377                                  \{ \textcolor{stringliteral}{"alt-service-name"}, 1, NULL, \textcolor{charliteral}{'a'} \}, \textcolor{comment}{/* set true if present */}
378                                  \{ \textcolor{stringliteral}{"unique-registry"}, 0, NULL, \textcolor{charliteral}{'u'} \}, \textcolor{comment}{/* set true if present */}
379                                  \{ \textcolor{stringliteral}{"non-stop"}, 1, NULL, \textcolor{charliteral}{'n'} \}, \textcolor{comment}{/* required param if */}
380                                  \{ \textcolor{stringliteral}{"debug"}, 1, NULL, \textcolor{charliteral}{'d'} \}, \textcolor{comment}{/* required param if */}
381                                  \{ \textcolor{stringliteral}{"message"}, 1, NULL, \textcolor{charliteral}{'m'} \}, \textcolor{comment}{/* required param if */}
382                                  \{ \textcolor{stringliteral}{"i2c-address"}, 1, NULL, \textcolor{charliteral}{'i'} \}, \textcolor{comment}{/* required param if */}
383                                  \{ \textcolor{stringliteral}{"version"}, 0, NULL, \textcolor{charliteral}{'v'} \}, \textcolor{comment}{/* set true if present */}
384                                  \{ \textcolor{stringliteral}{"help"}, 0, NULL, \textcolor{charliteral}{'h'} \}, \textcolor{comment}{/* set true if present */}
385                                  \{ 0, 0, 0, 0 \} \};
386 
387     \textcolor{comment}{/*}
388 \textcolor{comment}{     * Get commandline options}
389 \textcolor{comment}{     *  longindex is the current index into longopts}
390 \textcolor{comment}{     *  optind is current/last index into argv}
391 \textcolor{comment}{     *  optarg is value attached(-d88) or next element(-d 88) of argv}
392 \textcolor{comment}{     *  opterr flags a scanning error}
393 \textcolor{comment}{     */}
394     \textcolor{keywordflow}{while} ((opt = getopt\_long(argc, argv, \textcolor{stringliteral}{"d:m:n:i:a:usvh"}, longopts, &longindex)) != -1) \{
395         \textcolor{keywordflow}{switch} (opt) \{
396             \textcolor{keywordflow}{case} \textcolor{charliteral}{'u'}:
397                 \hyperlink{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{gd\_i\_unique\_registry} = 1;
398                 \textcolor{keywordflow}{break};
399             \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}:
400                 \hyperlink{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{gd\_i\_display} = 1;
401                 \textcolor{keywordflow}{break};
402             \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}:
403                 \textcolor{keywordflow}{if} (optarg) \{
404                     \hyperlink{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}{gd\_i\_debug} = atoi(optarg);
405                 \} \textcolor{keywordflow}{else} \{
406                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
407                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
408                 \}
409                 \textcolor{keywordflow}{break};
410             \textcolor{keywordflow}{case} \textcolor{charliteral}{'m'}:
411                 \textcolor{keywordflow}{if} (optarg) \{
412                     \hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\_pch\_message} = strdup(optarg);
413                 \} \textcolor{keywordflow}{else} \{
414                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
415                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
416                 \}
417                 \textcolor{keywordflow}{break};
418             \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
419                 \textcolor{keywordflow}{if} (optarg) \{
420                     \hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\_i\_update} = atoi(optarg);
421                 \} \textcolor{keywordflow}{else} \{
422                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
423                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
424                 \}
425                 \textcolor{keywordflow}{break};
426             \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}:
427                 \textcolor{keywordflow}{if} (optarg) \{
428                     \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} = strdup(optarg);
429                 \} \textcolor{keywordflow}{else} \{
430                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
431                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
432                 \}
433                 \textcolor{keywordflow}{break};
434             \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:
435                 \textcolor{keywordflow}{if} (optarg) \{
436                     \hyperlink{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}{gd\_i\_i2c\_address} = atoi(optarg);
437                 \} \textcolor{keywordflow}{else} \{
438                     skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind,
439                                     opterr);
440                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
441                 \}
442                 \textcolor{keywordflow}{break};
443             \textcolor{keywordflow}{case} \textcolor{charliteral}{'v'}:
444                 skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)tProgram => %s\(\backslash\)n\(\backslash\)tVersion => %s\(\backslash\)n\(\backslash\)tSkoona Development
      \(\backslash\)n\(\backslash\)t<skoona@gmail.com>\(\backslash\)n"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \hyperlink{cmd_d_c_8c_aa326a05d5e30f9e9a4bb0b4469d5d0c0}{PACKAGE\_VERSION});
445                 \textcolor{keywordflow}{return} (EXIT\_FAILURE);
446                 \textcolor{keywordflow}{break};
447             \textcolor{keywordflow}{case} \textcolor{charliteral}{'?'}:
448                 skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: unknown input param! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
449                 \hyperlink{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{skn\_locator\_print\_usage}();
450                 \textcolor{keywordflow}{return} (EXIT\_FAILURE);
451                 \textcolor{keywordflow}{break};
452             \textcolor{keywordflow}{default}: \textcolor{comment}{/* help and default */}
453                 \hyperlink{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{skn\_locator\_print\_usage}();
454                 \textcolor{keywordflow}{return} (EXIT\_FAILURE);
455                 \textcolor{keywordflow}{break};
456         \}
457     \}
458 
459     \textcolor{keywordflow}{return} EXIT\_SUCCESS;
460 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=256pt]{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+locator\+\_\+print\+\_\+usage@{skn\+\_\+locator\+\_\+print\+\_\+usage}}
\index{skn\+\_\+locator\+\_\+print\+\_\+usage@{skn\+\_\+locator\+\_\+print\+\_\+usage}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+locator\+\_\+print\+\_\+usage()}{skn_locator_print_usage()}}]{\setlength{\rightskip}{0pt plus 5cm}static void skn\+\_\+locator\+\_\+print\+\_\+usage (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{}\label{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}


Definition at line 331 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+ch\+\_\+program\+\_\+desc, and gd\+\_\+ch\+\_\+program\+\_\+name.



Referenced by skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().


\begin{DoxyCode}
331                                       \{
332     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"%s -- %s"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, 
      \hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\_ch\_program\_desc});
333     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)tSkoona Development <skoona@gmail.com>"});
334     \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"udp\_locator\_client"}) == 0) \{
335         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-v] [-m 'any text msg'] [-u] [-h|--help]"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
336         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
337         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -u, --unique-registry\(\backslash\)t List unique entries from all responses."});
338         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -m, --message\(\backslash\)tAny text to send; 'stop' cause service to terminate."});
339     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"udp\_locator\_service"}) == 0) \{
340         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-s] [-v] [-m '<delimited-response-message-string>'] [-a
       'my\_service\_name'] [-h|--help]"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
341         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  Format:
       name=<service-name>,ip=<service-ipaddress>ddd.ddd.ddd.ddd,port=<service-portnumber>ddddd <line-delimiter>"});
342         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  REQUIRED   <line-delimiter> is one of these '|', '%', ';'"});
343         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  example: -m
       'name=rpi\_locator\_service,ip=192.168.1.15,port=48028|name=lcd\_display\_service, ip=192.168.1.15, port=48029|'"});
344         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
345         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -a, --alt-service-name=my\_service\_name"});
346         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"                       lcd\_display\_service is default, use this to change name."});
347         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -s, --include-display-service\(\backslash\)tInclude DisplayService entry in default registry.
      "});
348     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"lcd\_display\_client"}) == 0) \{
349         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-v] [-m 'message for display'] [-n 1|300] [-a 'my\_service\_name']
       [-h|--help]"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
350         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
351         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -a, --alt-service-name=my\_service\_name"});
352         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"                       lcd\_display\_service is default, use this to change name."});
353         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -m, --message\(\backslash\)tRequest message to send."});
354         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -n, --non-stop=DD\(\backslash\)tContinue to send updates every DD seconds until ctrl-break."})
      ;
355     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"a2d\_display\_client"}) == 0) \{
356         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-v] [-n 1|300] [-i ddd] [-a 'my\_service\_name'] [-h|--help]"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
357         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
358         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -a, --alt-service-name=my\_service\_name"});
359         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"                       lcd\_display\_service is default, use this to change target."}
      );
360         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -i, --i2c-address=ddd\(\backslash\)tI2C decimal address. | [0x27=39, 0x20=32]"});
361         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -n, --non-stop=DD\(\backslash\)tContinue to send updates every DD seconds until ctrl-break."})
      ;
362     \}
363     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -v, --version\(\backslash\)tVersion printout."});
364     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -h, --help\(\backslash\)t\(\backslash\)tShow this help screen."});
365 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set@{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set}}
\index{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set@{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set(const char $\ast$name, const char $\ast$desc)}{skn_program_name_and_description_set(const char *name, const char *desc)}}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name, }
\item[{const char $\ast$}]{desc}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}{}\label{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}


Definition at line 462 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+ch\+\_\+host\+Name, gd\+\_\+ch\+\_\+host\+Short\+Name, gd\+\_\+ch\+\_\+program\+\_\+desc, gd\+\_\+ch\+\_\+program\+\_\+name, and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF.



Referenced by main().


\begin{DoxyCode}
462                                                                               \{
463     \textcolor{keywordtype}{char} hostName[\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF}];
464     \textcolor{keywordtype}{char} * phostName = hostName;
465 
466     strncpy(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, name, \textcolor{keyword}{sizeof}(
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}) - 1);
467     strncpy(\hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\_ch\_program\_desc}, desc, \textcolor{keyword}{sizeof}(
      \hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\_ch\_program\_desc}) - 1);
468 
469     gethostname(hostName, \textcolor{keyword}{sizeof}(hostName) - 1);
470         strncpy(\hyperlink{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{gd\_ch\_hostName}, hostName, \textcolor{keyword}{sizeof}(\hyperlink{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{gd\_ch\_hostName}) - 1);
471         strsep(&phostName, \textcolor{stringliteral}{"."});
472         strncpy(\hyperlink{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{gd\_ch\_hostShortName}, hostName, \textcolor{keyword}{sizeof}(
      \hyperlink{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{gd\_ch\_hostShortName}) - 1);
473 
474 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=281pt]{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+request\+\_\+create@{skn\+\_\+service\+\_\+request\+\_\+create}}
\index{skn\+\_\+service\+\_\+request\+\_\+create@{skn\+\_\+service\+\_\+request\+\_\+create}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+service\+\_\+request\+\_\+create(\+P\+Registry\+Entry pre, int host\+\_\+socket, char $\ast$request)}{skn_service_request_create(PRegistryEntry pre, int host_socket, char *request)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Service\+Request} skn\+\_\+service\+\_\+request\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf P\+Registry\+Entry}}]{pre, }
\item[{int}]{host\+\_\+socket, }
\item[{char $\ast$}]{request}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}{}\label{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}


Definition at line 603 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Request\+::cb\+Name, \+\_\+service\+Request\+::pre, \+\_\+service\+Request\+::request, \+\_\+service\+Request\+::socket, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by main().


\begin{DoxyCode}
603                                                                                                \{
604     \hyperlink{struct__service_request}{PServiceRequest} psr = NULL;
605 
606     \textcolor{keywordflow}{if} (pre == NULL) \{
607         \textcolor{keywordflow}{return} NULL;
608     \}
609     psr = (\hyperlink{skn__common__headers_8h_a09c39b109fec01639de4bcbf7c481f18}{PServiceRequest}) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct__service_request}{ServiceRequest}));
610     memset(psr, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__service_request}{ServiceRequest}));
611     strcpy(psr->\hyperlink{struct__service_request_aab7831722782ba05f0c94087598a941e}{cbName}, \textcolor{stringliteral}{"PServiceRequest"});
612     psr->\hyperlink{struct__service_request_aa867fef3928c7511f50a494662311d13}{socket} = host\_socket;
613     psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre} = pre;
614     strncpy(psr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request}, request, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}-1);
615     \textcolor{keywordflow}{return} psr;
616 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+strip@{skn\+\_\+strip}}
\index{skn\+\_\+strip@{skn\+\_\+strip}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+strip(char $\ast$alpha)}{skn_strip(char *alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ skn\+\_\+strip (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{}\label{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}
Remove Trailing and Leading Blanks
\begin{DoxyItemize}
\item caution\+: pointers from argv are readonly and segfault on \textquotesingle{}alpha\mbox{[}end\mbox{]} = 0\textquotesingle{} 
\end{DoxyItemize}

Definition at line 480 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+N\+O\+T\+I\+CE, and S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF.



Referenced by get\+\_\+default\+\_\+interface\+\_\+name(), service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper(), and service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
480                                \{
481     \textcolor{keywordflow}{if} (alpha == NULL || strlen(alpha) < 1)
482         \textcolor{keywordflow}{return} alpha;
483 
484     \textcolor{keywordtype}{int} len = strlen(alpha);
485     \textcolor{keywordtype}{int} end = len - 1;
486     \textcolor{keywordtype}{int} start = 0;
487 
488     \textcolor{comment}{// use isgraph() or !isspace() vs isalnum() to allow ['|' ';' '%']}
489     \textcolor{keywordflow}{while} (isgraph(alpha[end]) == 0 && end > 0) \{ \textcolor{comment}{// remove trailing non-alphanumeric chars}
490         alpha[end--] = 0;
491     \}
492 
493     len = strlen(alpha);
494     \textcolor{keywordflow}{while} ((isalnum(alpha[start]) == 0) && start < len) \{ \textcolor{comment}{// find first non-alpha stricter}
495         start++;
496     \}
497     \textcolor{keywordflow}{if} (start < len && start > 0) \{  \textcolor{comment}{// move in place}
498         end = len - start;
499         memmove(&alpha[0], &alpha[start], end);
500         alpha[end] = 0;
501     \}
502 
503     \textcolor{keywordflow}{return} alpha;
504 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+time\+\_\+delay@{skn\+\_\+time\+\_\+delay}}
\index{skn\+\_\+time\+\_\+delay@{skn\+\_\+time\+\_\+delay}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+time\+\_\+delay(double delay\+\_\+time)}{skn_time_delay(double delay_time)}}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+time\+\_\+delay (
\begin{DoxyParamCaption}
\item[{double}]{delay\+\_\+time}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a802d742c15476782fbbea1528f76dea5}{}\label{skn__network__helpers_8c_a802d742c15476782fbbea1528f76dea5}
Traditional Millisecond delay. 

Definition at line 96 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work(), skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+thread(), and skn\+\_\+scroller\+\_\+scroll\+\_\+lines().


\begin{DoxyCode}
96                                       \{
97     \textcolor{keyword}{struct }timespec timeout;
98     \textcolor{keywordflow}{if} (delay\_time == 0.0 || delay\_time == 0) delay\_time = 0.001;
99     timeout.tv\_sec = (time\_t) delay\_time;  \textcolor{comment}{// extract integer only}
100     timeout.tv\_nsec = (long) ((delay\_time - timeout.tv\_sec) * 1000000000L); \textcolor{comment}{// 1e+9}
101     \textcolor{keywordflow}{return} nanosleep(&timeout, NULL);
102 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a802d742c15476782fbbea1528f76dea5_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket}}
\index{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket(int port, double rcv\+Timeout)}{skn_udp_host_create_broadcast_socket(int port, double rcvTimeout)}}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket (
\begin{DoxyParamCaption}
\item[{int}]{port, }
\item[{double}]{rcv\+Timeout}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{}\label{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}
\hyperlink{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket()}
\begin{DoxyItemize}
\item creates a dgram socket with broadcast enabled
\item returns i\+\_\+socket $\vert$ E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE 
\end{DoxyItemize}

Definition at line 568 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+E\+M\+E\+RG, and S\+D\+\_\+\+I\+N\+FO.



Referenced by main().


\begin{DoxyCode}
568                                                                       \{
569     \textcolor{keyword}{struct }sockaddr\_in addr;
570     \textcolor{keywordtype}{int} i\_socket, broadcastEnable = 1;
571 
572     \textcolor{keywordflow}{if} ((i\_socket = socket(AF\_INET, SOCK\_DGRAM, IPPROTO\_UDP)) < 0) \{
573         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Create Socket error=%d, etext=%s"}, errno, strerror(errno));
574         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
575     \}
576     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_BROADCAST, &broadcastEnable, \textcolor{keyword}{sizeof}(broadcastEnable))) < 0) \{
577         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket Broadcast Option error=%d, etext=%s"}, errno, strerror(
      errno));
578         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
579     \}
580 
581     \textcolor{keyword}{struct }timeval tv;
582     tv.tv\_sec = rcvTimeout;
583     tv.tv\_usec = (long)(rcvTimeout - tv.tv\_sec) * 1000000L;
584     skn\_logger(\hyperlink{skn__common__headers_8h_a1bcf100bcdd91eacaf0b05d83c88aedf}{SD\_INFO}, \textcolor{stringliteral}{"Set Socket RcvTimeout Option set to: tv\_sec=%ld, tv\_usec=%ld"}, tv.tv\_sec, 
      tv.tv\_usec);
585     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_RCVTIMEO, &tv, \textcolor{keyword}{sizeof}(tv))) < 0) \{
586         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket RcvTimeout Option error=%d, etext=%s"}, errno, strerror(
      errno));
587         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
588     \}
589 
590     \textcolor{comment}{/* set up local address */}
591     memset(&addr, 0, \textcolor{keyword}{sizeof}(addr));
592     addr.sin\_family = AF\_INET;
593     addr.sin\_addr.s\_addr = htonl(INADDR\_ANY);
594     addr.sin\_port = htons(port);
595     \textcolor{keywordflow}{if} (bind(i\_socket, (\textcolor{keyword}{struct} sockaddr *) &addr, \textcolor{keyword}{sizeof}(addr)) < 0) \{
596         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Bind to local Socket error=%d, etext=%s"}, errno, strerror(errno));
597         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
598     \}
599 
600     \textcolor{keywordflow}{return} i\_socket;
601 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket}}
\index{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket(int port, double rcv\+Timeout)}{skn_udp_host_create_regular_socket(int port, double rcvTimeout)}}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket (
\begin{DoxyParamCaption}
\item[{int}]{port, }
\item[{double}]{rcv\+Timeout}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{}\label{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}
\hyperlink{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket()}
\begin{DoxyItemize}
\item creates a dgram socket without broadcast enabled
\item returns i\+\_\+socket $\vert$ E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE 
\end{DoxyItemize}

Definition at line 527 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+E\+M\+E\+RG.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+startup().


\begin{DoxyCode}
527                                                                     \{
528     \textcolor{keyword}{struct }sockaddr\_in addr;
529     \textcolor{keywordtype}{int} i\_socket, reuseEnable = 1;
530 
531     \textcolor{keywordflow}{if} ((i\_socket = socket(AF\_INET, SOCK\_DGRAM, IPPROTO\_UDP)) < 0) \{
532         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Create Socket error=%d, etext=%s"}, errno, strerror(errno));
533         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
534     \}
535 
536     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_REUSEADDR, &reuseEnable, \textcolor{keyword}{sizeof}(reuseEnable))) < 0) \{
537         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket Reuse Option error=%d, etext=%s"}, errno, strerror(errno));
538         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
539     \}
540 
541     \textcolor{keyword}{struct }timeval tv;
542     tv.tv\_sec = rcvTimeout;
543     tv.tv\_usec = (long)(rcvTimeout - tv.tv\_sec) * 1000000L;
544     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_RCVTIMEO, &tv, \textcolor{keyword}{sizeof}(tv))) < 0) \{
545         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket RcvTimeout Option error=%d, etext=%s"}, errno, strerror(
      errno));
546         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
547     \}
548 
549     \textcolor{comment}{/* set up local address */}
550     memset(&addr, 0, \textcolor{keyword}{sizeof}(addr));
551     addr.sin\_family = AF\_INET;
552     addr.sin\_addr.s\_addr = htonl(INADDR\_ANY);
553     addr.sin\_port = htons(port);
554     \textcolor{keywordflow}{if} (bind(i\_socket, (\textcolor{keyword}{struct} sockaddr *) &addr, \textcolor{keyword}{sizeof}(addr)) < 0) \{
555         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Bind to local Socket error=%d, etext=%s"}, errno, strerror(errno));
556         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
557     \}
558 
559     \textcolor{keywordflow}{return} i\_socket;
560 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210_icgraph}
\end{center}
\end{figure}


\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+udp\+\_\+service\+\_\+request@{skn\+\_\+udp\+\_\+service\+\_\+request}}
\index{skn\+\_\+udp\+\_\+service\+\_\+request@{skn\+\_\+udp\+\_\+service\+\_\+request}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+udp\+\_\+service\+\_\+request(\+P\+Service\+Request psr)}{skn_udp_service_request(PServiceRequest psr)}}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+udp\+\_\+service\+\_\+request (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Request}}]{psr}
\end{DoxyParamCaption}
)}\hypertarget{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{}\label{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}
\hyperlink{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{skn\+\_\+udp\+\_\+service\+\_\+request()}
\begin{DoxyItemize}
\item side effects\+: none
\item returns E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS $\vert$ E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE 
\end{DoxyItemize}

Definition at line 645 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, \+\_\+service\+Entry\+::port, \+\_\+service\+Request\+::pre, \+\_\+service\+Request\+::request, \+\_\+service\+Request\+::response, S\+D\+\_\+\+I\+N\+FO, S\+D\+\_\+\+N\+O\+T\+I\+CE, S\+D\+\_\+\+W\+A\+R\+N\+I\+NG, skn\+\_\+duration\+\_\+in\+\_\+milliseconds(), \+\_\+service\+Request\+::socket, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by main().


\begin{DoxyCode}
645                                                  \{
646     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
647     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
648     \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int} vIndex = 0;
649     \textcolor{keyword}{struct }timeval start, end;
650 
651     memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
652     remaddr.sin\_family = AF\_INET;
653     remaddr.sin\_addr.s\_addr = inet\_addr(psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip});
654     remaddr.sin\_port = htons(psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
655 
656     \textcolor{comment}{/*}
657 \textcolor{comment}{     * SEND */}
658     gettimeofday(&start, NULL);
659     \textcolor{keywordflow}{if} (sendto(psr->\hyperlink{struct__service_request_aa867fef3928c7511f50a494662311d13}{socket}, psr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request}, strlen(psr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request}), 0, (\textcolor{keyword}{struct} sockaddr *) 
      &remaddr, addrlen) < 0) \{
660         gettimeofday(&end, NULL);
661         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"ServiceRequest: SendTo(%1.6f) Timed out; Failure code=%d,
       etext=%s"}, \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start,&end), errno, strerror(errno));
662         \textcolor{keywordflow}{return} EXIT\_FAILURE;
663     \}
664     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"ServiceRequest sent to %s:%s:%d"}, psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->
      \hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
665 
666     \textcolor{comment}{/*}
667 \textcolor{comment}{     * RECEIVE */}
668     vIndex = recvfrom(psr->\hyperlink{struct__service_request_aa867fef3928c7511f50a494662311d13}{socket}, psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response}, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1), 0, (\textcolor{keyword}{struct} 
      sockaddr *) &remaddr, &addrlen);
669     \textcolor{keywordflow}{if} (vIndex == \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
670         gettimeofday(&end, NULL);
671         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"ServiceRequest: recvfrom(%1.6f) Failure code=%d, etext=%s"}, 
      \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start,&end), errno, strerror(errno));
672         \textcolor{keywordflow}{return} EXIT\_FAILURE;
673     \}
674     psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response}[vIndex] = 0;
675     gettimeofday(&end, NULL);
676 
677     skn\_logger(\hyperlink{skn__common__headers_8h_a1bcf100bcdd91eacaf0b05d83c88aedf}{SD\_INFO}, \textcolor{stringliteral}{"Response(%1.3fs) received from [%s] %s:%d"},
678                     \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start,&end),
679                     psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response},
680                     inet\_ntoa(remaddr.sin\_addr),
681                     ntohs(remaddr.sin\_port)
682               );
683 
684     \textcolor{keywordflow}{if} (strcmp(psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response}, \textcolor{stringliteral}{"QUIT!"}) == 0) \{
685         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Shutdown Requested!"});
686         \textcolor{keywordflow}{return} EXIT\_FAILURE;
687     \}
688 
689     \textcolor{keywordflow}{return} (EXIT\_SUCCESS);
690 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=284pt]{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+host\+Name@{gd\+\_\+ch\+\_\+host\+Name}}
\index{gd\+\_\+ch\+\_\+host\+Name@{gd\+\_\+ch\+\_\+host\+Name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+ch\+\_\+host\+Name}{gd_ch_hostName}}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+host\+Name\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}}\hypertarget{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{}\label{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}


Definition at line 24 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+host\+Short\+Name@{gd\+\_\+ch\+\_\+host\+Short\+Name}}
\index{gd\+\_\+ch\+\_\+host\+Short\+Name@{gd\+\_\+ch\+\_\+host\+Short\+Name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+ch\+\_\+host\+Short\+Name}{gd_ch_hostShortName}}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+host\+Short\+Name\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}}\hypertarget{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{}\label{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}


Definition at line 25 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+intf\+Name@{gd\+\_\+ch\+\_\+intf\+Name}}
\index{gd\+\_\+ch\+\_\+intf\+Name@{gd\+\_\+ch\+\_\+intf\+Name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+ch\+\_\+intf\+Name}{gd_ch_intfName}}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+intf\+Name\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}}\hypertarget{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}{}\label{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}


Definition at line 23 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by generate\+\_\+rpi\+\_\+model\+\_\+info(), main(), and service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+ip\+Address@{gd\+\_\+ch\+\_\+ip\+Address}}
\index{gd\+\_\+ch\+\_\+ip\+Address@{gd\+\_\+ch\+\_\+ip\+Address}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+ch\+\_\+ip\+Address}{gd_ch_ipAddress}}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+ip\+Address\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}\mbox{]}}\hypertarget{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}{}\label{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}


Definition at line 22 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by generate\+\_\+rpi\+\_\+model\+\_\+info(), main(), and service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+program\+\_\+desc@{gd\+\_\+ch\+\_\+program\+\_\+desc}}
\index{gd\+\_\+ch\+\_\+program\+\_\+desc@{gd\+\_\+ch\+\_\+program\+\_\+desc}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+ch\+\_\+program\+\_\+desc}{gd_ch_program_desc}}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+program\+\_\+desc\mbox{[}{\bf S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}\mbox{]}}\hypertarget{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{}\label{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}


Definition at line 16 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+display\+\_\+print\+\_\+usage(), skn\+\_\+locator\+\_\+print\+\_\+usage(), and skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+program\+\_\+name@{gd\+\_\+ch\+\_\+program\+\_\+name}}
\index{gd\+\_\+ch\+\_\+program\+\_\+name@{gd\+\_\+ch\+\_\+program\+\_\+name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+ch\+\_\+program\+\_\+name}{gd_ch_program_name}}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+program\+\_\+name\mbox{[}{\bf S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}\mbox{]}}\hypertarget{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{}\label{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}


Definition at line 15 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+display\+\_\+print\+\_\+usage(), skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(), skn\+\_\+locator\+\_\+print\+\_\+usage(), and skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+debug@{gd\+\_\+i\+\_\+debug}}
\index{gd\+\_\+i\+\_\+debug@{gd\+\_\+i\+\_\+debug}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+i\+\_\+debug}{gd_i_debug}}]{\setlength{\rightskip}{0pt plus 5cm}signed int gd\+\_\+i\+\_\+debug = 0}\hypertarget{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}{}\label{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}


Definition at line 14 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+display@{gd\+\_\+i\+\_\+display}}
\index{gd\+\_\+i\+\_\+display@{gd\+\_\+i\+\_\+display}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+i\+\_\+display}{gd_i_display}}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+display = 0}\hypertarget{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{}\label{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}


Definition at line 19 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by service\+\_\+registry\+\_\+provider(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+i2c\+\_\+address@{gd\+\_\+i\+\_\+i2c\+\_\+address}}
\index{gd\+\_\+i\+\_\+i2c\+\_\+address@{gd\+\_\+i\+\_\+i2c\+\_\+address}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+i\+\_\+i2c\+\_\+address}{gd_i_i2c_address}}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+i2c\+\_\+address = 0}\hypertarget{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}{}\label{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}


Definition at line 27 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+device\+\_\+manager\+\_\+\+M\+C\+P23008(), skn\+\_\+device\+\_\+manager\+\_\+\+M\+C\+P23017(), skn\+\_\+device\+\_\+manager\+\_\+\+P\+C\+F8574(), skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+socket@{gd\+\_\+i\+\_\+socket}}
\index{gd\+\_\+i\+\_\+socket@{gd\+\_\+i\+\_\+socket}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+i\+\_\+socket}{gd_i_socket}}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+socket = -\/1}\hypertarget{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{}\label{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}


Definition at line 18 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+unique\+\_\+registry@{gd\+\_\+i\+\_\+unique\+\_\+registry}}
\index{gd\+\_\+i\+\_\+unique\+\_\+registry@{gd\+\_\+i\+\_\+unique\+\_\+registry}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+i\+\_\+unique\+\_\+registry}{gd_i_unique_registry}}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+unique\+\_\+registry = 0}\hypertarget{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{}\label{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}


Definition at line 21 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by service\+\_\+registry\+\_\+entry\+\_\+create(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+update@{gd\+\_\+i\+\_\+update}}
\index{gd\+\_\+i\+\_\+update@{gd\+\_\+i\+\_\+update}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+i\+\_\+update}{gd_i_update}}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+update = 0}\hypertarget{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{}\label{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}


Definition at line 20 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+pch\+\_\+effective\+\_\+userid@{gd\+\_\+pch\+\_\+effective\+\_\+userid}}
\index{gd\+\_\+pch\+\_\+effective\+\_\+userid@{gd\+\_\+pch\+\_\+effective\+\_\+userid}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+pch\+\_\+effective\+\_\+userid}{gd_pch_effective_userid}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ gd\+\_\+pch\+\_\+effective\+\_\+userid = N\+U\+LL}\hypertarget{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{}\label{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}


Definition at line 17 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), and skn\+\_\+get\+\_\+userids().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+pch\+\_\+message@{gd\+\_\+pch\+\_\+message}}
\index{gd\+\_\+pch\+\_\+message@{gd\+\_\+pch\+\_\+message}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+pch\+\_\+message}{gd_pch_message}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ gd\+\_\+pch\+\_\+message = N\+U\+LL}\hypertarget{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{}\label{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}


Definition at line 12 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+pch\+\_\+service\+\_\+name@{gd\+\_\+pch\+\_\+service\+\_\+name}}
\index{gd\+\_\+pch\+\_\+service\+\_\+name@{gd\+\_\+pch\+\_\+service\+\_\+name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gd\+\_\+pch\+\_\+service\+\_\+name}{gd_pch_service_name}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ gd\+\_\+pch\+\_\+service\+\_\+name}\hypertarget{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{}\label{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}


Definition at line 26 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), service\+\_\+registry\+\_\+provider(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gi\+\_\+exit\+\_\+flag@{gi\+\_\+exit\+\_\+flag}}
\index{gi\+\_\+exit\+\_\+flag@{gi\+\_\+exit\+\_\+flag}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{\texorpdfstring{gi\+\_\+exit\+\_\+flag}{gi_exit_flag}}]{\setlength{\rightskip}{0pt plus 5cm}sig\+\_\+atomic\+\_\+t gi\+\_\+exit\+\_\+flag = {\bf S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+UN}}\hypertarget{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{}\label{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}
skn\+Network\+Helpers.\+c 

Definition at line 11 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by exit\+\_\+handler(), main(), service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), service\+\_\+registry\+\_\+provider(), signals\+\_\+cleanup(), skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work(), skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+thread(), skn\+\_\+signal\+\_\+manager\+\_\+handler\+\_\+thread(), skn\+\_\+signal\+\_\+manager\+\_\+process\+\_\+signals(), and skn\+\_\+signal\+\_\+manager\+\_\+shutdown().

