\hypertarget{skn__network__helpers_8c}{\section{src/skn\+\_\+network\+\_\+helpers.c File Reference}
\label{skn__network__helpers_8c}\index{src/skn\+\_\+network\+\_\+helpers.\+c@{src/skn\+\_\+network\+\_\+helpers.\+c}}
}
{\ttfamily \#include \char`\"{}skn\+\_\+network\+\_\+helpers.\+h\char`\"{}}\\*
Include dependency graph for skn\+\_\+network\+\_\+helpers.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{skn\+\_\+locator\+\_\+print\+\_\+usage} ()
\item 
static void \hyperlink{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07}{skn\+\_\+signals\+\_\+exit\+\_\+handler} (int sig)
\item 
static void $\ast$ \hyperlink{skn__network__helpers_8c_a7cf958dc1f99b31736ce1ca0091f503c}{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper} (char $\ast$key, char $\ast$$\ast$name, char $\ast$$\ast$ip, char $\ast$$\ast$port)
\item 
static \hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} \hyperlink{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356}{skn\+\_\+service\+\_\+registry\+\_\+create} ()
\item 
static int \hyperlink{skn__network__helpers_8c_ac3a88d752add9ae0a2ca65029797bcdc}{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg, char $\ast$name, char $\ast$ip, char $\ast$port, int $\ast$errors)
\item 
static int \hyperlink{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b}{skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg, const char $\ast$response, int $\ast$errors)
\item 
long \hyperlink{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores} ()
\item 
int \hyperlink{skn__network__helpers_8c_abbacbfd3718ca9b0f29e08e36e15c1d2}{skn\+\_\+generate\+\_\+loadavg\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{skn__network__helpers_8c_a7da6dc73acd9390e469a4f2a1bd5e162}{skn\+\_\+generate\+\_\+uname\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{skn__network__helpers_8c_adc9d01795423b927160fa32e842015ea}{skn\+\_\+generate\+\_\+datetime\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{skn__network__helpers_8c_a11a06f22b7bdbf78e38d9a6f4d71fe8e}{skn\+\_\+time\+\_\+delay\+\_\+ms} (double delay\+\_\+time)
\item 
uid\+\_\+t \hyperlink{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79}{skn\+\_\+get\+\_\+userids} ()
\item 
void \hyperlink{skn__network__helpers_8c_ad5959da47263ac46035692fab7c1897c}{skn\+\_\+signals\+\_\+init} ()
\item 
void \hyperlink{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58}{skn\+\_\+signals\+\_\+cleanup} (int sig)
\item 
void \hyperlink{skn__network__helpers_8c_a9b0fbabba52596494d479468bf0124cb}{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address} (char $\ast$intf, char $\ast$ipv4)
\item 
int \hyperlink{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4}{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array} (\hyperlink{cmd_d_c_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array} pa\+B)
\item 
int \hyperlink{skn__network__helpers_8c_a2f85a8da3080288ca5f7db2c614b39ca}{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name} (char $\ast$pch\+Default\+Interface\+Name)
\item 
int \hyperlink{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line} (int argc, char $\ast$$\ast$argv)
\item 
void \hyperlink{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set} (const char $\ast$name, const char $\ast$desc)
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\+\_\+strip} (char $\ast$alpha)
\item 
int \hyperlink{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket} (int port, double rcv\+Timeout)
\item 
int \hyperlink{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket} (int port, double rcv\+Timeout)
\item 
\hyperlink{skn__common__headers_8h_a09c39b109fec01639de4bcbf7c481f18}{P\+Service\+Request} \hyperlink{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}{skn\+\_\+service\+\_\+request\+\_\+create} (\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{P\+Registry\+Entry} pre, int host\+\_\+socket, char $\ast$request)
\item 
double \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\+\_\+duration\+\_\+in\+\_\+milliseconds} (struct timeval $\ast$pstart, struct timeval $\ast$pend)
\item 
int \hyperlink{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{skn\+\_\+udp\+\_\+service\+\_\+request} (\hyperlink{skn__common__headers_8h_a09c39b109fec01639de4bcbf7c481f18}{P\+Service\+Request} psr)
\item 
int \hyperlink{skn__network__helpers_8c_ab14673e76d0b2debcb653965d642d16c}{skn\+\_\+service\+\_\+registry\+\_\+provider} (int i\+\_\+socket, char $\ast$response)
\item 
int \hyperlink{skn__network__helpers_8c_a02997172ea3c12f0cf2b7db74ee3841f}{skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format} (const char $\ast$response)
\item 
\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} \hyperlink{skn__network__helpers_8c_a8977f322f126131c2ea52a745eb80843}{skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry} (const char $\ast$response)
\item 
void \hyperlink{skn__network__helpers_8c_ad9bf0962b5c04c4642b2012940230b41}{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log} (const char $\ast$response)
\item 
\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{P\+Registry\+Entry} \hyperlink{skn__network__helpers_8c_add839b84b8249372e523219f7036b77d}{skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg, char $\ast$service\+Name)
\item 
int \hyperlink{skn__network__helpers_8c_a7fa761695029d3ab846d21f5c94ce61b}{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psr)
\item 
int \hyperlink{skn__network__helpers_8c_a428cbc83e209bab75845616b6c458724}{skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psr)
\item 
void $\ast$ \hyperlink{skn__network__helpers_8c_a995d62b05bfc792ff53fda5c684fdad3}{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref} (\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{P\+Registry\+Entry} prent, char $\ast$field)
\item 
\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} \hyperlink{skn__network__helpers_8c_ac5eaa92d1366ef646641f8ae3b11ed69}{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast} (int i\+\_\+socket, char $\ast$request)
\item 
void \hyperlink{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6}{skn\+\_\+service\+\_\+registry\+\_\+destroy} (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{P\+Service\+Registry} psreg)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
sig\+\_\+atomic\+\_\+t \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\+\_\+exit\+\_\+flag} = \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+U\+N}
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\+\_\+pch\+\_\+message} = N\+U\+L\+L
\item 
signed int \hyperlink{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}{gd\+\_\+i\+\_\+debug} = 0
\item 
char \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\+\_\+ch\+\_\+program\+\_\+name} \mbox{[}\hyperlink{skn__common__headers_8h_a442d5e93bd9c9d8eb4532aba62b5f86c}{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\+\_\+ch\+\_\+program\+\_\+desc} \mbox{[}\hyperlink{skn__common__headers_8h_a442d5e93bd9c9d8eb4532aba62b5f86c}{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F}\mbox{]}
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\+\_\+pch\+\_\+effective\+\_\+userid} = N\+U\+L\+L
\item 
int \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\+\_\+i\+\_\+socket} = -\/1
\item 
int \hyperlink{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{gd\+\_\+i\+\_\+display} = 0
\item 
int \hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\+\_\+i\+\_\+update} = 0
\item 
int \hyperlink{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{gd\+\_\+i\+\_\+unique\+\_\+registry} = 0
\item 
char \hyperlink{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}{gd\+\_\+ch\+\_\+ip\+Address} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}{gd\+\_\+ch\+\_\+intf\+Name} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{gd\+\_\+ch\+\_\+host\+Name} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}
\item 
char \hyperlink{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{gd\+\_\+ch\+\_\+host\+Short\+Name} \mbox{[}\hyperlink{skn__common__headers_8h_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}
\item 
char $\ast$ \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\+\_\+pch\+\_\+service\+\_\+name}
\item 
int \hyperlink{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}{gd\+\_\+i\+\_\+i2c\+\_\+address} = 0
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+duration\+\_\+in\+\_\+milliseconds@{skn\+\_\+duration\+\_\+in\+\_\+milliseconds}}
\index{skn\+\_\+duration\+\_\+in\+\_\+milliseconds@{skn\+\_\+duration\+\_\+in\+\_\+milliseconds}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+duration\+\_\+in\+\_\+milliseconds}]{\setlength{\rightskip}{0pt plus 5cm}double skn\+\_\+duration\+\_\+in\+\_\+milliseconds (
\begin{DoxyParamCaption}
\item[{struct timeval $\ast$}]{pstart, }
\item[{struct timeval $\ast$}]{pend}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}
skn\+\_\+duration\+\_\+in\+\_\+microseconds()
\begin{DoxyItemize}
\item expressed in \%1.\+6us seconds.\+miroseconds 
\end{DoxyItemize}

Definition at line 621 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), and skn\+\_\+udp\+\_\+service\+\_\+request().


\begin{DoxyCode}
621                                                                                   \{
622     \textcolor{keywordtype}{long} secs\_used = 0;
623     \textcolor{keywordtype}{double} total\_micros\_used = 0.0;
624     \textcolor{keyword}{struct }timeval end;
625 
626     \textcolor{keywordflow}{if} (pend == NULL) \{   \textcolor{comment}{// calc running duration}
627         pend = &end;
628         gettimeofday(pend, NULL);
629     \}
630 
631     secs\_used=(pend->tv\_sec - pstart->tv\_sec); \textcolor{comment}{//avoid overflow by subtracting first}
632     total\_micros\_used = secs\_used * 1000.0; \textcolor{comment}{// sec to ms}
633     total\_micros\_used += (pend->tv\_usec - pstart->tv\_usec) / 1000.0; \textcolor{comment}{// us to ms}
634 
635     \textcolor{keywordflow}{return} total\_micros\_used / 1000.0; \textcolor{comment}{// express in seconds.milliseconds}
636 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_adc9d01795423b927160fa32e842015ea}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+generate\+\_\+datetime\+\_\+info@{skn\+\_\+generate\+\_\+datetime\+\_\+info}}
\index{skn\+\_\+generate\+\_\+datetime\+\_\+info@{skn\+\_\+generate\+\_\+datetime\+\_\+info}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+generate\+\_\+datetime\+\_\+info}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+generate\+\_\+datetime\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_adc9d01795423b927160fa32e842015ea}


Definition at line 78 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work().


\begin{DoxyCode}
78                                           \{
79     \textcolor{keywordtype}{int} mLen = 0;
80     \textcolor{keyword}{struct }tm *t;
81     time\_t tim;
82 
83     tim = time(NULL);
84     t = localtime(&tim);
85 
86     mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"%02d:%02d:%04d %02d:%02d:%02d"},
87                     t->tm\_mon + 1, t->tm\_mday, t->tm\_year + 1900,
88                     t->tm\_hour, t->tm\_min, t->tm\_sec);
89 
90     \textcolor{keywordflow}{return} mLen;
91 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_adc9d01795423b927160fa32e842015ea_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_abbacbfd3718ca9b0f29e08e36e15c1d2}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+generate\+\_\+loadavg\+\_\+info@{skn\+\_\+generate\+\_\+loadavg\+\_\+info}}
\index{skn\+\_\+generate\+\_\+loadavg\+\_\+info@{skn\+\_\+generate\+\_\+loadavg\+\_\+info}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+generate\+\_\+loadavg\+\_\+info}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+generate\+\_\+loadavg\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_abbacbfd3718ca9b0f29e08e36e15c1d2}


Definition at line 45 of file skn\+\_\+network\+\_\+helpers.\+c.



References P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+O\+R, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work().


\begin{DoxyCode}
45                                          \{
46     \textcolor{keywordtype}{double} loadavg[4];
47     \textcolor{keywordtype}{int} rc = 0;
48 
49     rc = getloadavg(loadavg, 3);
50 
51     \textcolor{keywordflow}{if} (rc != \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
52         snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"LoadAvg: 1m=%2.1f, 5m=%2.1f, 15m=%2.1F"},
53                  loadavg[0], loadavg[1], loadavg[2]);
54     \} \textcolor{keywordflow}{else} \{
55         snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"Load Average: Not Available  %d:%d:%s"},
56                  rc, errno, strerror(errno));
57     \}
58 
59     \textcolor{keywordflow}{return} rc;
60 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_abbacbfd3718ca9b0f29e08e36e15c1d2_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a7da6dc73acd9390e469a4f2a1bd5e162}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+generate\+\_\+uname\+\_\+info@{skn\+\_\+generate\+\_\+uname\+\_\+info}}
\index{skn\+\_\+generate\+\_\+uname\+\_\+info@{skn\+\_\+generate\+\_\+uname\+\_\+info}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+generate\+\_\+uname\+\_\+info}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+generate\+\_\+uname\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a7da6dc73acd9390e469a4f2a1bd5e162}


Definition at line 62 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores(), and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work().


\begin{DoxyCode}
62                                        \{
63     \textcolor{keyword}{struct }utsname info;
64 
65     \textcolor{keywordtype}{int} mLen = 0;
66     \textcolor{keywordtype}{char} * message = \textcolor{stringliteral}{"uname() api failed."};
67 
68     \textcolor{keywordflow}{if} (uname(&info) != 0) \{
69         mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"%s"}, message);
70     \} \textcolor{keywordflow}{else} \{
71         mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1, \textcolor{stringliteral}{"%s %s, %s %s | Cores=%ld"},
72                         info.sysname, info.release, info.version, info.machine,
73                         \hyperlink{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{skn\_get\_number\_of\_cpu\_cores}());
74     \}
75     \textcolor{keywordflow}{return} mLen;
76 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a7da6dc73acd9390e469a4f2a1bd5e162_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a7da6dc73acd9390e469a4f2a1bd5e162_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array@{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array}}
\index{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array@{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array (
\begin{DoxyParamCaption}
\item[{{\bf P\+I\+P\+Broadcast\+Array}}]{pa\+B}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4}
Collect I\+P and Broadcast Addresses for this machine


\begin{DoxyItemize}
\item Affects the P\+I\+P\+Broadcast\+Array
\item Return -\/1 on error, or count of interfaces
\item contains this ip\+Address in pa\+B-\/$>$ip\+Addr\+Str\mbox{[}pa\+B-\/$>$default\+Index\mbox{]} 
\end{DoxyItemize}

Definition at line 213 of file skn\+\_\+network\+\_\+helpers.\+c.



References A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+T\+F, \+\_\+ip\+Broadcast\+Array\+::broad\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::cb\+Name, \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::count, \+\_\+ip\+Broadcast\+Array\+::default\+Index, \+\_\+ip\+Broadcast\+Array\+::if\+Name\+Str, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::mask\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+O\+R, S\+D\+\_\+\+E\+R\+R, skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name(), and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F.



Referenced by skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address(), skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), and skn\+\_\+service\+\_\+registry\+\_\+provider().


\begin{DoxyCode}
213                                                       \{
214     \textcolor{keyword}{struct }ifaddrs * ifap;
215     \textcolor{keyword}{struct }ifaddrs * p;
216     \textcolor{keywordtype}{int} rc = 0;
217 
218     memset(paB, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__ip_broadcast_array}{IPBroadcastArray}));
219     paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count} = 0;
220     paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex} = 0;
221     strcpy(paB->\hyperlink{struct__ip_broadcast_array_a0f592bd31dcc3ce00a349f04ff6bd1ba}{cbName}, \textcolor{stringliteral}{"IPBroadcastArray"});
222 
223     rc = \hyperlink{skn__network__helpers_8c_a2f85a8da3080288ca5f7db2c614b39ca}{skn\_get\_default\_interface\_name}(paB->
      \hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName});
224     \textcolor{keywordflow}{if} (rc == EXIT\_FAILURE) \{ \textcolor{comment}{// Alternate method for Mac: 'route -n -A inet'}
225         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"No Default Network Interfaces Found!."});
226         paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}[0] = 0;
227     \}
228     rc = getifaddrs(&ifap);
229     \textcolor{keywordflow}{if} (rc != 0) \{
230         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"No Network Interfaces Found at All ! %d:%d:%s"}, rc, errno, strerror(errno
      ) );
231         \textcolor{keywordflow}{return} (\hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR});
232     \}
233     p = ifap;
234 
235     \textcolor{keywordflow}{while} (p && paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count} < \hyperlink{cmd_d_c_8c_a00b19837422a3b13d82b9a525e92ef51}{ARY\_MAX\_INTF}) \{
236         \textcolor{keywordflow}{if} (p->ifa\_addr != NULL && p->ifa\_addr->sa\_family == AF\_INET && ((p->ifa\_flags & IFF\_BROADCAST) > 0
      )) \{
237 
238             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_addr)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
239             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_netmask)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_a9241c1fbfb22a3ecfe4777863a063eb3}{maskAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
240             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_broadaddr)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
241 
242             strncpy(paB->\hyperlink{struct__ip_broadcast_array_a193b90f271c061e8bf1593bab6a182c9}{ifNameStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], p->ifa\_name, (
      \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} -1));
243 
244             \textcolor{comment}{/* Take match as the default */}
245             \textcolor{keywordflow}{if} (strcmp(paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, p->ifa\_name) == 0) \{
246                 paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex} = paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count};
247             \}
248 
249             paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}++;
250         \}
251         p = p->ifa\_next;
252     \} \textcolor{comment}{// end while}
253     freeifaddrs(ifap);
254 
255     \textcolor{keywordflow}{return} paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count};
256 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a2f85a8da3080288ca5f7db2c614b39ca}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name}}
\index{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{pch\+Default\+Interface\+Name}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a2f85a8da3080288ca5f7db2c614b39ca}
Retrieves default internet interface name into param
\begin{DoxyItemize}
\item absolute best way to do this, but not supported on Darwin(i.\+e O\+S\+X) return E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S or E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E
\end{DoxyItemize}

\mbox{[}jscott O\+S\+X\mbox{]}\$ route -\/n get 0.\+0.\+0.\+0 route to\+: default destination\+: default mask\+: default gateway\+: 10.\+21.\+1.\+254 interface\+: en3 flags\+: $<$U\+P,G\+A\+T\+E\+W\+A\+Y,D\+O\+N\+E,S\+T\+A\+T\+I\+C,P\+R\+C\+L\+O\+N\+I\+N\+G$>$ recvpipe sendpipe ssthresh rtt,msec rttvar hopcount mtu expire 0 0 0 0 0 0 1500 0 

Definition at line 274 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+E\+R\+R, skn\+\_\+strip(), and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array().


\begin{DoxyCode}
274                                                                   \{
275     FILE *f\_route;
276     \textcolor{keywordtype}{char} line[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}], *dRoute = NULL, *iName = NULL;
277 
278     f\_route = fopen(\textcolor{stringliteral}{"/proc/net/route"}, \textcolor{stringliteral}{"r"});
279     \textcolor{keywordflow}{if} (f\_route != NULL) \{
280         \textcolor{keywordflow}{while} (fgets(line, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1, f\_route)) \{
281             iName = strtok(line, \textcolor{stringliteral}{"\(\backslash\)t"});
282             dRoute = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)t"});
283 
284             \textcolor{keywordflow}{if} (iName != NULL && dRoute != NULL) \{
285                 \textcolor{keywordflow}{if} (strcmp(dRoute, \textcolor{stringliteral}{"00000000"}) == 0) \{
286                     strncpy(pchDefaultInterfaceName, iName, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1));
287                     \textcolor{keywordflow}{break};
288                 \}
289             \}
290         \}
291         fclose(f\_route);
292 
293         \textcolor{keywordflow}{return} EXIT\_SUCCESS;
294     \}
295     skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"Opening ProcFs for RouteInfo Failed: %d:%s, Alternate method will be
       attempted."}, errno, strerror(errno));
296 
297     f\_route = popen(\textcolor{stringliteral}{"route -n get 0.0.0.0"}, \textcolor{stringliteral}{"r"}); \textcolor{comment}{// for linux 'route -n -A inet', with interface at
       line\_word[7]}
298     \textcolor{keywordflow}{if} (f\_route != NULL) \{
299         \textcolor{keywordflow}{while} (fgets(line, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1, f\_route)) \{
300             dRoute = strtok(line, \textcolor{stringliteral}{":"});
301             iName = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)n"});
302             \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(dRoute), \textcolor{stringliteral}{"interface"}) == 0) \{
303                 strncpy(pchDefaultInterfaceName, \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(iName), (
      \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1));
304                 \textcolor{keywordflow}{break};
305             \}
306         \}
307         fclose(f\_route);
308 
309         \textcolor{keywordflow}{return} EXIT\_SUCCESS;
310     \} \textcolor{keywordflow}{else} \{
311         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"Alternate method to get RouteInfo Failed: %d:%s"}, errno, strerror(errno))
      ;
312         \textcolor{keywordflow}{return} EXIT\_FAILURE;
313     \}
314 
315 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{skn__network__helpers_8c_a2f85a8da3080288ca5f7db2c614b39ca_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a2f85a8da3080288ca5f7db2c614b39ca_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a9b0fbabba52596494d479468bf0124cb}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}}
\index{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{intf, }
\item[{char $\ast$}]{ipv4}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a9b0fbabba52596494d479468bf0124cb}


Definition at line 195 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::default\+Index, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+O\+R, S\+D\+\_\+\+E\+R\+R, skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(), and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F.



Referenced by main().


\begin{DoxyCode}
195                                                                                \{
196     \hyperlink{struct__ip_broadcast_array}{IPBroadcastArray} aB;
197 
198     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4}{skn\_get\_broadcast\_ip\_array}(&aB) != 
      \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
199         memcpy(intf, aB.\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
200         memcpy(ipv4, aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
201     \} \textcolor{keywordflow}{else} \{
202         skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"InterfaceName and Address: unable to access information."});
203     \}
204 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a9b0fbabba52596494d479468bf0124cb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=284pt]{skn__network__helpers_8c_a9b0fbabba52596494d479468bf0124cb_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores@{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores}}
\index{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores@{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores}]{\setlength{\rightskip}{0pt plus 5cm}long skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}


Definition at line 40 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by generate\+\_\+rpi\+\_\+model\+\_\+info(), main(), and skn\+\_\+generate\+\_\+uname\+\_\+info().


\begin{DoxyCode}
40                                    \{
41     \textcolor{keywordflow}{return} sysconf(\_SC\_NPROCESSORS\_ONLN);
42 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+get\+\_\+userids@{skn\+\_\+get\+\_\+userids}}
\index{skn\+\_\+get\+\_\+userids@{skn\+\_\+get\+\_\+userids}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+get\+\_\+userids}]{\setlength{\rightskip}{0pt plus 5cm}uid\+\_\+t skn\+\_\+get\+\_\+userids (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79}
D\+E\+L\+A\+Y F\+O\+R \# u\+S W\+I\+T\+H\+O\+U\+T S\+L\+E\+E\+P\+I\+N\+G Ref\+: \href{http://www.raspberry-projects.com/pi/programming-in-c/timing/clock_gettime-for-acurate-timing}{\tt http\+://www.\+raspberry-\/projects.\+com/pi/programming-\/in-\/c/timing/clock\+\_\+gettime-\/for-\/acurate-\/timing}

Using delay\+Microseconds lets the linux scheduler decide to jump to another process. Using this function avoids letting the scheduler know we are pausing and provides much faster operation if you are needing to use lots of delays.

Fixup incase your building on for O\+S\+X, which does not implement clock\+\_\+gettime()

\#ifdef {\bfseries M\+A\+C\+H} \#include $<$sys/time.\+h$>$ \#define C\+L\+O\+C\+K\+\_\+\+R\+E\+A\+L\+T\+I\+M\+E 0

\begin{DoxyVerb}  clock_gettime is not implemented on OSX *
\end{DoxyVerb}
 int clock\+\_\+gettime(int clk\+\_\+id, struct timespec$\ast$ t) \{ struct timeval now; int rv = gettimeofday(\&now, N\+U\+L\+L); if (rv) return rv; t-\/$>$tv\+\_\+sec = now.\+tv\+\_\+sec; t-\/$>$tv\+\_\+nsec = now.\+tv\+\_\+usec $\ast$ 1000; return 0; \} \#endif

void skn\+\_\+delay\+\_\+microseconds (int delay\+\_\+us) \{ long int start\+\_\+time; long int time\+\_\+difference; struct timespec gettime\+\_\+now;

clock\+\_\+gettime(\+C\+L\+O\+C\+K\+\_\+\+R\+E\+A\+L\+T\+I\+M\+E, \&gettime\+\_\+now); start\+\_\+time = gettime\+\_\+now.\+tv\+\_\+nsec; //\+Get n\+S value while (1) \{ clock\+\_\+gettime(\+C\+L\+O\+C\+K\+\_\+\+R\+E\+A\+L\+T\+I\+M\+E, \&gettime\+\_\+now); time\+\_\+difference = gettime\+\_\+now.\+tv\+\_\+nsec -\/ start\+\_\+time; if (time\+\_\+difference $<$ 0) time\+\_\+difference += 1000000000; //(Rolls over every 1 second) if (time\+\_\+difference $>$ (delay\+\_\+us $\ast$ 1000)) //\+Delay for \# n\+S break; \} \} Setup effective and real userid 

Definition at line 152 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+pch\+\_\+effective\+\_\+userid.



Referenced by main().


\begin{DoxyCode}
152                         \{
153     uid\_t real\_user\_id = 0;
154     uid\_t effective\_user\_id = 0;
155     \textcolor{keyword}{struct }passwd *userinfo = NULL;
156 
157     real\_user\_id = getuid();
158     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\_pch\_effective\_userid} != NULL) \{
159         userinfo = getpwnam(\hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\_pch\_effective\_userid});
160         effective\_user\_id = userinfo->pw\_uid;
161     \} \textcolor{keywordflow}{else} \{
162         effective\_user\_id = geteuid();
163         userinfo = getpwuid(effective\_user\_id);
164         \hyperlink{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{gd\_pch\_effective\_userid} = userinfo->pw\_name;
165     \}
166 
167     \textcolor{keywordflow}{return} real\_user\_id;
168 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{skn__network__helpers_8c_a63e61152e590620edc7757d782c60a79_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line@{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line}}
\index{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line@{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}


Definition at line 372 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+ch\+\_\+program\+\_\+name, gd\+\_\+i\+\_\+debug, gd\+\_\+i\+\_\+display, gd\+\_\+i\+\_\+i2c\+\_\+address, gd\+\_\+i\+\_\+unique\+\_\+registry, gd\+\_\+i\+\_\+update, gd\+\_\+pch\+\_\+message, gd\+\_\+pch\+\_\+service\+\_\+name, P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+O\+N, S\+D\+\_\+\+E\+R\+R, S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G, and skn\+\_\+locator\+\_\+print\+\_\+usage().



Referenced by main().


\begin{DoxyCode}
372                                                            \{
373     \textcolor{keywordtype}{int} opt = 0;
374     \textcolor{keywordtype}{int} longindex = 0;
375     \textcolor{keyword}{struct }option longopts[] = \{ \{ \textcolor{stringliteral}{"include-display-service"}, 0, NULL, \textcolor{charliteral}{'s'} \}, \textcolor{comment}{/* set true if present */}
376                                  \{ \textcolor{stringliteral}{"alt-service-name"}, 1, NULL, \textcolor{charliteral}{'a'} \}, \textcolor{comment}{/* set true if present */}
377                                  \{ \textcolor{stringliteral}{"unique-registry"}, 0, NULL, \textcolor{charliteral}{'u'} \}, \textcolor{comment}{/* set true if present */}
378                                  \{ \textcolor{stringliteral}{"non-stop"}, 1, NULL, \textcolor{charliteral}{'n'} \}, \textcolor{comment}{/* required param if */}
379                                  \{ \textcolor{stringliteral}{"debug"}, 1, NULL, \textcolor{charliteral}{'d'} \}, \textcolor{comment}{/* required param if */}
380                                  \{ \textcolor{stringliteral}{"message"}, 1, NULL, \textcolor{charliteral}{'m'} \}, \textcolor{comment}{/* required param if */}
381                                  \{ \textcolor{stringliteral}{"i2c-address"}, 1, NULL, \textcolor{charliteral}{'i'} \}, \textcolor{comment}{/* required param if */}
382                                  \{ \textcolor{stringliteral}{"version"}, 0, NULL, \textcolor{charliteral}{'v'} \}, \textcolor{comment}{/* set true if present */}
383                                  \{ \textcolor{stringliteral}{"help"}, 0, NULL, \textcolor{charliteral}{'h'} \}, \textcolor{comment}{/* set true if present */}
384                                  \{ 0, 0, 0, 0 \} \};
385 
386     \textcolor{comment}{/*}
387 \textcolor{comment}{     * Get commandline options}
388 \textcolor{comment}{     *  longindex is the current index into longopts}
389 \textcolor{comment}{     *  optind is current/last index into argv}
390 \textcolor{comment}{     *  optarg is value attached(-d88) or next element(-d 88) of argv}
391 \textcolor{comment}{     *  opterr flags a scanning error}
392 \textcolor{comment}{     */}
393     \textcolor{keywordflow}{while} ((opt = getopt\_long(argc, argv, \textcolor{stringliteral}{"d:m:n:i:a:usvh"}, longopts, &longindex)) != -1) \{
394         \textcolor{keywordflow}{switch} (opt) \{
395             \textcolor{keywordflow}{case} \textcolor{charliteral}{'u'}:
396                 \hyperlink{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{gd\_i\_unique\_registry} = 1;
397                 \textcolor{keywordflow}{break};
398             \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}:
399                 \hyperlink{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{gd\_i\_display} = 1;
400                 \textcolor{keywordflow}{break};
401             \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}:
402                 \textcolor{keywordflow}{if} (optarg) \{
403                     \hyperlink{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}{gd\_i\_debug} = atoi(optarg);
404                 \} \textcolor{keywordflow}{else} \{
405                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
406                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
407                 \}
408                 \textcolor{keywordflow}{break};
409             \textcolor{keywordflow}{case} \textcolor{charliteral}{'m'}:
410                 \textcolor{keywordflow}{if} (optarg) \{
411                     \hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\_pch\_message} = strdup(optarg);
412                 \} \textcolor{keywordflow}{else} \{
413                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
414                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
415                 \}
416                 \textcolor{keywordflow}{break};
417             \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
418                 \textcolor{keywordflow}{if} (optarg) \{
419                     \hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\_i\_update} = atoi(optarg);
420                 \} \textcolor{keywordflow}{else} \{
421                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
422                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
423                 \}
424                 \textcolor{keywordflow}{break};
425             \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}:
426                 \textcolor{keywordflow}{if} (optarg) \{
427                     \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} = strdup(optarg);
428                 \} \textcolor{keywordflow}{else} \{
429                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
430                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
431                 \}
432                 \textcolor{keywordflow}{break};
433             \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:
434                 \textcolor{keywordflow}{if} (optarg) \{
435                     \hyperlink{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}{gd\_i\_i2c\_address} = atoi(optarg);
436                 \} \textcolor{keywordflow}{else} \{
437                     skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"%s: input param was invalid! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind,
438                                     opterr);
439                     \textcolor{keywordflow}{return} (EXIT\_FAILURE);
440                 \}
441                 \textcolor{keywordflow}{break};
442             \textcolor{keywordflow}{case} \textcolor{charliteral}{'v'}:
443                 skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)tProgram => %s\(\backslash\)n\(\backslash\)tVersion => %s\(\backslash\)n\(\backslash\)tSkoona Development
      \(\backslash\)n\(\backslash\)t<skoona@gmail.com>\(\backslash\)n"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \hyperlink{cmd_d_c_8c_aa326a05d5e30f9e9a4bb0b4469d5d0c0}{PACKAGE\_VERSION});
444                 \textcolor{keywordflow}{return} (EXIT\_FAILURE);
445                 \textcolor{keywordflow}{break};
446             \textcolor{keywordflow}{case} \textcolor{charliteral}{'?'}:
447                 skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"%s: unknown input param! %c[%d:%d:%d]\(\backslash\)n"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, (\textcolor{keywordtype}{char}) opt, longindex, optind, opterr);
448                 \hyperlink{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{skn\_locator\_print\_usage}();
449                 \textcolor{keywordflow}{return} (EXIT\_FAILURE);
450                 \textcolor{keywordflow}{break};
451             \textcolor{keywordflow}{default}: \textcolor{comment}{/* help and default */}
452                 \hyperlink{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{skn\_locator\_print\_usage}();
453                 \textcolor{keywordflow}{return} (EXIT\_FAILURE);
454                 \textcolor{keywordflow}{break};
455         \}
456     \}
457 
458     \textcolor{keywordflow}{return} EXIT\_SUCCESS;
459 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=256pt]{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+locator\+\_\+print\+\_\+usage@{skn\+\_\+locator\+\_\+print\+\_\+usage}}
\index{skn\+\_\+locator\+\_\+print\+\_\+usage@{skn\+\_\+locator\+\_\+print\+\_\+usage}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+locator\+\_\+print\+\_\+usage}]{\setlength{\rightskip}{0pt plus 5cm}static void skn\+\_\+locator\+\_\+print\+\_\+usage (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70}


Definition at line 330 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+ch\+\_\+program\+\_\+desc, and gd\+\_\+ch\+\_\+program\+\_\+name.



Referenced by skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().


\begin{DoxyCode}
330                                       \{
331     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"%s -- %s"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, 
      \hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\_ch\_program\_desc});
332     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)tSkoona Development <skoona@gmail.com>"});
333     \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"udp\_locator\_client"}) == 0) \{
334         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-v] [-m 'any text msg'] [-u] [-h|--help]"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
335         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
336         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -u, --unique-registry\(\backslash\)t List unique entries from all responses."});
337         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -m, --message\(\backslash\)tAny text to send; 'stop' cause service to terminate."});
338     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"udp\_locator\_service"}) == 0) \{
339         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-s] [-v] [-m '<delimited-response-message-string>'] [-a
       'my\_service\_name'] [-h|--help]"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
340         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  Format:
       name=<service-name>,ip=<service-ipaddress>ddd.ddd.ddd.ddd,port=<service-portnumber>ddddd <line-delimiter>"});
341         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  REQUIRED   <line-delimiter> is one of these '|', '%', ';'"});
342         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  example: -m
       'name=rpi\_locator\_service,ip=192.168.1.15,port=48028|name=lcd\_display\_service, ip=192.168.1.15, port=48029|'"});
343         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
344         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -a, --alt-service-name=my\_service\_name"});
345         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"                       lcd\_display\_service is default, use this to change name."});
346         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -s, --include-display-service\(\backslash\)tInclude DisplayService entry in default registry.
      "});
347     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"lcd\_display\_client"}) == 0) \{
348         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-v] [-m 'message for display'] [-n 1|300] [-a 'my\_service\_name']
       [-h|--help]"}, \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
349         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
350         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -a, --alt-service-name=my\_service\_name"});
351         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"                       lcd\_display\_service is default, use this to change name."});
352         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -m, --message\(\backslash\)tRequest message to send."});
353         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -n, --non-stop=DD\(\backslash\)tContinue to send updates every DD seconds until ctrl-break."})
      ;
354     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, \textcolor{stringliteral}{"a2d\_display\_client"}) == 0) \{
355         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"Usage:\(\backslash\)n  %s [-v] [-n 1|300] [-i ddd] [-a 'my\_service\_name'] [-h|--help]"}, 
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name});
356         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nOptions:"});
357         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -a, --alt-service-name=my\_service\_name"});
358         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"                       lcd\_display\_service is default, use this to change target."}
      );
359         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -i, --i2c-address=ddd\(\backslash\)tI2C decimal address. | [0x27=39, 0x20=32]"});
360         skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -n, --non-stop=DD\(\backslash\)tContinue to send updates every DD seconds until ctrl-break."})
      ;
361     \}
362     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -v, --version\(\backslash\)tVersion printout."});
363     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"  -h, --help\(\backslash\)t\(\backslash\)tShow this help screen."});
364 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aabf69b42c470c2372e0854132e22cc70_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set@{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set}}
\index{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set@{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name, }
\item[{const char $\ast$}]{desc}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}


Definition at line 461 of file skn\+\_\+network\+\_\+helpers.\+c.



References gd\+\_\+ch\+\_\+host\+Name, gd\+\_\+ch\+\_\+host\+Short\+Name, gd\+\_\+ch\+\_\+program\+\_\+desc, gd\+\_\+ch\+\_\+program\+\_\+name, and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F.



Referenced by main().


\begin{DoxyCode}
461                                                                               \{
462     \textcolor{keywordtype}{char} hostName[\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF}];
463     \textcolor{keywordtype}{char} * phostName = hostName;
464 
465     strncpy(\hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}, name, \textcolor{keyword}{sizeof}(
      \hyperlink{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{gd\_ch\_program\_name}) - 1);
466     strncpy(\hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\_ch\_program\_desc}, desc, \textcolor{keyword}{sizeof}(
      \hyperlink{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{gd\_ch\_program\_desc}) - 1);
467 
468     gethostname(hostName, \textcolor{keyword}{sizeof}(hostName) - 1);
469         strncpy(\hyperlink{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{gd\_ch\_hostName}, hostName, \textcolor{keyword}{sizeof}(\hyperlink{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{gd\_ch\_hostName}) - 1);
470         strsep(&phostName, \textcolor{stringliteral}{"."});
471         strncpy(\hyperlink{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{gd\_ch\_hostShortName}, hostName, \textcolor{keyword}{sizeof}(
      \hyperlink{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{gd\_ch\_hostShortName}) - 1);
472 
473 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=281pt]{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+create@{skn\+\_\+service\+\_\+registry\+\_\+create}}
\index{skn\+\_\+service\+\_\+registry\+\_\+create@{skn\+\_\+service\+\_\+registry\+\_\+create}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf P\+Service\+Registry} skn\+\_\+service\+\_\+registry\+\_\+create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356}
service\+\_\+registry\+\_\+create()


\begin{DoxyItemize}
\item Collection of Services and their locations
\item Returns the Registry 
\end{DoxyItemize}

Definition at line 796 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::cb\+Name, \+\_\+service\+Registry\+::computed\+Max, \+\_\+service\+Registry\+::count, and \+\_\+service\+Registry\+::entry.



Referenced by skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(), and skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry().


\begin{DoxyCode}
796                                                       \{
797     \hyperlink{struct__service_registry}{PServiceRegistry} psreg = NULL;
798 
799     psreg = (\hyperlink{skn__common__headers_8h_af679d9e5696daacf5f1b8699edb652ab}{PServiceRegistry}) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct__service_registry}{ServiceRegistry}));
800     \textcolor{keywordflow}{if} (psreg != NULL) \{
801         memset(psreg, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__service_registry}{ServiceRegistry}));
802         strcpy(psreg->\hyperlink{struct__service_registry_ab822dc7bf25dc0eb498e81f81581e448}{cbName}, \textcolor{stringliteral}{"PServiceRegistry"});
803         psreg->\hyperlink{struct__service_registry_afc84b25f775a67d768cf4915db3c7115}{computedMax} = (\textcolor{keyword}{sizeof}(psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}) / \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void} *));
804         psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count} = 0;
805     \}
806 
807     \textcolor{keywordflow}{return} psreg;
808 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+destroy@{skn\+\_\+service\+\_\+registry\+\_\+destroy}}
\index{skn\+\_\+service\+\_\+registry\+\_\+destroy@{skn\+\_\+service\+\_\+registry\+\_\+destroy}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+service\+\_\+registry\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6}
service\+\_\+registry\+\_\+destroy()
\begin{DoxyItemize}
\item Free each entry, then the Registry itself. 
\end{DoxyItemize}

Definition at line 1158 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count, and \+\_\+service\+Registry\+::entry.



Referenced by main(), and skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format().


\begin{DoxyCode}
1158                                                           \{
1159     \textcolor{keywordtype}{int} index = 0;
1160 
1161     \textcolor{keywordflow}{if} (psreg == NULL)
1162         \textcolor{keywordflow}{return};
1163 
1164     \textcolor{keywordflow}{for} (index = 0; index < psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}; index++) \{
1165         free(psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]);
1166     \}
1167     free(psreg);
1168 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a7fa761695029d3ab846d21f5c94ce61b}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count}}
\index{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psr}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a7fa761695029d3ab846d21f5c94ce61b}
Returns the number of services in registry 

Definition at line 946 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count.



Referenced by main().


\begin{DoxyCode}
946                                                            \{
947     \textcolor{keywordflow}{return} psr->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count};
948 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{skn__network__helpers_8c_a7fa761695029d3ab846d21f5c94ce61b_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ac3a88d752add9ae0a2ca65029797bcdc}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create}}
\index{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}static int skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg, }
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{ip, }
\item[{char $\ast$}]{port, }
\item[{int $\ast$}]{errors}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{skn__network__helpers_8c_ac3a88d752add9ae0a2ca65029797bcdc}
service\+\_\+registry\+\_\+entry\+\_\+create()


\begin{DoxyItemize}
\item Create a Service Entry and adds it to the Registry collection
\item Returns E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E/\+S\+U\+C\+C\+E\+S\+S 
\end{DoxyItemize}

Definition at line 816 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Entry\+::cb\+Name, \+\_\+service\+Registry\+::computed\+Max, \+\_\+service\+Registry\+::count, \+\_\+service\+Registry\+::entry, gd\+\_\+i\+\_\+unique\+\_\+registry, \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, \+\_\+service\+Entry\+::port, S\+D\+\_\+\+D\+E\+B\+U\+G, S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G, and skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry().



Referenced by skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
816                                                                                                            
               \{
817     \hyperlink{struct__service_entry}{PRegistryEntry} prent = NULL;
818 
819     \textcolor{keywordflow}{if} ((psreg == NULL) || (name == NULL) || (ip == NULL) || (port == NULL)) \{
820         skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Parse failure missing value: (%s,%s,%s)"}, name, ip, port);
821         \textcolor{keywordflow}{if} (errors != NULL)
822             (*errors)++;
823         \textcolor{keywordflow}{return} EXIT\_FAILURE;
824     \}
825 
826     \textcolor{keywordflow}{if} (psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count} >= psreg->\hyperlink{struct__service_registry_afc84b25f775a67d768cf4915db3c7115}{computedMax}) \{
827         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Capacity Error: Too many! New entry %d:%s exceeds maximum of %d
       allowed! Consider using the --unique-registry option."}, psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}, name, psreg->
      \hyperlink{struct__service_registry_afc84b25f775a67d768cf4915db3c7115}{computedMax});
828         \textcolor{keywordflow}{if} (errors != NULL)
829             (*errors)++;
830         \textcolor{keywordflow}{return} EXIT\_FAILURE;
831     \}
832 
833     \textcolor{comment}{/* update or create entry */}
834     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{gd\_i\_unique\_registry}) \{
835         prent = \hyperlink{skn__network__helpers_8c_add839b84b8249372e523219f7036b77d}{skn\_service\_registry\_find\_entry}(psreg, name);
836     \}
837     \textcolor{keywordflow}{if} (prent == NULL) \{
838         prent = (\hyperlink{skn__common__headers_8h_ac4f78e564b456af8e033cbc1275db23e}{PRegistryEntry}) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct__service_entry}{RegistryEntry}));
839         \textcolor{keywordflow}{if} (prent != NULL) \{
840             psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}] = prent;
841             psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}++;
842         \}
843     \}
844 
845     \textcolor{keywordflow}{if} (prent != NULL) \{
846         memset(prent, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__service_entry}{RegistryEntry}));
847         strcpy(prent->\hyperlink{struct__service_entry_ac654e9e33bf977ee6c36c46af83fbdd4}{cbName}, \textcolor{stringliteral}{"PRegistryEntry"});
848         strcpy(prent->\hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, name);
849         strcpy(prent->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, ip);
850         prent->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port} = atoi(port);
851     \} \textcolor{keywordflow}{else} \{
852         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Internal Memory Error: Could not allocate memory for entry %d:%s
       !"}, name, psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count});
853         \textcolor{keywordflow}{if} (errors != NULL)
854             (*errors)++;
855 
856         \textcolor{keywordflow}{return} EXIT\_FAILURE;
857     \}
858 
859     \textcolor{keywordflow}{return} psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count};
860 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{skn__network__helpers_8c_ac3a88d752add9ae0a2ca65029797bcdc_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ac3a88d752add9ae0a2ca65029797bcdc_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a7cf958dc1f99b31736ce1ca0091f503c}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper}}
\index{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper}]{\setlength{\rightskip}{0pt plus 5cm}static void $\ast$ skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{key, }
\item[{char $\ast$$\ast$}]{name, }
\item[{char $\ast$$\ast$}]{ip, }
\item[{char $\ast$$\ast$}]{port}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{skn__network__helpers_8c_a7cf958dc1f99b31736ce1ca0091f503c}
service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper()
\begin{DoxyItemize}
\item Determines which field should be updated
\item compute the address of each field on demand, from local vars
\item Returns the address offset of the registry field requested 
\end{DoxyItemize}

Definition at line 992 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+strip().



Referenced by skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
992                                                                                                        \{
993     \textcolor{keywordtype}{int} index = 0;
994     \textcolor{keywordtype}{char} * guess = NULL;
995     \textcolor{keywordtype}{void} * result = NULL;
996     \textcolor{keywordtype}{char} * names[4] = \{ \textcolor{stringliteral}{"name"}, \textcolor{stringliteral}{"ip"}, \textcolor{stringliteral}{"port"}, NULL \};
997     \textcolor{keywordtype}{void} * offsets[] = \{ name, ip, port, NULL \};
998 
999     \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(key); \textcolor{comment}{// cleanup first}
1000     \textcolor{keywordflow}{for} (index = 0; names[index] != NULL; index++) \{ \textcolor{comment}{// find direct match}
1001         \textcolor{keywordflow}{if} (strcmp(names[index], key) == 0) \{
1002             result = offsets[index];
1003             \textcolor{keywordflow}{break};
1004         \}
1005     \}
1006     \textcolor{keywordflow}{if} (result == NULL) \{ \textcolor{comment}{// try to guess what the key is}
1007         \textcolor{keywordflow}{if} ((guess = strstr(key, \textcolor{stringliteral}{"e"})) != NULL) \{
1008             result = offsets[0];
1009         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((guess = strstr(key, \textcolor{stringliteral}{"i"})) != NULL) \{
1010             result = offsets[1];
1011         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((guess = strstr(key, \textcolor{stringliteral}{"t"})) != NULL) \{
1012             result = offsets[2];
1013         \}
1014     \}
1015 
1016     \textcolor{keywordflow}{return} result;
1017 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{skn__network__helpers_8c_a7cf958dc1f99b31736ce1ca0091f503c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a7cf958dc1f99b31736ce1ca0091f503c_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ad9bf0962b5c04c4642b2012940230b41}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log}}
\index{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log@{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{response}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ad9bf0962b5c04c4642b2012940230b41}
service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log()


\begin{DoxyItemize}
\item Prints each pair of values from a text registry entry 
\end{DoxyItemize}

Definition at line 906 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+N\+O\+T\+I\+C\+E.



Referenced by main(), and skn\+\_\+service\+\_\+registry\+\_\+provider().


\begin{DoxyCode}
906                                                                             \{
907     \textcolor{keywordtype}{char} * worker = NULL, *parser = NULL, *base = strdup(response);
908     parser = base;
909     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Response Message:"});
910     \textcolor{keywordflow}{while} (( ((worker = strsep(&parser, \textcolor{stringliteral}{"|"})) != NULL) ||
911           ((worker = strsep(&parser, \textcolor{stringliteral}{"%"})) != NULL) ||
912           ((worker = strsep(&parser, \textcolor{stringliteral}{";"})) != NULL)) &&
913           (strlen(worker) > 8)) \{
914         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"[%s]"}, worker);
915     \}
916     free(base);
917 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad9bf0962b5c04c4642b2012940230b41_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_add839b84b8249372e523219f7036b77d}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry@{skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry}}
\index{skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry@{skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Registry\+Entry} skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg, }
\item[{char $\ast$}]{service\+Name}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_add839b84b8249372e523219f7036b77d}
service\+\_\+registry\+\_\+find\+\_\+entry()


\begin{DoxyItemize}
\item Finds an existing entry
\item Returns E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E/\+S\+U\+C\+C\+E\+S\+S 
\end{DoxyItemize}

Definition at line 925 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::entry, and \+\_\+service\+Entry\+::name.



Referenced by main(), and skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create().


\begin{DoxyCode}
925                                                                                           \{
926     \hyperlink{struct__service_entry}{PRegistryEntry} prent = NULL;
927     \textcolor{keywordtype}{int} index = 0;
928 
929     \textcolor{keywordflow}{if} (psreg == NULL)
930         \textcolor{keywordflow}{return} NULL;
931 
932     \textcolor{keywordflow}{while} (index < psreg->count) \{
933         \textcolor{keywordflow}{if} (strcmp(serviceName, psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->\hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}) == 0) \{
934             prent = psreg->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index];
935             \textcolor{keywordflow}{break};
936         \}
937         index++;
938     \}
939 
940     \textcolor{keywordflow}{return} prent;
941 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_add839b84b8249372e523219f7036b77d_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a995d62b05bfc792ff53fda5c684fdad3}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref@{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref}}
\index{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref@{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref (
\begin{DoxyParamCaption}
\item[{{\bf P\+Registry\+Entry}}]{prent, }
\item[{char $\ast$}]{field}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a995d62b05bfc792ff53fda5c684fdad3}
service\+\_\+registry\+\_\+get\+\_\+entry\+\_\+field\+\_\+ref()
\begin{DoxyItemize}
\item compute the address of each field on demand, from struct
\item Returns the address offset of the registry field requested 
\end{DoxyItemize}

Definition at line 968 of file skn\+\_\+network\+\_\+helpers.\+c.


\begin{DoxyCode}
968                                                                                    \{
969     \textcolor{keywordtype}{int} index = 0;
970     \textcolor{keywordtype}{void} * result = NULL;
971     \textcolor{keywordtype}{char} * names[4] = \{ \textcolor{stringliteral}{"name"}, \textcolor{stringliteral}{"ip"}, \textcolor{stringliteral}{"port"}, NULL \};
972     \textcolor{keywordtype}{int} offsets[4] = \{ offsetof(\hyperlink{struct__service_entry}{RegistryEntry}, name),
973                        offsetof(\hyperlink{struct__service_entry}{RegistryEntry}, ip),
974                        offsetof(\hyperlink{struct__service_entry}{RegistryEntry}, port),
975                        0
976                      \};
977     \textcolor{keywordflow}{for} (index = 0; names[index] != NULL; index++) \{
978         \textcolor{keywordflow}{if} (strcmp(names[index], field) == 0) \{
979             result = (\textcolor{keywordtype}{void} *) prent + offsets[index];
980             \textcolor{keywordflow}{break};
981         \}
982     \}
983     \textcolor{keywordflow}{return} result;
984 \}
\end{DoxyCode}
\hypertarget{skn__network__helpers_8c_ac5eaa92d1366ef646641f8ae3b11ed69}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast@{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast}}
\index{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast@{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Service\+Registry} skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast (
\begin{DoxyParamCaption}
\item[{int}]{i\+\_\+socket, }
\item[{char $\ast$}]{request}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ac5eaa92d1366ef646641f8ae3b11ed69}
service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast()


\begin{DoxyItemize}
\item Retrieves entries from every service that responds to the broadcast parses and builds a new Registry of all entries, or unique entries.
\item Returns Populated Registry 
\end{DoxyItemize}

Definition at line 1093 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+ip\+Broadcast\+Array\+::broad\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::count, \+\_\+ip\+Broadcast\+Array\+::default\+Index, gd\+\_\+ch\+\_\+intf\+Name, gd\+\_\+ch\+\_\+ip\+Address, gi\+\_\+exit\+\_\+flag, \+\_\+ip\+Broadcast\+Array\+::if\+Name\+Str, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+O\+R, S\+D\+\_\+\+D\+E\+B\+U\+G, S\+D\+\_\+\+E\+M\+E\+R\+G, S\+D\+\_\+\+N\+O\+T\+I\+C\+E, S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G, skn\+\_\+duration\+\_\+in\+\_\+milliseconds(), S\+K\+N\+\_\+\+F\+I\+N\+D\+\_\+\+R\+P\+I\+\_\+\+P\+O\+R\+T, skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(), S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+U\+N, skn\+\_\+service\+\_\+registry\+\_\+create(), skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse(), S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main().


\begin{DoxyCode}
1093                                                                                          \{
1094     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
1095     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
1096     \hyperlink{struct__ip_broadcast_array}{IPBroadcastArray} aB;
1097     \textcolor{keywordtype}{int} vIndex = 0;
1098     \textcolor{keywordtype}{char} response[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
1099     \textcolor{keywordtype}{char} recvHostName[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
1100     \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int} rLen = 0;
1101     \textcolor{keyword}{struct }timeval start;
1102 
1103     memset(response, 0, \textcolor{keyword}{sizeof}(response));
1104     memset(recvHostName, 0, \textcolor{keyword}{sizeof}(recvHostName));
1105 
1106     \hyperlink{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4}{skn\_get\_broadcast\_ip\_array}(&aB);
1107     strncpy(\hyperlink{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}{gd\_ch\_intfName}, aB.\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, 
      \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
1108     strncpy(\hyperlink{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}{gd\_ch\_ipAddress}, aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.
      \hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], \hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
1109 
1110     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Socket Bound to %s"}, aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.
      \hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}]);
1111 
1112     gettimeofday(&start, NULL);
1113     \textcolor{keywordflow}{for} (vIndex = 0; vIndex < aB.\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}; vIndex++) \{
1114         memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
1115         remaddr.sin\_family = AF\_INET;
1116         remaddr.sin\_addr.s\_addr = inet\_addr(aB.\hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[vIndex]);
1117         remaddr.sin\_port = htons(\hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
1118 
1119         \textcolor{keywordflow}{if} (sendto(i\_socket, request, strlen(request), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr, addrlen) < 0) \{
1120             skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"SendTo() Timed out; Failure code=%d, etext=%s"}, errno, 
      strerror(errno));
1121             \textcolor{keywordflow}{break};
1122         \}
1123         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Message Broadcasted on %s:%s:%d"}, aB.
      \hyperlink{struct__ip_broadcast_array_a193b90f271c061e8bf1593bab6a182c9}{ifNameStr}[vIndex], aB.\hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[vIndex], 
      \hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
1124     \}
1125 
1126     \hyperlink{struct__service_registry}{PServiceRegistry} psr = \hyperlink{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356}{skn\_service\_registry\_create}();
1127     skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Waiting for all responses\(\backslash\)n"});
1128     \textcolor{keywordflow}{while} (\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} == \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN}) \{ \textcolor{comment}{// depends on a socket timeout
       of 5 seconds}
1129 
1130         rLen = recvfrom(i\_socket, response, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr
      , &addrlen);
1131         \textcolor{keywordflow}{if} (rLen == \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{  \textcolor{comment}{// EAGAIN}
1132             \textcolor{keywordflow}{break};
1133         \}
1134         response[rLen] = 0;
1135 
1136         rLen = getnameinfo(((\textcolor{keyword}{struct} sockaddr *) &remaddr), \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} sockaddr\_in), recvHostName, (
      \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} -1), NULL, 0, NI\_DGRAM);
1137         \textcolor{keywordflow}{if} (rLen != 0) \{
1138             skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"getnameinfo() failed: %s\(\backslash\)n"}, gai\_strerror(rLen));
1139             \textcolor{keywordflow}{break};
1140         \}
1141 
1142         skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Response(%1.3fs) received from %s @ %s:%d"},
1143                         \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start, NULL),
1144                         recvHostName,
1145                         inet\_ntoa(remaddr.sin\_addr),
1146                         ntohs(remaddr.sin\_port)
1147                   );
1148         \hyperlink{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b}{skn\_service\_registry\_response\_parse}(psr, response, NULL);
1149     \}
1150 
1151     \textcolor{keywordflow}{return} (psr);
1152 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ac5eaa92d1366ef646641f8ae3b11ed69_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{skn__network__helpers_8c_ac5eaa92d1366ef646641f8ae3b11ed69_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a428cbc83e209bab75845616b6c458724}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries@{skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries}}
\index{skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries@{skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+service\+\_\+registry\+\_\+list\+\_\+entries (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psr}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a428cbc83e209bab75845616b6c458724}
Logs each entry in service registry 

Definition at line 953 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count, \+\_\+service\+Registry\+::entry, \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, \+\_\+service\+Entry\+::port, and S\+D\+\_\+\+I\+N\+F\+O.



Referenced by main().


\begin{DoxyCode}
953                                                             \{
954     \textcolor{keywordtype}{int} index = 0;
955 
956     skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nServiceRegistry:"});
957     \textcolor{keywordflow}{for} (index = 0; index < psr->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count}; index++) \{
958         skn\_logger(\hyperlink{skn__common__headers_8h_a1bcf100bcdd91eacaf0b05d83c88aedf}{SD\_INFO}, \textcolor{stringliteral}{"RegistryEntry(%02d) name=%s, ip=%s, port=%d"}, index, psr->
      \hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->\hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, psr->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, psr->\hyperlink{struct__service_registry_ad35429e298009925477ba528ea500fe8}{entry}[index]->
      \hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
959     \}
960     \textcolor{keywordflow}{return} index;
961 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{skn__network__helpers_8c_a428cbc83e209bab75845616b6c458724_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ab14673e76d0b2debcb653965d642d16c}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+provider@{skn\+\_\+service\+\_\+registry\+\_\+provider}}
\index{skn\+\_\+service\+\_\+registry\+\_\+provider@{skn\+\_\+service\+\_\+registry\+\_\+provider}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+provider}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+service\+\_\+registry\+\_\+provider (
\begin{DoxyParamCaption}
\item[{int}]{i\+\_\+socket, }
\item[{char $\ast$}]{response}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ab14673e76d0b2debcb653965d642d16c}


Definition at line 691 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::default\+Index, gd\+\_\+i\+\_\+display, gd\+\_\+pch\+\_\+service\+\_\+name, gi\+\_\+exit\+\_\+flag, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+O\+R, S\+D\+\_\+\+D\+E\+B\+U\+G, S\+D\+\_\+\+E\+M\+E\+R\+G, S\+D\+\_\+\+E\+R\+R, S\+D\+\_\+\+N\+O\+T\+I\+C\+E, S\+K\+N\+\_\+\+F\+I\+N\+D\+\_\+\+R\+P\+I\+\_\+\+P\+O\+R\+T, skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(), S\+K\+N\+\_\+\+R\+P\+I\+\_\+\+D\+I\+S\+P\+L\+A\+Y\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+P\+O\+R\+T, S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+U\+N, skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+response\+\_\+message\+\_\+log(), skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(), S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+F\+F, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main().


\begin{DoxyCode}
691                                                                 \{
692     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
693     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
694     \hyperlink{struct__ip_broadcast_array}{IPBroadcastArray} aB;
695     \textcolor{keywordtype}{char} request[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
696     \textcolor{keywordtype}{char} recvHostName[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
697     \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int} rLen = 0, rc = 0;
698     \textcolor{keywordtype}{int} exit\_code = EXIT\_SUCCESS, i\_response\_len = 0;
699 
700 
701     memset(request, 0, \textcolor{keyword}{sizeof}(request));
702     memset(recvHostName, 0, \textcolor{keyword}{sizeof}(recvHostName));
703 
704     rc = \hyperlink{skn__network__helpers_8c_a7915d40f313cdc93ad243bf53b1937d4}{skn\_get\_broadcast\_ip\_array}(&aB);
705     \textcolor{keywordflow}{if} (rc == \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
706         \textcolor{keywordflow}{return} EXIT\_FAILURE;
707     \}
708 
709     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} == NULL) \{
710         \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} = \textcolor{stringliteral}{"lcd\_display\_service"};
711     \}
712 
713     \textcolor{keywordflow}{if} (strlen(response) < 16) \{
714         \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{gd\_i\_display}) \{
715             i\_response\_len = snprintf(response, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1),
716                      \textcolor{stringliteral}{"name=rpi\_locator\_service,ip=%s,port=%d|"}
717                      \textcolor{stringliteral}{"name=%s,ip=%s,port=%d|"},
718                      aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT},
719                      \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name},
720                      aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{skn__common__headers_8h_a438e6442bfb3d18e1846357cf7379216}{SKN\_RPI\_DISPLAY\_SERVICE\_PORT});
721         \} \textcolor{keywordflow}{else} \{
722             i\_response\_len = snprintf(response, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1),
723                             \textcolor{stringliteral}{"name=rpi\_locator\_service,ip=%s,port=%d|"},
724                             aB.\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
725         \}
726     \}
727     \hyperlink{skn__network__helpers_8c_ad9bf0962b5c04c4642b2012940230b41}{skn\_service\_registry\_entry\_response\_message\_log}(response
      );
728 
729     skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Socket Bound to %s:%s"}, aB.\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, aB.
      \hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[aB.\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}]);
730 
731     \textcolor{keywordflow}{while} (\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} == \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN}) \{
732         memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
733         remaddr.sin\_family = AF\_INET;
734         remaddr.sin\_port = htons(\hyperlink{skn__common__headers_8h_a811ab3c1ca8c51a13852fdbd51707202}{SKN\_FIND\_RPI\_PORT});
735         remaddr.sin\_addr.s\_addr = htonl(INADDR\_ANY);
736         addrlen = \textcolor{keyword}{sizeof}(remaddr);
737 
738         \textcolor{keywordflow}{if} ((rLen = recvfrom(i\_socket, request, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1), 0, (\textcolor{keyword}{struct} sockaddr *) &
      remaddr, &addrlen)) < 0) \{
739             \textcolor{keywordflow}{if} (errno == EAGAIN) \{
740                 \textcolor{keywordflow}{continue};
741             \}
742             skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"RcvFrom() Failure code=%d, etext=%s"}, errno, strerror(errno));
743             exit\_code = EXIT\_FAILURE;
744             \textcolor{keywordflow}{break};
745         \}
746         request[rLen] = 0;
747 
748         rc = getnameinfo(((\textcolor{keyword}{struct} sockaddr *) &remaddr), \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} sockaddr\_in), recvHostName, (
      \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}-1), NULL, 0, NI\_DGRAM);
749         \textcolor{keywordflow}{if} (rc != 0) \{
750             skn\_logger(\hyperlink{skn__common__headers_8h_a29cd8395c2db41768436986ab7a666b3}{SD\_ERR}, \textcolor{stringliteral}{"GetNameInfo() Failure code=%d, etext=%s"}, errno, strerror(errno));
751             exit\_code = EXIT\_FAILURE;
752             \textcolor{keywordflow}{break};
753         \}
754         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Received request from %s @ %s:%d"}, recvHostName, inet\_ntoa(remaddr.
      sin\_addr), ntohs(remaddr.sin\_port));
755         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Request data: [%s]\(\backslash\)n"}, request);
756 
757         \textcolor{comment}{/*}
758 \textcolor{comment}{         * Add new registry entry by command */}
759         \textcolor{keywordflow}{if} ((strncmp(\textcolor{stringliteral}{"ADD "}, request, \textcolor{keyword}{sizeof}(\textcolor{stringliteral}{"ADD"})) == 0) &&
760             (\hyperlink{skn__network__helpers_8c_a02997172ea3c12f0cf2b7db74ee3841f}{skn\_service\_registry\_valiadate\_response\_format}(&
      request[4]) == EXIT\_SUCCESS)) \{
761             \textcolor{keywordflow}{if} ((response[i\_response\_len-1] == \textcolor{charliteral}{'|'}) ||
762                 (response[i\_response\_len-1] == \textcolor{charliteral}{'%'}) ||
763                 (response[i\_response\_len-1] == \textcolor{charliteral}{';'})) \{
764                 strncpy(&response[i\_response\_len], &request[4], ((\hyperlink{cmd_d_c_8c_a352051a682a5205841c1bda6e30bb30d}{SZ\_COMM\_BUFF} - 1) - (strlen(
      response) + strlen(&request[4]))) );
765                 i\_response\_len += (rLen - 4);
766                 skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"COMMAND: Add New RegistryEntry Request Accepted!"});
767             \}
768         \}
769 
770         \textcolor{keywordflow}{if} (sendto(i\_socket, response, strlen(response), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr, addrlen) < 0) \{
771             skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"SendTo() Failure code=%d, etext=%s"}, errno, strerror(errno));
772             exit\_code = EXIT\_FAILURE;
773             \textcolor{keywordflow}{break};
774         \}
775 
776         \textcolor{comment}{/*}
777 \textcolor{comment}{         * Shutdown by command */}
778         \textcolor{keywordflow}{if} (strcmp(\textcolor{stringliteral}{"QUIT!"}, request) == 0) \{
779             skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"COMMAND: Shutdown Requested! exit code=%d"}, 
      \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag});
780             \textcolor{keywordflow}{break};
781         \}
782     \}
783 
784     \textcolor{keywordflow}{return} exit\_code;
785 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ab14673e76d0b2debcb653965d642d16c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{skn__network__helpers_8c_ab14673e76d0b2debcb653965d642d16c_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse@{skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse}}
\index{skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse@{skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse}]{\setlength{\rightskip}{0pt plus 5cm}static int skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Registry}}]{psreg, }
\item[{const char $\ast$}]{response, }
\item[{int $\ast$}]{errors}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b}
service\+\_\+registry\+\_\+response\+\_\+parse()

Parse this response message, guess spellings, skip invalid, export error count

Format\+: name=rpi\+\_\+locator\+\_\+service,ip=10.\+100.\+1.\+19,port=48028$\vert$ name=lcd\+\_\+display\+\_\+service,ip=10.\+100.\+1.\+19,port=48029$\vert$

the vertical bar char '$\vert$' is the line separator, \% and ; are also supported 

Definition at line 1030 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Registry\+::count, S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G, skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create(), skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper(), and skn\+\_\+strip().



Referenced by skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format(), and skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry().


\begin{DoxyCode}
1030                                                                                                           \{
1031     \textcolor{keywordtype}{int} control = 1;
1032     \textcolor{keywordtype}{char} *base = NULL, *psep = NULL, *resp = NULL, *line = NULL,
1033          *keypair = NULL, *element = NULL,
1034          *name = NULL, *ip = NULL, *pport = NULL,
1035          **meta = NULL;
1036 
1037     base = resp = strdup(response);
1038 
1039     \textcolor{keywordflow}{if} (strstr(response, \textcolor{stringliteral}{"|"})) \{
1040         psep = \textcolor{stringliteral}{"|"};
1041     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strstr(response, \textcolor{stringliteral}{"%"})) \{
1042         psep = \textcolor{stringliteral}{"%"};
1043     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strstr(response, \textcolor{stringliteral}{";"})) \{
1044         psep = \textcolor{stringliteral}{";"};
1045     \}
1046 
1047     \textcolor{keywordflow}{while} ((line = strsep(&resp, psep)) != NULL) \{
1048         \textcolor{keywordflow}{if} (strlen(line) < 16) \{
1049             \textcolor{keywordflow}{continue};
1050         \}
1051 
1052         pport = ip = name = NULL;
1053         \textcolor{keywordflow}{while} ((keypair = strsep(&line, \textcolor{stringliteral}{","})) != NULL) \{
1054             \textcolor{keywordflow}{if} (strlen(keypair) < 1) \{
1055                 \textcolor{keywordflow}{continue};
1056             \}
1057 
1058             control = 1;
1059             element = strstr(keypair, \textcolor{stringliteral}{"="});
1060             \textcolor{keywordflow}{if} (element != NULL) \{
1061                 element[0] = 0;
1062                 meta = \hyperlink{skn__network__helpers_8c_a7cf958dc1f99b31736ce1ca0091f503c}{skn\_service\_registry\_entry\_create\_helper}(
      keypair, &name, &ip, &pport);
1063                 \textcolor{keywordflow}{if} (meta != NULL && (element[1] != 0)) \{
1064                     *meta = \hyperlink{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{skn\_strip}(++element);
1065                 \} \textcolor{keywordflow}{else} \{
1066                     control = 0;
1067                     \textcolor{keywordflow}{if} (errors != NULL)
1068                         (*errors)++;
1069                     skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Response format failure: for name=%s, ip=%s, port=%s,
       first failing entry: [%s]"}, name, ip, pport, keypair);
1070                     \textcolor{keywordflow}{break};
1071                 \}
1072             \}
1073         \} \textcolor{comment}{// end while line}
1074 
1075         \textcolor{keywordflow}{if} (control == 1) \{ \textcolor{comment}{// catch a breakout caused by no value}
1076             \hyperlink{skn__network__helpers_8c_ac3a88d752add9ae0a2ca65029797bcdc}{skn\_service\_registry\_entry\_create}(psreg, name, ip, pport, 
      errors);
1077         \}
1078 
1079     \} \textcolor{comment}{// end while buffer}
1080 
1081     free(base);
1082     \textcolor{keywordflow}{return} psreg->\hyperlink{struct__service_registry_a68062b14c6c9cb411e3602be664425bc}{count};
1083 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a02997172ea3c12f0cf2b7db74ee3841f}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format@{skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format}}
\index{skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format@{skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{response}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a02997172ea3c12f0cf2b7db74ee3841f}
service\+\_\+registry\+\_\+valiadate\+\_\+response\+\_\+format()


\begin{DoxyItemize}
\item Validates a text registry entry format
\item Returns E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E/\+S\+U\+C\+C\+E\+S\+S 
\end{DoxyItemize}

Definition at line 868 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+service\+\_\+registry\+\_\+create(), skn\+\_\+service\+\_\+registry\+\_\+destroy(), and skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse().



Referenced by main(), and skn\+\_\+service\+\_\+registry\+\_\+provider().


\begin{DoxyCode}
868                                                                          \{
869     \textcolor{keywordtype}{int} errors = 0; \textcolor{comment}{// false}
870 
871     \hyperlink{struct__service_registry}{PServiceRegistry} psr = \hyperlink{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356}{skn\_service\_registry\_create}();
872     \hyperlink{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b}{skn\_service\_registry\_response\_parse}(psr, response, &errors);
873     \hyperlink{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6}{skn\_service\_registry\_destroy}(psr);
874 
875     \textcolor{keywordflow}{if} (errors > 0) \{
876         \textcolor{keywordflow}{return} EXIT\_FAILURE; \textcolor{comment}{// false}
877     \} \textcolor{keywordflow}{else} \{
878         \textcolor{keywordflow}{return} EXIT\_SUCCESS; \textcolor{comment}{// true}
879     \}
880 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a02997172ea3c12f0cf2b7db74ee3841f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a02997172ea3c12f0cf2b7db74ee3841f_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a8977f322f126131c2ea52a745eb80843}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry@{skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry}}
\index{skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry@{skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Service\+Registry} skn\+\_\+service\+\_\+registry\+\_\+valiadated\+\_\+registry (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{response}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a8977f322f126131c2ea52a745eb80843}
service\+\_\+registry\+\_\+valiadated\+\_\+registry()


\begin{DoxyItemize}
\item Validate the text formatted entry and return registry collection
\item Returns a Registry with one entry 
\end{DoxyItemize}

Definition at line 888 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+service\+\_\+registry\+\_\+create(), and skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
888                                                                                 \{
889     \textcolor{keywordtype}{int} errors = 0;
890 
891     \hyperlink{struct__service_registry}{PServiceRegistry} psr = \hyperlink{skn__network__helpers_8c_afd5d5caebfd289afebe7b4ab07dfa356}{skn\_service\_registry\_create}();
892     \hyperlink{skn__network__helpers_8c_aabf99475217fa4608704ab3443757c5b}{skn\_service\_registry\_response\_parse}(psr, response, &errors);
893     \textcolor{keywordflow}{if} (errors > 0) \{
894         free(psr);
895         \textcolor{keywordflow}{return} NULL; \textcolor{comment}{// false}
896     \}
897 
898     \textcolor{keywordflow}{return} psr;
899 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a8977f322f126131c2ea52a745eb80843_cgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+service\+\_\+request\+\_\+create@{skn\+\_\+service\+\_\+request\+\_\+create}}
\index{skn\+\_\+service\+\_\+request\+\_\+create@{skn\+\_\+service\+\_\+request\+\_\+create}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+service\+\_\+request\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+Service\+Request} skn\+\_\+service\+\_\+request\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf P\+Registry\+Entry}}]{pre, }
\item[{int}]{host\+\_\+socket, }
\item[{char $\ast$}]{request}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}


Definition at line 602 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Request\+::cb\+Name, \+\_\+service\+Request\+::pre, \+\_\+service\+Request\+::request, \+\_\+service\+Request\+::socket, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main().


\begin{DoxyCode}
602                                                                                                \{
603     \hyperlink{struct__service_request}{PServiceRequest} psr = NULL;
604 
605     \textcolor{keywordflow}{if} (pre == NULL) \{
606         \textcolor{keywordflow}{return} NULL;
607     \}
608     psr = (\hyperlink{skn__common__headers_8h_a09c39b109fec01639de4bcbf7c481f18}{PServiceRequest}) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct__service_request}{ServiceRequest}));
609     memset(psr, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__service_request}{ServiceRequest}));
610     strcpy(psr->\hyperlink{struct__service_request_aab7831722782ba05f0c94087598a941e}{cbName}, \textcolor{stringliteral}{"PServiceRequest"});
611     psr->\hyperlink{struct__service_request_aa867fef3928c7511f50a494662311d13}{socket} = host\_socket;
612     psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre} = pre;
613     strncpy(psr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request}, request, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}-1);
614     \textcolor{keywordflow}{return} psr;
615 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+signals\+\_\+cleanup@{skn\+\_\+signals\+\_\+cleanup}}
\index{skn\+\_\+signals\+\_\+cleanup@{skn\+\_\+signals\+\_\+cleanup}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+signals\+\_\+cleanup}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+signals\+\_\+cleanup (
\begin{DoxyParamCaption}
\item[{int}]{sig}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58}


Definition at line 185 of file skn\+\_\+network\+\_\+helpers.\+c.



References gi\+\_\+exit\+\_\+flag, and S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+U\+N.



Referenced by main().


\begin{DoxyCode}
185                                   \{
186     signal(SIGINT, SIG\_DFL);
187     signal(SIGQUIT, SIG\_DFL);
188     signal(SIGTERM, SIG\_DFL);
189 
190     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} > \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN}) \{ \textcolor{comment}{// exit caused by some interrupt --
       otherwise it would be exactly 0}
191         kill(getpid(), sig);
192     \}
193 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+signals\+\_\+exit\+\_\+handler@{skn\+\_\+signals\+\_\+exit\+\_\+handler}}
\index{skn\+\_\+signals\+\_\+exit\+\_\+handler@{skn\+\_\+signals\+\_\+exit\+\_\+handler}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+signals\+\_\+exit\+\_\+handler}]{\setlength{\rightskip}{0pt plus 5cm}static void skn\+\_\+signals\+\_\+exit\+\_\+handler (
\begin{DoxyParamCaption}
\item[{int}]{sig}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07}
Control-\/\+C Program exit ref\+: \href{http://www.cons.org/cracauer/sigint.html}{\tt http\+://www.\+cons.\+org/cracauer/sigint.\+html} \href{http://www.chemie.fu-berlin.de/chemnet/use/info/libc/libc_21.html#SEC361}{\tt http\+://www.\+chemie.\+fu-\/berlin.\+de/chemnet/use/info/libc/libc\+\_\+21.\+html\#\+S\+E\+C361} 

Definition at line 174 of file skn\+\_\+network\+\_\+helpers.\+c.



References gi\+\_\+exit\+\_\+flag, and S\+D\+\_\+\+N\+O\+T\+I\+C\+E.



Referenced by skn\+\_\+signals\+\_\+init().


\begin{DoxyCode}
174                                               \{
175     \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} = sig;
176     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Program Exiting, from signal=%d:%s\(\backslash\)n"}, sig, strsignal(sig));
177 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ad5959da47263ac46035692fab7c1897c}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+signals\+\_\+init@{skn\+\_\+signals\+\_\+init}}
\index{skn\+\_\+signals\+\_\+init@{skn\+\_\+signals\+\_\+init}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+signals\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void skn\+\_\+signals\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ad5959da47263ac46035692fab7c1897c}


Definition at line 179 of file skn\+\_\+network\+\_\+helpers.\+c.



References skn\+\_\+signals\+\_\+exit\+\_\+handler().



Referenced by main().


\begin{DoxyCode}
179                         \{
180     signal(SIGINT, \hyperlink{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07}{skn\_signals\_exit\_handler});  \textcolor{comment}{// Ctrl-C}
181     signal(SIGQUIT, \hyperlink{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07}{skn\_signals\_exit\_handler});  \textcolor{comment}{// Quit}
182     signal(SIGTERM, \hyperlink{skn__network__helpers_8c_a721515eaa155d0f58a3a372f1dbbde07}{skn\_signals\_exit\_handler});  \textcolor{comment}{// Normal kill command}
183 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{skn__network__helpers_8c_ad5959da47263ac46035692fab7c1897c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{skn__network__helpers_8c_ad5959da47263ac46035692fab7c1897c_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+strip@{skn\+\_\+strip}}
\index{skn\+\_\+strip@{skn\+\_\+strip}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+strip}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ skn\+\_\+strip (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{alpha}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f}
Remove Trailing and Leading Blanks
\begin{DoxyItemize}
\item caution\+: pointers from argv are readonly and segfault on 'alpha\mbox{[}end\mbox{]} = 0' 
\end{DoxyItemize}

Definition at line 479 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name(), skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create\+\_\+helper(), and skn\+\_\+service\+\_\+registry\+\_\+response\+\_\+parse().


\begin{DoxyCode}
479                                \{
480     \textcolor{keywordflow}{if} (alpha == NULL || strlen(alpha) < 1)
481         \textcolor{keywordflow}{return} alpha;
482 
483     \textcolor{keywordtype}{int} len = strlen(alpha);
484     \textcolor{keywordtype}{int} end = len - 1;
485     \textcolor{keywordtype}{int} start = 0;
486 
487     \textcolor{comment}{// use isgraph() or !isspace() vs isalnum() to allow ['|' ';' '%']}
488     \textcolor{keywordflow}{while} (isgraph(alpha[end]) == 0 && end > 0) \{ \textcolor{comment}{// remove trailing non-alphanumeric chars}
489         alpha[end--] = 0;
490     \}
491 
492     len = strlen(alpha);
493     \textcolor{keywordflow}{while} ((isalnum(alpha[start]) == 0) && start < len) \{ \textcolor{comment}{// find first non-alpha stricter}
494         start++;
495     \}
496     \textcolor{keywordflow}{if} (start < len && start > 0) \{  \textcolor{comment}{// move in place}
497         end = len - start;
498         memmove(&alpha[0], &alpha[start], end);
499         alpha[end] = 0;
500     \}
501 
502     \textcolor{keywordflow}{return} alpha;
503 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a925d0a1de13d0d0178e52f0d6be4b97f_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a11a06f22b7bdbf78e38d9a6f4d71fe8e}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+time\+\_\+delay\+\_\+ms@{skn\+\_\+time\+\_\+delay\+\_\+ms}}
\index{skn\+\_\+time\+\_\+delay\+\_\+ms@{skn\+\_\+time\+\_\+delay\+\_\+ms}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+time\+\_\+delay\+\_\+ms}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+time\+\_\+delay\+\_\+ms (
\begin{DoxyParamCaption}
\item[{double}]{delay\+\_\+time}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a11a06f22b7bdbf78e38d9a6f4d71fe8e}
Traditional Millisecond delay. 

Definition at line 96 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work(), skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+thread(), and skn\+\_\+scroller\+\_\+scroll\+\_\+lines().


\begin{DoxyCode}
96                                          \{
97     \textcolor{keyword}{struct }timespec timeout;
98     \textcolor{keywordflow}{if} (delay\_time == 0.0 || delay\_time == 0) delay\_time = 0.001;
99     timeout.tv\_sec = (time\_t) delay\_time;  \textcolor{comment}{// extract integer only}
100     timeout.tv\_nsec = (long) ((delay\_time - timeout.tv\_sec) * 1000000000L); \textcolor{comment}{// 1e+9}
101     \textcolor{keywordflow}{return} nanosleep(&timeout, NULL);
102 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a11a06f22b7bdbf78e38d9a6f4d71fe8e_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket}}
\index{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket (
\begin{DoxyParamCaption}
\item[{int}]{port, }
\item[{double}]{rcv\+Timeout}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}
\hyperlink{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket()}
\begin{DoxyItemize}
\item creates a dgram socket with broadcast enabled
\item returns i\+\_\+socket $\vert$ E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E 
\end{DoxyItemize}

Definition at line 567 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+E\+M\+E\+R\+G, and S\+D\+\_\+\+I\+N\+F\+O.



Referenced by main().


\begin{DoxyCode}
567                                                                       \{
568     \textcolor{keyword}{struct }sockaddr\_in addr;
569     \textcolor{keywordtype}{int} i\_socket, broadcastEnable = 1;
570 
571     \textcolor{keywordflow}{if} ((i\_socket = socket(AF\_INET, SOCK\_DGRAM, IPPROTO\_UDP)) < 0) \{
572         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Create Socket error=%d, etext=%s"}, errno, strerror(errno));
573         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
574     \}
575     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_BROADCAST, &broadcastEnable, \textcolor{keyword}{sizeof}(broadcastEnable))) < 0) \{
576         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket Broadcast Option error=%d, etext=%s"}, errno, strerror(
      errno));
577         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
578     \}
579 
580     \textcolor{keyword}{struct }timeval tv;
581     tv.tv\_sec = rcvTimeout;
582     tv.tv\_usec = (long)(rcvTimeout - tv.tv\_sec) * 1000000L;
583     skn\_logger(\hyperlink{skn__common__headers_8h_a1bcf100bcdd91eacaf0b05d83c88aedf}{SD\_INFO}, \textcolor{stringliteral}{"Set Socket RcvTimeout Option set to: tv\_sec=%ld, tv\_usec=%ld"}, tv.tv\_sec, 
      tv.tv\_usec);
584     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_RCVTIMEO, &tv, \textcolor{keyword}{sizeof}(tv))) < 0) \{
585         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket RcvTimeout Option error=%d, etext=%s"}, errno, strerror(
      errno));
586         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
587     \}
588 
589     \textcolor{comment}{/* set up local address */}
590     memset(&addr, 0, \textcolor{keyword}{sizeof}(addr));
591     addr.sin\_family = AF\_INET;
592     addr.sin\_addr.s\_addr = htonl(INADDR\_ANY);
593     addr.sin\_port = htons(port);
594     \textcolor{keywordflow}{if} (bind(i\_socket, (\textcolor{keyword}{struct} sockaddr *) &addr, \textcolor{keyword}{sizeof}(addr)) < 0) \{
595         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Bind to local Socket error=%d, etext=%s"}, errno, strerror(errno));
596         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
597     \}
598 
599     \textcolor{keywordflow}{return} i\_socket;
600 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket}}
\index{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket@{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket (
\begin{DoxyParamCaption}
\item[{int}]{port, }
\item[{double}]{rcv\+Timeout}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}
\hyperlink{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket()}
\begin{DoxyItemize}
\item creates a dgram socket without broadcast enabled
\item returns i\+\_\+socket $\vert$ E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E 
\end{DoxyItemize}

Definition at line 526 of file skn\+\_\+network\+\_\+helpers.\+c.



References S\+D\+\_\+\+E\+M\+E\+R\+G.



Referenced by main(), and skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+startup().


\begin{DoxyCode}
526                                                                     \{
527     \textcolor{keyword}{struct }sockaddr\_in addr;
528     \textcolor{keywordtype}{int} i\_socket, reuseEnable = 1;
529 
530     \textcolor{keywordflow}{if} ((i\_socket = socket(AF\_INET, SOCK\_DGRAM, IPPROTO\_UDP)) < 0) \{
531         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Create Socket error=%d, etext=%s"}, errno, strerror(errno));
532         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
533     \}
534 
535     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_REUSEADDR, &reuseEnable, \textcolor{keyword}{sizeof}(reuseEnable))) < 0) \{
536         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket Reuse Option error=%d, etext=%s"}, errno, strerror(errno));
537         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
538     \}
539 
540     \textcolor{keyword}{struct }timeval tv;
541     tv.tv\_sec = rcvTimeout;
542     tv.tv\_usec = (long)(rcvTimeout - tv.tv\_sec) * 1000000L;
543     \textcolor{keywordflow}{if} ((setsockopt(i\_socket, SOL\_SOCKET, SO\_RCVTIMEO, &tv, \textcolor{keyword}{sizeof}(tv))) < 0) \{
544         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Set Socket RcvTimeout Option error=%d, etext=%s"}, errno, strerror(
      errno));
545         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
546     \}
547 
548     \textcolor{comment}{/* set up local address */}
549     memset(&addr, 0, \textcolor{keyword}{sizeof}(addr));
550     addr.sin\_family = AF\_INET;
551     addr.sin\_addr.s\_addr = htonl(INADDR\_ANY);
552     addr.sin\_port = htons(port);
553     \textcolor{keywordflow}{if} (bind(i\_socket, (\textcolor{keyword}{struct} sockaddr *) &addr, \textcolor{keyword}{sizeof}(addr)) < 0) \{
554         skn\_logger(\hyperlink{skn__common__headers_8h_a6fdb1bbdf5f13035e439b096691534f2}{SD\_EMERG}, \textcolor{stringliteral}{"Bind to local Socket error=%d, etext=%s"}, errno, strerror(errno));
555         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
556     \}
557 
558     \textcolor{keywordflow}{return} i\_socket;
559 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210_icgraph}
\end{center}
\end{figure}


\hypertarget{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!skn\+\_\+udp\+\_\+service\+\_\+request@{skn\+\_\+udp\+\_\+service\+\_\+request}}
\index{skn\+\_\+udp\+\_\+service\+\_\+request@{skn\+\_\+udp\+\_\+service\+\_\+request}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{skn\+\_\+udp\+\_\+service\+\_\+request}]{\setlength{\rightskip}{0pt plus 5cm}int skn\+\_\+udp\+\_\+service\+\_\+request (
\begin{DoxyParamCaption}
\item[{{\bf P\+Service\+Request}}]{psr}
\end{DoxyParamCaption}
)}}\label{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}
\hyperlink{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{skn\+\_\+udp\+\_\+service\+\_\+request()}
\begin{DoxyItemize}
\item side effects\+: none
\item returns E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S $\vert$ E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E 
\end{DoxyItemize}

Definition at line 644 of file skn\+\_\+network\+\_\+helpers.\+c.



References \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+O\+R, \+\_\+service\+Entry\+::port, \+\_\+service\+Request\+::pre, \+\_\+service\+Request\+::request, \+\_\+service\+Request\+::response, S\+D\+\_\+\+I\+N\+F\+O, S\+D\+\_\+\+N\+O\+T\+I\+C\+E, S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G, skn\+\_\+duration\+\_\+in\+\_\+milliseconds(), \+\_\+service\+Request\+::socket, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.



Referenced by main().


\begin{DoxyCode}
644                                                  \{
645     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
646     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
647     \textcolor{keywordtype}{signed} \textcolor{keywordtype}{int} vIndex = 0;
648     \textcolor{keyword}{struct }timeval start, end;
649 
650     memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
651     remaddr.sin\_family = AF\_INET;
652     remaddr.sin\_addr.s\_addr = inet\_addr(psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip});
653     remaddr.sin\_port = htons(psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
654 
655     \textcolor{comment}{/*}
656 \textcolor{comment}{     * SEND */}
657     gettimeofday(&start, NULL);
658     \textcolor{keywordflow}{if} (sendto(psr->\hyperlink{struct__service_request_aa867fef3928c7511f50a494662311d13}{socket}, psr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request}, strlen(psr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request}), 0, (\textcolor{keyword}{struct} sockaddr *) 
      &remaddr, addrlen) < 0) \{
659         gettimeofday(&end, NULL);
660         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"ServiceRequest: SendTo(%1.6f) Timed out; Failure code=%d,
       etext=%s"}, \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start,&end), errno, strerror(errno));
661         \textcolor{keywordflow}{return} EXIT\_FAILURE;
662     \}
663     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"ServiceRequest sent to %s:%s:%d"}, psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->
      \hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, psr->\hyperlink{struct__service_request_acf8d45e7f9cb65b555217aae74cd72c5}{pre}->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
664 
665     \textcolor{comment}{/*}
666 \textcolor{comment}{     * RECEIVE */}
667     vIndex = recvfrom(psr->\hyperlink{struct__service_request_aa867fef3928c7511f50a494662311d13}{socket}, psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response}, (\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1), 0, (\textcolor{keyword}{struct} 
      sockaddr *) &remaddr, &addrlen);
668     \textcolor{keywordflow}{if} (vIndex == \hyperlink{cmd_d_c_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
669         gettimeofday(&end, NULL);
670         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"ServiceRequest: recvfrom(%1.6f) Failure code=%d, etext=%s"}, 
      \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start,&end), errno, strerror(errno));
671         \textcolor{keywordflow}{return} EXIT\_FAILURE;
672     \}
673     psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response}[vIndex] = 0;
674     gettimeofday(&end, NULL);
675 
676     skn\_logger(\hyperlink{skn__common__headers_8h_a1bcf100bcdd91eacaf0b05d83c88aedf}{SD\_INFO}, \textcolor{stringliteral}{"Response(%1.3fs) received from [%s] %s:%d"},
677                     \hyperlink{skn__network__helpers_8c_ad7f2202ecfe8bb131545b23ea3c26e91}{skn\_duration\_in\_milliseconds}(&start,&end),
678                     psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response},
679                     inet\_ntoa(remaddr.sin\_addr),
680                     ntohs(remaddr.sin\_port)
681               );
682 
683     \textcolor{keywordflow}{if} (strcmp(psr->\hyperlink{struct__service_request_ad4e98b9d21fad17ba82dba6a9b5f6562}{response}, \textcolor{stringliteral}{"QUIT!"}) == 0) \{
684         skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Shutdown Requested!"});
685         \textcolor{keywordflow}{return} EXIT\_FAILURE;
686     \}
687 
688     \textcolor{keywordflow}{return} (EXIT\_SUCCESS);
689 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=284pt]{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+host\+Name@{gd\+\_\+ch\+\_\+host\+Name}}
\index{gd\+\_\+ch\+\_\+host\+Name@{gd\+\_\+ch\+\_\+host\+Name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+ch\+\_\+host\+Name}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+host\+Name\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}}}\label{skn__network__helpers_8c_af45afdaf27876f134e053f2c7744efe9}


Definition at line 24 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\hypertarget{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+host\+Short\+Name@{gd\+\_\+ch\+\_\+host\+Short\+Name}}
\index{gd\+\_\+ch\+\_\+host\+Short\+Name@{gd\+\_\+ch\+\_\+host\+Short\+Name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+ch\+\_\+host\+Short\+Name}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+host\+Short\+Name\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}}}\label{skn__network__helpers_8c_a7e072c565373b2bcba1b27b8f0528c1c}


Definition at line 25 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\hypertarget{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+intf\+Name@{gd\+\_\+ch\+\_\+intf\+Name}}
\index{gd\+\_\+ch\+\_\+intf\+Name@{gd\+\_\+ch\+\_\+intf\+Name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+ch\+\_\+intf\+Name}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+intf\+Name\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}}}\label{skn__network__helpers_8c_ac317f6dfab7bc91b9e2d717a7a1b8fcb}


Definition at line 23 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by generate\+\_\+rpi\+\_\+model\+\_\+info(), main(), and skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast().

\hypertarget{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+ip\+Address@{gd\+\_\+ch\+\_\+ip\+Address}}
\index{gd\+\_\+ch\+\_\+ip\+Address@{gd\+\_\+ch\+\_\+ip\+Address}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+ch\+\_\+ip\+Address}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+ip\+Address\mbox{[}{\bf S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F}\mbox{]}}}\label{skn__network__helpers_8c_aee48900a4a99c0480e3f1dfb6c4f38c7}


Definition at line 22 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by generate\+\_\+rpi\+\_\+model\+\_\+info(), main(), and skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast().

\hypertarget{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+program\+\_\+desc@{gd\+\_\+ch\+\_\+program\+\_\+desc}}
\index{gd\+\_\+ch\+\_\+program\+\_\+desc@{gd\+\_\+ch\+\_\+program\+\_\+desc}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+ch\+\_\+program\+\_\+desc}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+program\+\_\+desc\mbox{[}{\bf S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F}\mbox{]}}}\label{skn__network__helpers_8c_a7dfc34fe01828952972b6ae778b4f022}


Definition at line 16 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+display\+\_\+print\+\_\+usage(), skn\+\_\+locator\+\_\+print\+\_\+usage(), and skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\hypertarget{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+ch\+\_\+program\+\_\+name@{gd\+\_\+ch\+\_\+program\+\_\+name}}
\index{gd\+\_\+ch\+\_\+program\+\_\+name@{gd\+\_\+ch\+\_\+program\+\_\+name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+ch\+\_\+program\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}char gd\+\_\+ch\+\_\+program\+\_\+name\mbox{[}{\bf S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F}\mbox{]}}}\label{skn__network__helpers_8c_a1849cb923d68be6854cc346022fc79d7}


Definition at line 15 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+display\+\_\+print\+\_\+usage(), skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(), skn\+\_\+locator\+\_\+print\+\_\+usage(), and skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set().

\hypertarget{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+debug@{gd\+\_\+i\+\_\+debug}}
\index{gd\+\_\+i\+\_\+debug@{gd\+\_\+i\+\_\+debug}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+i\+\_\+debug}]{\setlength{\rightskip}{0pt plus 5cm}signed int gd\+\_\+i\+\_\+debug = 0}}\label{skn__network__helpers_8c_a923b2adbdc0dac852905dc95eaa73a37}


Definition at line 14 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\hypertarget{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+display@{gd\+\_\+i\+\_\+display}}
\index{gd\+\_\+i\+\_\+display@{gd\+\_\+i\+\_\+display}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+i\+\_\+display}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+display = 0}}\label{skn__network__helpers_8c_ad3af8f8dd9f2ca01a415370a99bc465e}


Definition at line 19 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(), and skn\+\_\+service\+\_\+registry\+\_\+provider().

\hypertarget{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+i2c\+\_\+address@{gd\+\_\+i\+\_\+i2c\+\_\+address}}
\index{gd\+\_\+i\+\_\+i2c\+\_\+address@{gd\+\_\+i\+\_\+i2c\+\_\+address}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+i\+\_\+i2c\+\_\+address}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+i2c\+\_\+address = 0}}\label{skn__network__helpers_8c_a2c55396bf337471f9f99a939974fcdbe}


Definition at line 27 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+device\+\_\+manager\+\_\+\+M\+C\+P23008(), skn\+\_\+device\+\_\+manager\+\_\+\+M\+C\+P23017(), skn\+\_\+device\+\_\+manager\+\_\+\+P\+C\+F8574(), skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\hypertarget{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+socket@{gd\+\_\+i\+\_\+socket}}
\index{gd\+\_\+i\+\_\+socket@{gd\+\_\+i\+\_\+socket}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+i\+\_\+socket}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+socket = -\/1}}\label{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}


Definition at line 18 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main().

\hypertarget{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+unique\+\_\+registry@{gd\+\_\+i\+\_\+unique\+\_\+registry}}
\index{gd\+\_\+i\+\_\+unique\+\_\+registry@{gd\+\_\+i\+\_\+unique\+\_\+registry}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+i\+\_\+unique\+\_\+registry}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+unique\+\_\+registry = 0}}\label{skn__network__helpers_8c_ae64a8fff2241990ec523dafe18f7864c}


Definition at line 21 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(), and skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+create().

\hypertarget{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+i\+\_\+update@{gd\+\_\+i\+\_\+update}}
\index{gd\+\_\+i\+\_\+update@{gd\+\_\+i\+\_\+update}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+i\+\_\+update}]{\setlength{\rightskip}{0pt plus 5cm}int gd\+\_\+i\+\_\+update = 0}}\label{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}


Definition at line 20 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\hypertarget{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+pch\+\_\+effective\+\_\+userid@{gd\+\_\+pch\+\_\+effective\+\_\+userid}}
\index{gd\+\_\+pch\+\_\+effective\+\_\+userid@{gd\+\_\+pch\+\_\+effective\+\_\+userid}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+pch\+\_\+effective\+\_\+userid}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ gd\+\_\+pch\+\_\+effective\+\_\+userid = N\+U\+L\+L}}\label{skn__network__helpers_8c_af2e3031da262a9990e0ef895e20cdd0e}


Definition at line 17 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), and skn\+\_\+get\+\_\+userids().

\hypertarget{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+pch\+\_\+message@{gd\+\_\+pch\+\_\+message}}
\index{gd\+\_\+pch\+\_\+message@{gd\+\_\+pch\+\_\+message}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+pch\+\_\+message}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ gd\+\_\+pch\+\_\+message = N\+U\+L\+L}}\label{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}


Definition at line 12 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+handle\+\_\+display\+\_\+command\+\_\+line(), and skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line().

\hypertarget{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gd\+\_\+pch\+\_\+service\+\_\+name@{gd\+\_\+pch\+\_\+service\+\_\+name}}
\index{gd\+\_\+pch\+\_\+service\+\_\+name@{gd\+\_\+pch\+\_\+service\+\_\+name}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gd\+\_\+pch\+\_\+service\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ gd\+\_\+pch\+\_\+service\+\_\+name}}\label{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}


Definition at line 26 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(), and skn\+\_\+service\+\_\+registry\+\_\+provider().

\hypertarget{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{\index{skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}!gi\+\_\+exit\+\_\+flag@{gi\+\_\+exit\+\_\+flag}}
\index{gi\+\_\+exit\+\_\+flag@{gi\+\_\+exit\+\_\+flag}!skn\+\_\+network\+\_\+helpers.\+c@{skn\+\_\+network\+\_\+helpers.\+c}}
\subsubsection[{gi\+\_\+exit\+\_\+flag}]{\setlength{\rightskip}{0pt plus 5cm}sig\+\_\+atomic\+\_\+t gi\+\_\+exit\+\_\+flag = {\bf S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+U\+N}}}\label{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}
skn\+Network\+Helpers.\+c 

Definition at line 11 of file skn\+\_\+network\+\_\+helpers.\+c.



Referenced by main(), skn\+\_\+display\+\_\+manager\+\_\+do\+\_\+work(), skn\+\_\+display\+\_\+manager\+\_\+message\+\_\+consumer\+\_\+thread(), skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), skn\+\_\+service\+\_\+registry\+\_\+provider(), skn\+\_\+signal\+\_\+manager\+\_\+handler\+\_\+thread(), skn\+\_\+signal\+\_\+manager\+\_\+process\+\_\+signals(), skn\+\_\+signal\+\_\+manager\+\_\+shutdown(), skn\+\_\+signals\+\_\+cleanup(), and skn\+\_\+signals\+\_\+exit\+\_\+handler().

