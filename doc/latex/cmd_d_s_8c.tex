\hypertarget{cmd_d_s_8c}{}\section{cmd\+D\+S/cmd\+DS.c File Reference}
\label{cmd_d_s_8c}\index{cmd\+D\+S/cmd\+D\+S.\+c@{cmd\+D\+S/cmd\+D\+S.\+c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$glib.\+h$>$}\\*
{\ttfamily \#include $<$gio/gio.\+h$>$}\\*
{\ttfamily \#include $<$glib-\/unix.\+h$>$}\\*
{\ttfamily \#include $<$gio/gnetworking.\+h$>$}\\*
{\ttfamily \#include $<$ifaddrs.\+h$>$}\\*
Include dependency graph for cmd\+D\+S.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct__ip_broadcast_array}{\+\_\+ip\+Broadcast\+Array}
\item 
struct \hyperlink{struct__registry_data}{\+\_\+registry\+Data}
\item 
struct \hyperlink{struct__signal_data}{\+\_\+signal\+Data}
\item 
struct \hyperlink{struct__control_data}{\+\_\+control\+Data}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{cmd_d_s_8c_aa326a05d5e30f9e9a4bb0b4469d5d0c0}{P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON}~\char`\"{}0.\+9.\+0\char`\"{}
\item 
\#define \hyperlink{cmd_d_s_8c_a1c0439e4355794c09b64274849eb0279}{P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME}~\char`\"{}cmd\+DS\char`\"{}
\item 
\#define \hyperlink{cmd_d_s_8c_a714627d9e7b71b55548e2ddda429d3fb}{P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}~\char`\"{}Display Messages from other Raspberry Pi\textquotesingle{}s on the network.\char`\"{}
\item 
\#define \hyperlink{cmd_d_s_8c_a8e8475ded7103e72515667b568ed64c7}{G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}~0
\item 
\#define \hyperlink{cmd_d_s_8c_a88c441c906325a3b6b2738e3218e401f}{U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT}~48029
\item 
\#define \hyperlink{cmd_d_s_8c_a76bd5a574aad0fa67de6c9804853f191}{U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT}~48028
\item 
\#define \hyperlink{cmd_d_s_8c_af16df2ad6ba0bf1f5283361eb89a979d}{U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT}~48027
\item 
\#define \hyperlink{cmd_d_s_8c_ac10012e31213e44ecaf5d4c1dd3c8719}{M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES}~600000
\item 
\#define \hyperlink{cmd_d_s_8c_ac08ad1b127f1c9743c5592ffb796423f}{S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF}~32
\item 
\#define \hyperlink{cmd_d_s_8c_ac21e8a77d073e7a5383c92bb485992c8}{S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF}~64
\item 
\#define \hyperlink{cmd_d_s_8c_a152ca8fa1a2eac39d1badafb6c6cef8c}{S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF}~256
\item 
\#define \hyperlink{cmd_d_s_8c_ab5903aa853c3769389e570c8490feb1e}{S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF}~512
\item 
\#define \hyperlink{cmd_d_s_8c_a3c73a8961a16a0dfbb87b5a7317bacd2}{S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF}~256
\item 
\#define \hyperlink{cmd_d_s_8c_a3122b900b1a34ceff868e0d51217e357}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL}~48
\item 
\#define \hyperlink{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}~256
\item 
\#define \hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}~128
\item 
\#define \hyperlink{cmd_d_s_8c_a77ca0b062f899750ee20c0170e5bedc4}{S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF}~512
\item 
\#define \hyperlink{cmd_d_s_8c_a352051a682a5205841c1bda6e30bb30d}{S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF}~256
\item 
\#define \hyperlink{cmd_d_s_8c_a8091fbaa709d661a678a82a62fab638b}{S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT}~0
\item 
\#define \hyperlink{cmd_d_s_8c_a00b19837422a3b13d82b9a525e92ef51}{A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF}~8
\item 
\#define \hyperlink{cmd_d_s_8c_a12efd06fda89d6826f820e75148d8fd7}{P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR}~-\/1
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct__ip_broadcast_array}{\+\_\+ip\+Broadcast\+Array} \hyperlink{cmd_d_s_8c_a83c26957f648dd04df183020ab03c60d}{I\+P\+Broadcast\+Array}
\item 
typedef struct \hyperlink{struct__ip_broadcast_array}{\+\_\+ip\+Broadcast\+Array} $\ast$ \hyperlink{cmd_d_s_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array}
\item 
typedef struct \hyperlink{struct__registry_data}{\+\_\+registry\+Data} \hyperlink{cmd_d_s_8c_aac252e0f10021267858720b8e772c0fc}{Reg\+Data}
\item 
typedef struct \hyperlink{struct__registry_data}{\+\_\+registry\+Data} $\ast$ \hyperlink{cmd_d_s_8c_a57f677cfc01b955d9d3783e5422f36a8}{P\+Reg\+Data}
\item 
typedef struct \hyperlink{struct__registry_data}{\+\_\+registry\+Data} $\ast$$\ast$ \hyperlink{cmd_d_s_8c_a0b249e07431f112b20e1708c3162d8a0}{P\+P\+Reg\+Data}
\item 
typedef struct \hyperlink{struct__signal_data}{\+\_\+signal\+Data} \hyperlink{cmd_d_s_8c_a4d86cbb761613143e4ee60218efdfbaa}{U\+Signal\+Data}
\item 
typedef struct \hyperlink{struct__signal_data}{\+\_\+signal\+Data} $\ast$ \hyperlink{cmd_d_s_8c_acdc6976ac4ccc0f13bc99bb5b9361a6e}{P\+U\+Signal\+Data}
\item 
typedef struct \hyperlink{struct__control_data}{\+\_\+control\+Data} \hyperlink{cmd_d_s_8c_aad121cd36cd8851b2a3cd81fd0e41388}{Control\+Data}
\item 
typedef struct \hyperlink{struct__control_data}{\+\_\+control\+Data} $\ast$ \hyperlink{cmd_d_s_8c_aa6bae802f1b23385cd660e89a1e4fc75}{P\+Control\+Data}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
gchar $\ast$ \hyperlink{cmd_d_s_8c_a6ea2e6ee5c8f0d51a98539842634f217}{skn\+\_\+get\+\_\+timestamp} ()
\item 
gchar $\ast$ \hyperlink{cmd_d_s_8c_a5acaf42e0ff80bd0de38c490576e9f85}{skn\+\_\+strip} (gchar $\ast$alpha)
\item 
gchar $\ast$ \hyperlink{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}{skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string} (G\+I\+O\+Condition condition)
\item 
\hyperlink{cmd_d_c_8c_a0b249e07431f112b20e1708c3162d8a0}{P\+P\+Reg\+Data} \hyperlink{cmd_d_s_8c_a568a9919cfd345f6c1a41a2ec7c4b1ca}{udp\+\_\+registry\+\_\+response\+\_\+parser} (\hyperlink{cmd_d_c_8c_a57f677cfc01b955d9d3783e5422f36a8}{P\+Reg\+Data} msg, gchar $\ast$response)
\item 
\hyperlink{cmd_d_c_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array} \hyperlink{cmd_d_s_8c_a72be87baa67e532c78af054acf935d6c}{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address} (char $\ast$intf, char $\ast$ipv4)
\item 
gint \hyperlink{cmd_d_s_8c_a0dfc1a6916909805dc7fd2d8c471e0e3}{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array} (\hyperlink{cmd_d_c_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array} paB)
\item 
gint \hyperlink{cmd_d_s_8c_afc164e6efc7bdcdbacba97ba6f6c2a19}{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name} (char $\ast$pch\+Default\+Interface\+Name)
\item 
gboolean \hyperlink{cmd_d_s_8c_af376243f65a3fd761050836d1293b0d9}{skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces} (G\+Socket $\ast$g\+Sock, \hyperlink{cmd_d_c_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array} pab)
\item 
static gboolean \hyperlink{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b}{cb\+\_\+unix\+\_\+signal\+\_\+handler} (\hyperlink{cmd_d_c_8c_acdc6976ac4ccc0f13bc99bb5b9361a6e}{P\+U\+Signal\+Data} psig)
\item 
static gboolean \hyperlink{cmd_d_s_8c_a49f1fa41c6c2b72cbffa3e0399b12ea7}{cb\+\_\+udp\+\_\+request\+\_\+handler} (G\+Socket $\ast$socket, G\+I\+O\+Condition condition, \hyperlink{cmd_d_c_8c_aa6bae802f1b23385cd660e89a1e4fc75}{P\+Control\+Data} pctrl)
\item 
static gboolean \hyperlink{cmd_d_s_8c_a385b710fd30ba190b3b96e814424ff80}{cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler} (G\+Socket $\ast$g\+Sock, G\+I\+O\+Condition condition, \hyperlink{cmd_d_c_8c_aa6bae802f1b23385cd660e89a1e4fc75}{P\+Control\+Data} pctrl)
\item 
\hyperlink{cmd_d_c_8c_a916d712cacebc2faeda930352280c361}{P\+I\+P\+Broadcast\+Array} \hyperlink{cmd_d_s_8c_a4f733621137368e762c5db74a3cec52b}{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address} (gchar $\ast$intf, gchar $\ast$ipv4)
\item 
int \hyperlink{cmd_d_s_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF@{A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF}}
\index{A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF@{A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF}{ARY_MAX_INTF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF~8}\hypertarget{cmd_d_s_8c_a00b19837422a3b13d82b9a525e92ef51}{}\label{cmd_d_s_8c_a00b19837422a3b13d82b9a525e92ef51}


Definition at line 59 of file cmd\+D\+S.\+c.



Referenced by skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE@{G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}}
\index{G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE@{G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}{G_OPTION_FLAG_NONE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE~0}\hypertarget{cmd_d_s_8c_a8e8475ded7103e72515667b568ed64c7}{}\label{cmd_d_s_8c_a8e8475ded7103e72515667b568ed64c7}


Definition at line 38 of file cmd\+D\+S.\+c.



Referenced by main().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES@{M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES}}
\index{M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES@{M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES}{MS_TEN_MINUTES}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+S\+\_\+\+T\+E\+N\+\_\+\+M\+I\+N\+U\+T\+ES~600000}\hypertarget{cmd_d_s_8c_ac10012e31213e44ecaf5d4c1dd3c8719}{}\label{cmd_d_s_8c_ac10012e31213e44ecaf5d4c1dd3c8719}


Definition at line 44 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON@{P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}}
\index{P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON@{P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}{PACKAGE_DESCRIPTION}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+A\+C\+K\+A\+G\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON~\char`\"{}Display Messages from other Raspberry Pi\textquotesingle{}s on the network.\char`\"{}}\hypertarget{cmd_d_s_8c_a714627d9e7b71b55548e2ddda429d3fb}{}\label{cmd_d_s_8c_a714627d9e7b71b55548e2ddda429d3fb}


Definition at line 26 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME@{P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME}}
\index{P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME@{P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME}{PACKAGE_NAME}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+A\+C\+K\+A\+G\+E\+\_\+\+N\+A\+ME~\char`\"{}cmd\+DS\char`\"{}}\hypertarget{cmd_d_s_8c_a1c0439e4355794c09b64274849eb0279}{}\label{cmd_d_s_8c_a1c0439e4355794c09b64274849eb0279}


Definition at line 23 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON@{P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON@{P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON}{PACKAGE_VERSION}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+A\+C\+K\+A\+G\+E\+\_\+\+V\+E\+R\+S\+I\+ON~\char`\"{}0.\+9.\+0\char`\"{}}\hypertarget{cmd_d_s_8c_aa326a05d5e30f9e9a4bb0b4469d5d0c0}{}\label{cmd_d_s_8c_aa326a05d5e30f9e9a4bb0b4469d5d0c0}
\hyperlink{cmd_d_s_8c}{cmd\+D\+S.\+c} I\+O\+T/\+Raspberry\+Pi message display service gcc -\/v {\ttfamily pkg-\/config -\/-\/cflags -\/-\/libs glib-\/2.\+0 gio-\/2.\+0} -\/\+O3 -\/\+Wall \hyperlink{cmd_d_s_8c}{cmd\+D\+S.\+c} -\/o cmd\+DS

Program Flow\+:
\begin{DoxyEnumerate}
\item Initialize -\/$>$ parse\+\_\+options
\item upd\+\_\+broad -\/$>$ loop -\/$>$ receive\+\_\+broadcast\+\_\+message -\/$>$ respond\+\_\+with\+\_\+our\+\_\+registry\+\_\+entry
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item upd\+\_\+socket -\/$>$ loop -\/$>$ receive\+\_\+message -\/$>$ log\+\_\+to\+\_\+\+\_\+console
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item unix\+\_\+signal -\/$>$ loop -\/$>$ close\+\_\+loop
\item Cleanup -\/$>$ exit 
\end{DoxyEnumerate}

Definition at line 20 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR@{P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR}}
\index{P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR@{P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR}{PLATFORM_ERROR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR~-\/1}\hypertarget{cmd_d_s_8c_a12efd06fda89d6826f820e75148d8fd7}{}\label{cmd_d_s_8c_a12efd06fda89d6826f820e75148d8fd7}


Definition at line 60 of file cmd\+D\+S.\+c.



Referenced by skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(), and skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT@{S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT}}
\index{S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT@{S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT}{SKN_UDP_ANY_PORT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+K\+N\+\_\+\+U\+D\+P\+\_\+\+A\+N\+Y\+\_\+\+P\+O\+RT~0}\hypertarget{cmd_d_s_8c_a8091fbaa709d661a678a82a62fab638b}{}\label{cmd_d_s_8c_a8091fbaa709d661a678a82a62fab638b}


Definition at line 58 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF}{SZ_CHAR_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF~128}\hypertarget{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{}\label{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}


Definition at line 54 of file cmd\+D\+S.\+c.



Referenced by skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(), and skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL@{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL}}
\index{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL@{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL}{SZ_CHAR_LABEL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+L\+A\+B\+EL~48}\hypertarget{cmd_d_s_8c_a3122b900b1a34ceff868e0d51217e357}{}\label{cmd_d_s_8c_a3122b900b1a34ceff868e0d51217e357}


Definition at line 52 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF}{SZ_COMM_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+C\+O\+M\+M\+\_\+\+B\+U\+FF~256}\hypertarget{cmd_d_s_8c_a352051a682a5205841c1bda6e30bb30d}{}\label{cmd_d_s_8c_a352051a682a5205841c1bda6e30bb30d}


Definition at line 56 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF}{SZ_INFO_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF~256}\hypertarget{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{}\label{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}


Definition at line 53 of file cmd\+D\+S.\+c.



Referenced by skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF}{SZ_LINE_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+L\+I\+N\+E\+\_\+\+B\+U\+FF~512}\hypertarget{cmd_d_s_8c_a77ca0b062f899750ee20c0170e5bedc4}{}\label{cmd_d_s_8c_a77ca0b062f899750ee20c0170e5bedc4}


Definition at line 55 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF}{SZ_MESSAGE_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+B\+U\+FF~512}\hypertarget{cmd_d_s_8c_ab5903aa853c3769389e570c8490feb1e}{}\label{cmd_d_s_8c_ab5903aa853c3769389e570c8490feb1e}


Definition at line 49 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF}{SZ_PARAMS_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+P\+A\+R\+A\+M\+S\+\_\+\+B\+U\+FF~64}\hypertarget{cmd_d_s_8c_ac21e8a77d073e7a5383c92bb485992c8}{}\label{cmd_d_s_8c_ac21e8a77d073e7a5383c92bb485992c8}


Definition at line 47 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF}{SZ_RESPONSE_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF~256}\hypertarget{cmd_d_s_8c_a3c73a8961a16a0dfbb87b5a7317bacd2}{}\label{cmd_d_s_8c_a3c73a8961a16a0dfbb87b5a7317bacd2}


Definition at line 50 of file cmd\+D\+S.\+c.



Referenced by cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF}{SZ_RMTADDR_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF~256}\hypertarget{cmd_d_s_8c_a152ca8fa1a2eac39d1badafb6c6cef8c}{}\label{cmd_d_s_8c_a152ca8fa1a2eac39d1badafb6c6cef8c}


Definition at line 48 of file cmd\+D\+S.\+c.



Referenced by udp\+\_\+registry\+\_\+response\+\_\+parser().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF}}
\index{S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF@{S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF}{SZ_TIMESTAMP_BUFF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Z\+\_\+\+T\+I\+M\+E\+S\+T\+A\+M\+P\+\_\+\+B\+U\+FF~32}\hypertarget{cmd_d_s_8c_ac08ad1b127f1c9743c5592ffb796423f}{}\label{cmd_d_s_8c_ac08ad1b127f1c9743c5592ffb796423f}


Definition at line 46 of file cmd\+D\+S.\+c.

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT@{U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT}}
\index{U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT@{U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT}{UDP_BROADCAST_PORT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT~48028}\hypertarget{cmd_d_s_8c_a76bd5a574aad0fa67de6c9804853f191}{}\label{cmd_d_s_8c_a76bd5a574aad0fa67de6c9804853f191}


Definition at line 42 of file cmd\+D\+S.\+c.



Referenced by main(), and skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT@{U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT}}
\index{U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT@{U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT}{UDP_COMM_PORT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT~48029}\hypertarget{cmd_d_s_8c_a88c441c906325a3b6b2738e3218e401f}{}\label{cmd_d_s_8c_a88c441c906325a3b6b2738e3218e401f}


Definition at line 41 of file cmd\+D\+S.\+c.



Referenced by main().

\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT@{U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT}}
\index{U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT@{U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT}{UDP_REGULAR_PORT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+D\+P\+\_\+\+R\+E\+G\+U\+L\+A\+R\+\_\+\+P\+O\+RT~48027}\hypertarget{cmd_d_s_8c_af16df2ad6ba0bf1f5283361eb89a979d}{}\label{cmd_d_s_8c_af16df2ad6ba0bf1f5283361eb89a979d}


Definition at line 43 of file cmd\+D\+S.\+c.



\subsection{Typedef Documentation}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!Control\+Data@{Control\+Data}}
\index{Control\+Data@{Control\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{Control\+Data}{ControlData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+control\+Data}  {\bf Control\+Data}}\hypertarget{cmd_d_s_8c_aad121cd36cd8851b2a3cd81fd0e41388}{}\label{cmd_d_s_8c_aad121cd36cd8851b2a3cd81fd0e41388}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!I\+P\+Broadcast\+Array@{I\+P\+Broadcast\+Array}}
\index{I\+P\+Broadcast\+Array@{I\+P\+Broadcast\+Array}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{I\+P\+Broadcast\+Array}{IPBroadcastArray}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+ip\+Broadcast\+Array}  {\bf I\+P\+Broadcast\+Array}}\hypertarget{cmd_d_s_8c_a83c26957f648dd04df183020ab03c60d}{}\label{cmd_d_s_8c_a83c26957f648dd04df183020ab03c60d}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+Control\+Data@{P\+Control\+Data}}
\index{P\+Control\+Data@{P\+Control\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+Control\+Data}{PControlData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+control\+Data} $\ast$ {\bf P\+Control\+Data}}\hypertarget{cmd_d_s_8c_aa6bae802f1b23385cd660e89a1e4fc75}{}\label{cmd_d_s_8c_aa6bae802f1b23385cd660e89a1e4fc75}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+I\+P\+Broadcast\+Array@{P\+I\+P\+Broadcast\+Array}}
\index{P\+I\+P\+Broadcast\+Array@{P\+I\+P\+Broadcast\+Array}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+I\+P\+Broadcast\+Array}{PIPBroadcastArray}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+ip\+Broadcast\+Array} $\ast$ {\bf P\+I\+P\+Broadcast\+Array}}\hypertarget{cmd_d_s_8c_a916d712cacebc2faeda930352280c361}{}\label{cmd_d_s_8c_a916d712cacebc2faeda930352280c361}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+P\+Reg\+Data@{P\+P\+Reg\+Data}}
\index{P\+P\+Reg\+Data@{P\+P\+Reg\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+P\+Reg\+Data}{PPRegData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+registry\+Data} $\ast$$\ast$ {\bf P\+P\+Reg\+Data}}\hypertarget{cmd_d_s_8c_a0b249e07431f112b20e1708c3162d8a0}{}\label{cmd_d_s_8c_a0b249e07431f112b20e1708c3162d8a0}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+Reg\+Data@{P\+Reg\+Data}}
\index{P\+Reg\+Data@{P\+Reg\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+Reg\+Data}{PRegData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+registry\+Data} $\ast$ {\bf P\+Reg\+Data}}\hypertarget{cmd_d_s_8c_a57f677cfc01b955d9d3783e5422f36a8}{}\label{cmd_d_s_8c_a57f677cfc01b955d9d3783e5422f36a8}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!P\+U\+Signal\+Data@{P\+U\+Signal\+Data}}
\index{P\+U\+Signal\+Data@{P\+U\+Signal\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{P\+U\+Signal\+Data}{PUSignalData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+signal\+Data} $\ast$ {\bf P\+U\+Signal\+Data}}\hypertarget{cmd_d_s_8c_acdc6976ac4ccc0f13bc99bb5b9361a6e}{}\label{cmd_d_s_8c_acdc6976ac4ccc0f13bc99bb5b9361a6e}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!Reg\+Data@{Reg\+Data}}
\index{Reg\+Data@{Reg\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{Reg\+Data}{RegData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+registry\+Data}  {\bf Reg\+Data}}\hypertarget{cmd_d_s_8c_aac252e0f10021267858720b8e772c0fc}{}\label{cmd_d_s_8c_aac252e0f10021267858720b8e772c0fc}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!U\+Signal\+Data@{U\+Signal\+Data}}
\index{U\+Signal\+Data@{U\+Signal\+Data}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{U\+Signal\+Data}{USignalData}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+signal\+Data}  {\bf U\+Signal\+Data}}\hypertarget{cmd_d_s_8c_a4d86cbb761613143e4ee60218efdfbaa}{}\label{cmd_d_s_8c_a4d86cbb761613143e4ee60218efdfbaa}


\subsection{Function Documentation}
\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler@{cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler}}
\index{cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler@{cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler(\+G\+Socket $\ast$g\+Sock, G\+I\+O\+Condition condition, P\+Control\+Data pctrl)}{cb_udp_broadcast_response_handler(GSocket *gSock, GIOCondition condition, PControlData pctrl)}}]{\setlength{\rightskip}{0pt plus 5cm}static gboolean cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler (
\begin{DoxyParamCaption}
\item[{G\+Socket $\ast$}]{g\+Sock, }
\item[{G\+I\+O\+Condition}]{condition, }
\item[{{\bf P\+Control\+Data}}]{pctrl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{cmd_d_s_8c_a385b710fd30ba190b3b96e814424ff80}{}\label{cmd_d_s_8c_a385b710fd30ba190b3b96e814424ff80}


Definition at line 495 of file cmd\+D\+S.\+c.



References \+\_\+registry\+Data\+::ch\+\_\+from, \+\_\+registry\+Data\+::ch\+\_\+ip, \+\_\+registry\+Data\+::ch\+\_\+message, \+\_\+registry\+Data\+::ch\+\_\+name, \+\_\+registry\+Data\+::ch\+\_\+port, \+\_\+control\+Data\+::ch\+\_\+this\+\_\+ip, \+\_\+registry\+Data\+::ch\+\_\+timestamp, \+\_\+control\+Data\+::g\+U\+D\+P\+Port, \+\_\+control\+Data\+::loop, \+\_\+control\+Data\+::pch\+\_\+service\+\_\+name, \+\_\+control\+Data\+::resolver, skn\+\_\+get\+\_\+timestamp(), skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string(), S\+Z\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+FF, and udp\+\_\+registry\+\_\+response\+\_\+parser().



Referenced by main().


\begin{DoxyCode}
495                                                                                                            
         \{
496     GError *error = NULL;
497     GSocketAddress *gsRmtAddr = NULL;
498     GInetAddress *gsAddr = NULL;
499     \hyperlink{struct__registry_data}{PRegData} message = NULL;
500     \hyperlink{struct__registry_data}{PRegData} msg = NULL;
501     \hyperlink{struct__registry_data}{PRegData} *msgs;
502     gchar * rmtHost = NULL;
503     gssize gss\_receive = 0;
504     gchar *stamp = \hyperlink{cmd_d_s_8c_a6ea2e6ee5c8f0d51a98539842634f217}{skn\_get\_timestamp}();
505     gchar response[\hyperlink{cmd_d_s_8c_a3c73a8961a16a0dfbb87b5a7317bacd2}{SZ\_RESPONSE\_BUFF}];
506     gint h\_index = 0;
507     gchar *converted = NULL;
508 
509     \textcolor{keywordflow}{if} ((condition & G\_IO\_HUP) || (condition & G\_IO\_ERR) || (condition & G\_IO\_NVAL)) \{  \textcolor{comment}{/* SHUTDOWN THE
       MAIN LOOP */}
510         g\_message(\textcolor{stringliteral}{"DisplayService::cb\_udp\_broadcast\_response\_handler(error) Operational Error / Shutdown
       Signaled => %s\(\backslash\)n"}, \hyperlink{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}{skn\_gio\_condition\_to\_string}(condition));
511         g\_main\_loop\_quit(pctrl->\hyperlink{struct__control_data_ae1b70bafbd5eb568c6ca339664959216}{loop});
512         \textcolor{keywordflow}{return} ( G\_SOURCE\_REMOVE );
513     \}
514     \textcolor{keywordflow}{if} (condition != G\_IO\_IN) \{
515         g\_message(\textcolor{stringliteral}{"DisplayService::cb\_udp\_broadcast\_response\_handler(error) NOT G\_IO\_IN => %s\(\backslash\)n"}, 
      \hyperlink{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}{skn\_gio\_condition\_to\_string}(condition));
516         \textcolor{keywordflow}{return} (G\_SOURCE\_CONTINUE);
517     \}
518 
519     \textcolor{comment}{/*}
520 \textcolor{comment}{     * Allocate a new queue message and read incoming request directly into it */}
521     message = g\_new0(\hyperlink{struct__registry_data}{RegData},1);
522 
523     \textcolor{comment}{/*}
524 \textcolor{comment}{     * If socket times out before reading data any operation will error with 'G\_IO\_ERROR\_TIMED\_OUT'.}
525 \textcolor{comment}{     * Read Request Message and get Requestor IP Address or Name}
526 \textcolor{comment}{    */}
527     gss\_receive = g\_socket\_receive\_from (gSock, &gsRmtAddr, message->\hyperlink{struct__registry_data_ae9b0c1e6f13d980dcc7515def6b20b5e}{ch\_message}, \textcolor{keyword}{sizeof}(message->
      \hyperlink{struct__registry_data_ae9b0c1e6f13d980dcc7515def6b20b5e}{ch\_message}), NULL, &error);
528     \textcolor{keywordflow}{if} (error != NULL) \{ \textcolor{comment}{// gss\_receive = Number of bytes read, or 0 if the connection was closed by the
       peer, or -1 on error}
529         g\_error(\textcolor{stringliteral}{"g\_socket\_receive\_from() => %s"}, error->message);
530         g\_clear\_error(&error);
531         g\_free(message);
532         g\_free(stamp);
533         \textcolor{keywordflow}{return} (G\_SOURCE\_CONTINUE);
534     \}
535     \textcolor{keywordflow}{if} (gss\_receive > 0 ) \{
536         \textcolor{keywordflow}{if} (G\_IS\_INET\_SOCKET\_ADDRESS(gsRmtAddr) ) \{
537             gsAddr = g\_inet\_socket\_address\_get\_address( G\_INET\_SOCKET\_ADDRESS(gsRmtAddr) );
538             \textcolor{keywordflow}{if} ( G\_IS\_INET\_ADDRESS(gsAddr) ) \{
539                 g\_object\_ref(gsAddr);
540                 rmtHost = g\_resolver\_lookup\_by\_address (pctrl->\hyperlink{struct__control_data_afe33a7083e1ecc9ba50a69644ed4a753}{resolver}, gsAddr, NULL, NULL);
541                 \textcolor{keywordflow}{if} (NULL == rmtHost) \{
542                     rmtHost = g\_inet\_address\_to\_string ( gsAddr);
543                 \}
544             \}
545         \}
546 
547         \textcolor{comment}{/*}
548 \textcolor{comment}{         * Convert to UTF8}
549 \textcolor{comment}{         */}
550         converted = g\_convert (message->\hyperlink{struct__registry_data_ae9b0c1e6f13d980dcc7515def6b20b5e}{ch\_message}, gss\_receive, \textcolor{stringliteral}{"UTF-8"}, \textcolor{stringliteral}{"ISO-8859-1"}, NULL, 
      NULL, NULL);
551         \textcolor{keywordflow}{if} (NULL != converted) \{
552             g\_utf8\_strncpy(message->\hyperlink{struct__registry_data_ae9b0c1e6f13d980dcc7515def6b20b5e}{ch\_message}, converted, \textcolor{keyword}{sizeof}(message->
      \hyperlink{struct__registry_data_ae9b0c1e6f13d980dcc7515def6b20b5e}{ch\_message}));
553             g\_free(converted);
554         \}
555 
556         g\_utf8\_strncpy(message->\hyperlink{struct__registry_data_a362a4edf89daafe79565053dd70892c4}{ch\_timestamp}, stamp, \textcolor{keyword}{sizeof}(message->
      \hyperlink{struct__registry_data_a362a4edf89daafe79565053dd70892c4}{ch\_timestamp}));
557         g\_utf8\_strncpy(message->\hyperlink{struct__registry_data_a5fac46820690525a9d8b3f0185bca587}{ch\_from},      rmtHost, \textcolor{keyword}{sizeof}(message->
      \hyperlink{struct__registry_data_a5fac46820690525a9d8b3f0185bca587}{ch\_from}));
558         \textcolor{keywordflow}{if} ( (msgs = \hyperlink{cmd_d_s_8c_a568a9919cfd345f6c1a41a2ec7c4b1ca}{udp\_registry\_response\_parser}(message, message->
      \hyperlink{struct__registry_data_ae9b0c1e6f13d980dcc7515def6b20b5e}{ch\_message})) != NULL ) \{
559             \textcolor{comment}{/*}
560 \textcolor{comment}{             * Send it to be processed by a message handler */}
561             g\_free(message);
562             h\_index = 0;
563             msg = (\hyperlink{cmd_d_s_8c_a57f677cfc01b955d9d3783e5422f36a8}{PRegData})msgs[h\_index];
564             \textcolor{keywordflow}{while} ( msg != NULL ) \{
565                 g\_print(\textcolor{stringliteral}{"[REGISTRY] From=%s, Node=%s, IP=%s, Port=%s\(\backslash\)n"}, msg->
      \hyperlink{struct__registry_data_a5fac46820690525a9d8b3f0185bca587}{ch\_from}, msg->\hyperlink{struct__registry_data_a4764e2a72c3ba9177b6c4803cfa03f72}{ch\_name}, msg->\hyperlink{struct__registry_data_a814e064e77a6aac5866c88cb51acd971}{ch\_ip}, msg->\hyperlink{struct__registry_data_a74f03616af9ec9770266cb7988fe1a71}{ch\_port});
566                 g\_free(msg);
567                 msg = (\hyperlink{cmd_d_s_8c_a57f677cfc01b955d9d3783e5422f36a8}{PRegData})msgs[++h\_index];
568             \}
569             g\_free(msgs);
570         \} \textcolor{keywordflow}{else} \{
571             g\_free(message);
572 
573             \textcolor{comment}{/* Format: name=rpi\_locator\_service,ip=10.100.1.19,port=48028|}
574 \textcolor{comment}{             *         name=cmdline\_display\_service,ip=10.100.1.19,port=48029|}
575 \textcolor{comment}{             */}
576 
577             g\_snprintf(response, \textcolor{keyword}{sizeof}(response),
578                        \textcolor{stringliteral}{"name=rpi\_locator\_service,ip=%s,port=48028|name=%s,ip=%s,port=%d|"},
579                        pctrl->\hyperlink{struct__control_data_ac48fc4263dd4a6bad484b93fbf1ffe1b}{ch\_this\_ip}, pctrl->\hyperlink{struct__control_data_a2197fd3d9315510193866dbedbd3cc8b}{pch\_service\_name}, pctrl->
      \hyperlink{struct__control_data_ac48fc4263dd4a6bad484b93fbf1ffe1b}{ch\_this\_ip}, pctrl->\hyperlink{struct__control_data_a78b36762a9d85d027fc5e41576ade4f7}{gUDPPort});
580             \textcolor{comment}{/*}
581 \textcolor{comment}{             * Send Registry Response to caller */}
582             g\_socket\_send\_to (gSock, gsRmtAddr, response, strlen(response), NULL, &error);
583             \textcolor{keywordflow}{if} (error != NULL) \{  \textcolor{comment}{// gss\_send = Number of bytes written (which may be less than size ), or
       -1 on error}
584                 g\_error(\textcolor{stringliteral}{"g\_socket\_send\_to() => %s"}, error->message);
585                 g\_free(message);
586                 g\_clear\_error(&error);
587             \}
588         \}
589     \}
590     g\_free(stamp);
591     g\_free(rmtHost);
592 
593     \textcolor{keywordflow}{if} ( G\_IS\_INET\_ADDRESS(gsAddr) )
594         g\_object\_unref(gsAddr);
595 
596     \textcolor{keywordflow}{if} ( G\_IS\_INET\_SOCKET\_ADDRESS(gsRmtAddr) )
597         g\_object\_unref(gsRmtAddr);
598 
599     \textcolor{keywordflow}{return} (G\_SOURCE\_CONTINUE);
600 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a385b710fd30ba190b3b96e814424ff80_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{cmd_d_s_8c_a385b710fd30ba190b3b96e814424ff80_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!cb\+\_\+udp\+\_\+request\+\_\+handler@{cb\+\_\+udp\+\_\+request\+\_\+handler}}
\index{cb\+\_\+udp\+\_\+request\+\_\+handler@{cb\+\_\+udp\+\_\+request\+\_\+handler}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{cb\+\_\+udp\+\_\+request\+\_\+handler(\+G\+Socket $\ast$socket, G\+I\+O\+Condition condition, P\+Control\+Data pctrl)}{cb_udp_request_handler(GSocket *socket, GIOCondition condition, PControlData pctrl)}}]{\setlength{\rightskip}{0pt plus 5cm}static gboolean cb\+\_\+udp\+\_\+request\+\_\+handler (
\begin{DoxyParamCaption}
\item[{G\+Socket $\ast$}]{socket, }
\item[{G\+I\+O\+Condition}]{condition, }
\item[{{\bf P\+Control\+Data}}]{pctrl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{cmd_d_s_8c_a49f1fa41c6c2b72cbffa3e0399b12ea7}{}\label{cmd_d_s_8c_a49f1fa41c6c2b72cbffa3e0399b12ea7}


Definition at line 429 of file cmd\+D\+S.\+c.



References \+\_\+control\+Data\+::ch\+\_\+read, \+\_\+control\+Data\+::ch\+\_\+request, \+\_\+control\+Data\+::ch\+\_\+response, \+\_\+control\+Data\+::loop, \+\_\+control\+Data\+::resolver, skn\+\_\+get\+\_\+timestamp(), and skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string().



Referenced by main().


\begin{DoxyCode}
429                                                                                                    \{
430     GError *error = NULL;
431     GSocketAddress *gsRmtAddr = NULL;
432     GInetAddress *gsAddr = NULL;
433     gchar * rmtHost = NULL;
434     gchar *stamp = \hyperlink{cmd_d_s_8c_a6ea2e6ee5c8f0d51a98539842634f217}{skn\_get\_timestamp}();
435     gssize gss\_receive = 0;
436 
437     \textcolor{keywordflow}{if} ((condition & G\_IO\_HUP) || (condition & G\_IO\_ERR) || (condition & G\_IO\_NVAL)) \{  \textcolor{comment}{/* SHUTDOWN THE
       MAIN LOOP */}
438         g\_message(\textcolor{stringliteral}{"DisplayService::cb\_udp\_request\_handler(error) G\_IO\_HUP => %s\(\backslash\)n"}, 
      \hyperlink{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}{skn\_gio\_condition\_to\_string}(condition));
439         g\_main\_loop\_quit(pctrl->\hyperlink{struct__control_data_ae1b70bafbd5eb568c6ca339664959216}{loop});
440         \textcolor{keywordflow}{return} ( G\_SOURCE\_REMOVE );
441     \}
442     \textcolor{keywordflow}{if} (condition != G\_IO\_IN) \{
443         g\_message(\textcolor{stringliteral}{"DisplayService::cb\_udp\_request\_handler(error) NOT G\_IO\_IN => %s\(\backslash\)n"}, 
      \hyperlink{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}{skn\_gio\_condition\_to\_string}(condition));
444         \textcolor{keywordflow}{return} (G\_SOURCE\_CONTINUE);
445     \}
446 
447     \textcolor{comment}{/*}
448 \textcolor{comment}{     * If socket times out before reading data any operation will error with 'G\_IO\_ERROR\_TIMED\_OUT'.}
449 \textcolor{comment}{    */}
450     gss\_receive = g\_socket\_receive\_from (gSock, &gsRmtAddr, pctrl->\hyperlink{struct__control_data_a243b075becb92f2f37f56f60f738efb1}{ch\_read}, \textcolor{keyword}{sizeof}(pctrl->
      \hyperlink{struct__control_data_a243b075becb92f2f37f56f60f738efb1}{ch\_read}), NULL, &error);
451     \textcolor{keywordflow}{if} (error != NULL) \{ \textcolor{comment}{// gss\_receive = Number of bytes read, or 0 if the connection was closed by the
       peer, or -1 on error}
452         g\_error(\textcolor{stringliteral}{"g\_socket\_receive\_from() => %s"}, error->message);
453         g\_clear\_error(&error);
454         \textcolor{keywordflow}{return} (G\_SOURCE\_CONTINUE);
455     \}
456     \textcolor{keywordflow}{if} (gss\_receive > 0 ) \{
457         \textcolor{keywordflow}{if} (G\_IS\_INET\_SOCKET\_ADDRESS(gsRmtAddr) ) \{
458             gsAddr = g\_inet\_socket\_address\_get\_address( G\_INET\_SOCKET\_ADDRESS(gsRmtAddr) );
459             \textcolor{keywordflow}{if} ( G\_IS\_INET\_ADDRESS(gsAddr) ) \{
460                 g\_object\_ref(gsAddr);
461                 rmtHost = g\_resolver\_lookup\_by\_address (pctrl->\hyperlink{struct__control_data_afe33a7083e1ecc9ba50a69644ed4a753}{resolver}, gsAddr, NULL, NULL);
462                 \textcolor{keywordflow}{if} (NULL == rmtHost) \{
463                     rmtHost = g\_inet\_address\_to\_string ( gsAddr);
464                 \}
465             \}
466         \}
467         pctrl->\hyperlink{struct__control_data_a243b075becb92f2f37f56f60f738efb1}{ch\_read}[gss\_receive] = 0;
468         g\_snprintf(pctrl->\hyperlink{struct__control_data_a948c37bbe26f5bdd4841b65384155edf}{ch\_request}, \textcolor{keyword}{sizeof}(pctrl->\hyperlink{struct__control_data_a948c37bbe26f5bdd4841b65384155edf}{ch\_request}), \textcolor{stringliteral}{"[%s]MSG From=%s,
       Msg=%s"}, stamp, rmtHost, pctrl->\hyperlink{struct__control_data_a243b075becb92f2f37f56f60f738efb1}{ch\_read});
469         g\_free(rmtHost);
470         g\_snprintf(pctrl->\hyperlink{struct__control_data_a9423e8582b05e2dde58b7302bee5559b}{ch\_response}, \textcolor{keyword}{sizeof}(pctrl->\hyperlink{struct__control_data_a9423e8582b05e2dde58b7302bee5559b}{ch\_response}), \textcolor{stringliteral}{"%d %s"}, 202, \textcolor{stringliteral}{"
      Accepted"});
471     \} \textcolor{keywordflow}{else} \{
472         g\_snprintf(pctrl->\hyperlink{struct__control_data_a948c37bbe26f5bdd4841b65384155edf}{ch\_request}, \textcolor{keyword}{sizeof}(pctrl->\hyperlink{struct__control_data_a948c37bbe26f5bdd4841b65384155edf}{ch\_request}), \textcolor{stringliteral}{"%s"}, \textcolor{stringliteral}{"Error: Input
       not Usable"});
473         g\_snprintf(pctrl->\hyperlink{struct__control_data_a9423e8582b05e2dde58b7302bee5559b}{ch\_response}, \textcolor{keyword}{sizeof}(pctrl->\hyperlink{struct__control_data_a9423e8582b05e2dde58b7302bee5559b}{ch\_response}), \textcolor{stringliteral}{"%d %s"}, 406, \textcolor{stringliteral}{"Not
       Acceptable"});
474     \}
475 
476     g\_socket\_send\_to (gSock, gsRmtAddr, pctrl->\hyperlink{struct__control_data_a9423e8582b05e2dde58b7302bee5559b}{ch\_response}, strlen(pctrl->
      \hyperlink{struct__control_data_a9423e8582b05e2dde58b7302bee5559b}{ch\_response}), NULL, &error);
477     \textcolor{keywordflow}{if} (error != NULL) \{  \textcolor{comment}{// gss\_send = Number of bytes written (which may be less than size ), or -1 on
       error}
478         g\_error(\textcolor{stringliteral}{"g\_socket\_send\_to() => %s"}, error->message);
479         g\_clear\_error(&error);
480     \}
481 
482     g\_free(stamp);
483     g\_print(\textcolor{stringliteral}{"%s\(\backslash\)n"}, pctrl->\hyperlink{struct__control_data_a948c37bbe26f5bdd4841b65384155edf}{ch\_request});
484 
485     \textcolor{keywordflow}{if} ( G\_IS\_INET\_ADDRESS(gsAddr) )
486         g\_object\_unref(gsAddr);
487 
488     \textcolor{keywordflow}{if} (G\_IS\_INET\_SOCKET\_ADDRESS(gsRmtAddr) )
489         g\_object\_unref(gsRmtAddr);
490 
491 
492     \textcolor{keywordflow}{return} (G\_SOURCE\_CONTINUE);
493 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a49f1fa41c6c2b72cbffa3e0399b12ea7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{cmd_d_s_8c_a49f1fa41c6c2b72cbffa3e0399b12ea7_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!cb\+\_\+unix\+\_\+signal\+\_\+handler@{cb\+\_\+unix\+\_\+signal\+\_\+handler}}
\index{cb\+\_\+unix\+\_\+signal\+\_\+handler@{cb\+\_\+unix\+\_\+signal\+\_\+handler}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{cb\+\_\+unix\+\_\+signal\+\_\+handler(\+P\+U\+Signal\+Data psig)}{cb_unix_signal_handler(PUSignalData psig)}}]{\setlength{\rightskip}{0pt plus 5cm}static gboolean cb\+\_\+unix\+\_\+signal\+\_\+handler (
\begin{DoxyParamCaption}
\item[{{\bf P\+U\+Signal\+Data}}]{psig}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b}{}\label{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b}


Definition at line 307 of file cmd\+D\+S.\+c.



References \+\_\+signal\+Data\+::loop, and \+\_\+signal\+Data\+::signal\+Name.



Referenced by main().


\begin{DoxyCode}
307                                                           \{
308     g\_message(\textcolor{stringliteral}{"DisplayService::cb\_unix\_signal\_handler() %s Unix Signal Received => Shutdown Initiated!\(\backslash\)n"}, 
      psig->\hyperlink{struct__signal_data_a6b2ce59a22a4ccc54e1d7a54e641d08f}{signalName});
309     g\_main\_loop\_quit(psig->\hyperlink{struct__signal_data_ae85864980ae30c1878e7149c26442544}{loop});
310     \textcolor{keywordflow}{return} ( G\_SOURCE\_REMOVE );
311 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!main@{main}}
\index{main@{main}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$$\ast$argv)}{main(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{cmd_d_s_8c_a3c04138a5bfe5d72780bb7e82a18e627}


Definition at line 632 of file cmd\+D\+S.\+c.



References cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler(), cb\+\_\+udp\+\_\+request\+\_\+handler(), cb\+\_\+unix\+\_\+signal\+\_\+handler(), \+\_\+control\+Data\+::ch\+\_\+intf\+Name, \+\_\+control\+Data\+::ch\+\_\+this\+\_\+ip, F\+A\+L\+SE, G\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE, \+\_\+control\+Data\+::gb\+Sock, \+\_\+control\+Data\+::g\+Source\+Id, \+\_\+control\+Data\+::g\+U\+D\+P\+Port, \+\_\+signal\+Data\+::loop, \+\_\+control\+Data\+::loop, \+\_\+control\+Data\+::pch\+\_\+service\+\_\+name, \+\_\+control\+Data\+::resolver, \+\_\+signal\+Data\+::signal\+Name, skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address(), skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces(), T\+R\+UE, U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT, and U\+D\+P\+\_\+\+C\+O\+M\+M\+\_\+\+P\+O\+RT.


\begin{DoxyCode}
632                                 \{
633 
634     GError *error = NULL;
635     GSocket *gSock = NULL;
636     GSocketAddress *gsAddr = NULL;
637     GInetAddress *anyAddr = NULL;
638     GSource * gSource = NULL;
639     GSocketAddress *gbAddr = NULL;
640     GSource * gBroadSource = NULL;
641     guint gSourceId = 0;
642     \hyperlink{struct__control_data}{ControlData} cData;
643     \hyperlink{struct__ip_broadcast_array}{PIPBroadcastArray} paB = NULL;
644 
645     \hyperlink{struct__signal_data}{USignalData} sigTerm;
646     \hyperlink{struct__signal_data}{USignalData} sigInt;
647     \hyperlink{struct__signal_data}{USignalData} sigHup;
648 
649     guint gUDPPort = 0;
650 
651     GOptionContext *gOptions = NULL;
652     GOptionEntry pgmOptions[] = \{
653        \{\textcolor{stringliteral}{"service-name"}, \textcolor{charliteral}{'a'}, \hyperlink{cmd_d_s_8c_a8e8475ded7103e72515667b568ed64c7}{G\_OPTION\_FLAG\_NONE}, G\_OPTION\_ARG\_STRING, &cData.
      \hyperlink{struct__control_data_a2197fd3d9315510193866dbedbd3cc8b}{pch\_service\_name}, \textcolor{stringliteral}{"Alternate Service Name"}, \textcolor{stringliteral}{"cmdline\_display\_service"}\},
654        \{\textcolor{stringliteral}{"udp\_port\_number"}, \textcolor{charliteral}{'p'}, \hyperlink{cmd_d_s_8c_a8e8475ded7103e72515667b568ed64c7}{G\_OPTION\_FLAG\_NONE}, G\_OPTION\_ARG\_INT, &gUDPPort, \textcolor{stringliteral}{"UDP
       Port Number to listen on."}, \textcolor{stringliteral}{"port number defaults to 48029"}\},
655        \{NULL\}
656     \};
657 
658     cData.\hyperlink{struct__control_data_a2197fd3d9315510193866dbedbd3cc8b}{pch\_service\_name} = NULL;
659 
660     gOptions = g\_option\_context\_new (\textcolor{stringliteral}{"UDP message display service for IOT."});
661     g\_option\_context\_add\_main\_entries (gOptions, pgmOptions, NULL);
662 
663     g\_option\_context\_parse (gOptions, &argc, &argv, &error);
664     \textcolor{keywordflow}{if} (error != NULL) \{
665         g\_error(\textcolor{stringliteral}{"g\_option\_context\_parse() => %s"}, error->message);
666         g\_clear\_error(&error);
667         exit(EXIT\_FAILURE);
668     \}
669     g\_option\_context\_free(gOptions);
670 
671     \textcolor{keywordflow}{if} (gUDPPort == 0) \{
672         gUDPPort = cData.\hyperlink{struct__control_data_a78b36762a9d85d027fc5e41576ade4f7}{gUDPPort} = \hyperlink{cmd_d_s_8c_a88c441c906325a3b6b2738e3218e401f}{UDP\_COMM\_PORT};
673     \} \textcolor{keywordflow}{else} \{
674         cData.\hyperlink{struct__control_data_a78b36762a9d85d027fc5e41576ade4f7}{gUDPPort} = gUDPPort;
675     \}
676     \textcolor{keywordflow}{if} (NULL == cData.\hyperlink{struct__control_data_a2197fd3d9315510193866dbedbd3cc8b}{pch\_service\_name}) \{
677         cData.\hyperlink{struct__control_data_a2197fd3d9315510193866dbedbd3cc8b}{pch\_service\_name} = \textcolor{stringliteral}{"cmdline\_display\_service"};
678     \}
679 
680 
681     paB = \hyperlink{cmd_d_s_8c_a72be87baa67e532c78af054acf935d6c}{skn\_get\_default\_interface\_name\_and\_ipv4\_address}((\textcolor{keywordtype}{
      char} *)&cData.\hyperlink{struct__control_data_adac6cf5482e4bbabb442f8ab27e4bc62}{ch\_intfName}, (\textcolor{keywordtype}{char} *)&cData.\hyperlink{struct__control_data_ac48fc4263dd4a6bad484b93fbf1ffe1b}{ch\_this\_ip});
682     \textcolor{keywordflow}{if} (NULL == paB) \{
683         g\_error(\textcolor{stringliteral}{"skn\_skn\_get\_default\_interface\_name\_and\_ipv4\_address() => Unable to discover network
       interface or non-available."});
684         exit(EXIT\_FAILURE);
685     \}
686 
687     sigHup.\hyperlink{struct__signal_data_ae85864980ae30c1878e7149c26442544}{loop} = sigTerm.\hyperlink{struct__signal_data_ae85864980ae30c1878e7149c26442544}{loop} = sigInt.\hyperlink{struct__signal_data_ae85864980ae30c1878e7149c26442544}{loop} = cData.\hyperlink{struct__control_data_ae1b70bafbd5eb568c6ca339664959216}{loop} =  g\_main\_loop\_new(NULL, 
      \hyperlink{skn__common__headers_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
688     sigTerm.\hyperlink{struct__signal_data_a6b2ce59a22a4ccc54e1d7a54e641d08f}{signalName} = \textcolor{stringliteral}{"SIGTERM"};
689     sigInt.\hyperlink{struct__signal_data_a6b2ce59a22a4ccc54e1d7a54e641d08f}{signalName} = \textcolor{stringliteral}{"SIGINT"};
690     sigHup.\hyperlink{struct__signal_data_a6b2ce59a22a4ccc54e1d7a54e641d08f}{signalName} = \textcolor{stringliteral}{"SIGHUP"};
691 
692     cData.\hyperlink{struct__control_data_afe33a7083e1ecc9ba50a69644ed4a753}{resolver} = g\_resolver\_get\_default();
693 
694     gSock = g\_socket\_new(G\_SOCKET\_FAMILY\_IPV4, G\_SOCKET\_TYPE\_DATAGRAM, G\_SOCKET\_PROTOCOL\_UDP, &error);
695     \textcolor{keywordflow}{if} (error != NULL) \{
696         g\_error(\textcolor{stringliteral}{"g\_socket\_new() => %s"}, error->message);
697         g\_clear\_error(&error);
698         exit(EXIT\_FAILURE);
699     \}
700 
701     anyAddr = g\_inet\_address\_new\_any(G\_SOCKET\_FAMILY\_IPV4);
702     gsAddr = g\_inet\_socket\_address\_new(anyAddr, gUDPPort);
703 
704     g\_socket\_bind(gSock, gsAddr, \hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, &error);
705     \textcolor{keywordflow}{if} (error != NULL) \{
706         g\_error(\textcolor{stringliteral}{"g\_socket\_bind() => %s"}, error->message);
707         g\_clear\_error(&error);
708         exit(EXIT\_FAILURE);
709     \}
710 
711     \textcolor{comment}{/*}
712 \textcolor{comment}{     * Create broadcast UDP Socket for receiving messages */}
713     cData.\hyperlink{struct__control_data_a3023250e01849cb311a7207746a3b64e}{gbSock} = g\_socket\_new(G\_SOCKET\_FAMILY\_IPV4, G\_SOCKET\_TYPE\_DATAGRAM, G\_SOCKET\_PROTOCOL\_UDP, 
      &error);
714     \textcolor{keywordflow}{if} (error != NULL) \{
715         g\_error(\textcolor{stringliteral}{"g\_socket\_new(broadcast) => %s"}, error->message);
716         g\_clear\_error(&error);
717         exit(EXIT\_FAILURE);
718     \}
719     g\_socket\_set\_broadcast(cData.\hyperlink{struct__control_data_a3023250e01849cb311a7207746a3b64e}{gbSock}, \hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
720 
721     gbAddr = g\_inet\_socket\_address\_new(anyAddr, \hyperlink{cmd_d_s_8c_a76bd5a574aad0fa67de6c9804853f191}{UDP\_BROADCAST\_PORT});
722         g\_object\_unref(anyAddr);
723 
724     g\_socket\_bind(cData.\hyperlink{struct__control_data_a3023250e01849cb311a7207746a3b64e}{gbSock}, gbAddr, \hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, &error);
725     \textcolor{keywordflow}{if} (error != NULL) \{
726         g\_error(\textcolor{stringliteral}{"g\_socket\_bind() => %s"}, error->message);
727         g\_clear\_error(&error);
728         exit(EXIT\_FAILURE);
729     \}
730 
731     \textcolor{comment}{/*}
732 \textcolor{comment}{     * Create and Add socket to gmain loop for service (i.e. polling socket)   */}
733     gSource = g\_socket\_create\_source (gSock, G\_IO\_IN, NULL);
734         g\_source\_set\_callback (gSource, (GSourceFunc) \hyperlink{cmd_d_s_8c_a49f1fa41c6c2b72cbffa3e0399b12ea7}{cb\_udp\_request\_handler}, &cData,
       NULL); \textcolor{comment}{// its really a GSocketSourceFunc}
735         cData.\hyperlink{struct__control_data_a719187f5c3c94da5aa08616db7820b98}{gSourceId} = gSourceId = g\_source\_attach (gSource, NULL);
736 
737     gBroadSource = g\_socket\_create\_source(cData.\hyperlink{struct__control_data_a3023250e01849cb311a7207746a3b64e}{gbSock}, G\_IO\_IN, NULL);
738         g\_source\_ref(gBroadSource);
739         g\_source\_set\_callback (gBroadSource, (GSourceFunc) 
      \hyperlink{cmd_d_s_8c_a385b710fd30ba190b3b96e814424ff80}{cb\_udp\_broadcast\_response\_handler}, &cData, NULL); \textcolor{comment}{// its really a
       GSocketSourceFunc}
740         g\_source\_attach (gBroadSource, NULL);
741 
742     \textcolor{comment}{/*}
743 \textcolor{comment}{     * Handle ctrl-break and kill signals cleanly */}
744     g\_unix\_signal\_add (SIGINT, (GSourceFunc) \hyperlink{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b}{cb\_unix\_signal\_handler}, &sigInt); \textcolor{comment}{//
       SIGINT signal (Ctrl+C)}
745     g\_unix\_signal\_add (SIGHUP, (GSourceFunc) \hyperlink{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b}{cb\_unix\_signal\_handler}, &sigHup);
746     g\_unix\_signal\_add (SIGTERM,(GSourceFunc) \hyperlink{cmd_d_s_8c_a76ad4de5945cff6e20dbeff46bda868b}{cb\_unix\_signal\_handler}, &sigTerm);
747 
748 
749     \textcolor{comment}{/*}
750 \textcolor{comment}{     * Broadcast Registry Request: 10.100.1.255 */}
751     \textcolor{keywordflow}{if} ( \hyperlink{cmd_d_s_8c_af376243f65a3fd761050836d1293b0d9}{skn\_udp\_network\_broadcast\_all\_interfaces}(cData.
      \hyperlink{struct__control_data_a3023250e01849cb311a7207746a3b64e}{gbSock}, paB) ) \{
752         g\_message(\textcolor{stringliteral}{"cmdDS: Ready to do Good, on %s:%s:%d...\(\backslash\)n"}, cData.\hyperlink{struct__control_data_adac6cf5482e4bbabb442f8ab27e4bc62}{ch\_intfName}, cData.
      \hyperlink{struct__control_data_ac48fc4263dd4a6bad484b93fbf1ffe1b}{ch\_this\_ip}, gUDPPort);
753 
754         g\_main\_loop\_run(cData.\hyperlink{struct__control_data_ae1b70bafbd5eb568c6ca339664959216}{loop});
755     \}
756 
757     g\_main\_loop\_unref(cData.\hyperlink{struct__control_data_ae1b70bafbd5eb568c6ca339664959216}{loop});
758 
759     g\_source\_unref(gBroadSource);
760     g\_source\_unref(gSource);
761     g\_object\_unref(cData.\hyperlink{struct__control_data_a3023250e01849cb311a7207746a3b64e}{gbSock});
762     g\_object\_unref(gSock);
763     g\_object\_unref(gbAddr);
764     g\_object\_unref(gsAddr);
765     g\_object\_unref(cData.\hyperlink{struct__control_data_afe33a7083e1ecc9ba50a69644ed4a753}{resolver});
766 
767     g\_message(\textcolor{stringliteral}{"cmdDS: normal shutdown..."});
768 
769     exit(EXIT\_SUCCESS);
770 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array@{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array}}
\index{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array@{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(\+P\+I\+P\+Broadcast\+Array pa\+B)}{skn_get_broadcast_ip_array(PIPBroadcastArray paB)}}]{\setlength{\rightskip}{0pt plus 5cm}gint skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array (
\begin{DoxyParamCaption}
\item[{{\bf P\+I\+P\+Broadcast\+Array}}]{paB}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a0dfc1a6916909805dc7fd2d8c471e0e3}{}\label{cmd_d_s_8c_a0dfc1a6916909805dc7fd2d8c471e0e3}
Collect IP and Broadcast Addresses for this machine


\begin{DoxyItemize}
\item Affects the P\+I\+P\+Broadcast\+Array
\item Return -\/1 on error, or count of interfaces
\item contains this ip\+Address in pa\+B-\/$>$ip\+Addr\+Str\mbox{[}pa\+B-\/$>$default\+Index\mbox{]} 
\end{DoxyItemize}

Definition at line 170 of file cmd\+D\+S.\+c.



References A\+R\+Y\+\_\+\+M\+A\+X\+\_\+\+I\+N\+TF, \+\_\+ip\+Broadcast\+Array\+::broad\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::cb\+Name, \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::count, \+\_\+ip\+Broadcast\+Array\+::default\+Index, \+\_\+ip\+Broadcast\+Array\+::if\+Name\+Str, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::mask\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name(), and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF.



Referenced by skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address().


\begin{DoxyCode}
170                                                        \{
171     \textcolor{keyword}{struct }ifaddrs * ifap;
172     \textcolor{keyword}{struct }ifaddrs * p;
173     gint rc = 0;
174 
175     memset(paB, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__ip_broadcast_array}{IPBroadcastArray}));
176     paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count} = 0;
177     paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex} = 0;
178     strcpy(paB->\hyperlink{struct__ip_broadcast_array_a0f592bd31dcc3ce00a349f04ff6bd1ba}{cbName}, \textcolor{stringliteral}{"IPBroadcastArray"});
179 
180     rc = \hyperlink{cmd_d_s_8c_afc164e6efc7bdcdbacba97ba6f6c2a19}{skn\_get\_default\_interface\_name}(paB->
      \hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName});
181     \textcolor{keywordflow}{if} (rc == EXIT\_FAILURE) \{ \textcolor{comment}{// Alternate method for Mac: 'route -n -A inet'}
182         g\_warning(\textcolor{stringliteral}{"[REGISTRY] No Default Network Interfaces Found!."});
183         paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}[0] = 0;
184     \}
185     rc = getifaddrs(&ifap);
186     \textcolor{keywordflow}{if} (rc != 0) \{
187         g\_warning(\textcolor{stringliteral}{"[REGISTRY] No Network Interfaces Found at All ! %d:%d:%s"}, rc, errno, strerror(errno) );
188         \textcolor{keywordflow}{return} (\hyperlink{cmd_d_s_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR});
189     \}
190     p = ifap;
191 
192     \textcolor{keywordflow}{while} (p && (paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count} < \hyperlink{cmd_d_s_8c_a00b19837422a3b13d82b9a525e92ef51}{ARY\_MAX\_INTF})) \{
193         \textcolor{keywordflow}{if} (p->ifa\_addr != NULL && p->ifa\_addr->sa\_family == AF\_INET && ((p->ifa\_flags & IFF\_BROADCAST) > 0
      )) \{
194 
195             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_addr)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
196             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_netmask)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_a9241c1fbfb22a3ecfe4777863a063eb3}{maskAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
197             inet\_ntop(p->ifa\_addr->sa\_family, &((\textcolor{keyword}{struct} sockaddr\_in *) p->ifa\_broadaddr)->sin\_addr, paB->
      \hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], (\hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} - 1));
198 
199             strncpy(paB->\hyperlink{struct__ip_broadcast_array_a193b90f271c061e8bf1593bab6a182c9}{ifNameStr}[paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}], p->ifa\_name, (
      \hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF} -1));
200 
201             \textcolor{comment}{/* Take match as the default */}
202             \textcolor{keywordflow}{if} (strcmp(paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, p->ifa\_name) == 0) \{
203                 paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex} = paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count};
204             \}
205 
206             paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}++;
207         \}
208         p = p->ifa\_next;
209     \} \textcolor{comment}{// end while}
210     freeifaddrs(ifap);
211 
212     \textcolor{keywordflow}{return} (paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count});
213 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a0dfc1a6916909805dc7fd2d8c471e0e3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a0dfc1a6916909805dc7fd2d8c471e0e3_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name}}
\index{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name(char $\ast$pch\+Default\+Interface\+Name)}{skn_get_default_interface_name(char *pchDefaultInterfaceName)}}]{\setlength{\rightskip}{0pt plus 5cm}gint skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{pch\+Default\+Interface\+Name}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_afc164e6efc7bdcdbacba97ba6f6c2a19}{}\label{cmd_d_s_8c_afc164e6efc7bdcdbacba97ba6f6c2a19}
Retrieves default internet interface name into param
\begin{DoxyItemize}
\item absolute best way to do this, but not supported on Darwin(i.\+e O\+SX) return E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS or E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE
\end{DoxyItemize}

\mbox{[}jscott O\+SX\mbox{]}\$ route -\/n get 0.\+0.\+0.\+0 route to\+: default destination\+: default mask\+: default gateway\+: 10.\+21.\+1.\+254 interface\+: en3 flags\+: $<$UP,G\+A\+T\+E\+W\+AY,D\+O\+NE,S\+T\+A\+T\+IC,P\+R\+C\+L\+O\+N\+I\+NG$>$ recvpipe sendpipe ssthresh rtt,msec rttvar hopcount mtu expire 0 0 0 0 0 0 1500 0 

Definition at line 231 of file cmd\+D\+S.\+c.



References skn\+\_\+strip(), and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+FF.



Referenced by skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array().


\begin{DoxyCode}
231                                                                    \{
232     FILE *f\_route;
233     \textcolor{keywordtype}{char} line[\hyperlink{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}], *dRoute = NULL, *iName = NULL;
234 
235     f\_route = fopen(\textcolor{stringliteral}{"/proc/net/route"}, \textcolor{stringliteral}{"r"});
236     \textcolor{keywordflow}{if} (f\_route != NULL) \{
237         \textcolor{keywordflow}{while} (fgets(line, \hyperlink{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1, f\_route)) \{
238             iName = strtok(line, \textcolor{stringliteral}{"\(\backslash\)t"});
239             dRoute = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)t"});
240 
241             \textcolor{keywordflow}{if} (iName != NULL && dRoute != NULL) \{
242                 \textcolor{keywordflow}{if} (strcmp(dRoute, \textcolor{stringliteral}{"00000000"}) == 0) \{
243                     strncpy(pchDefaultInterfaceName, iName, (\hyperlink{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1));
244                     \textcolor{keywordflow}{break};
245                 \}
246             \}
247         \}
248         fclose(f\_route);
249 
250         \textcolor{keywordflow}{return} (EXIT\_SUCCESS);
251     \}
252    g\_print(\textcolor{stringliteral}{"[REGISTRY] Opening ProcFs for RouteInfo Failed: %d:%s, Alternate method will be attempted."}, 
      errno, strerror(errno));
253 
254     f\_route = popen(\textcolor{stringliteral}{"route -n get 0.0.0.0"}, \textcolor{stringliteral}{"r"}); \textcolor{comment}{// for linux 'route -n -A inet', with interface at
       line\_word[7]}
255     \textcolor{keywordflow}{if} (f\_route != NULL) \{
256         \textcolor{keywordflow}{while} (fgets(line, \hyperlink{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1, f\_route)) \{
257             dRoute = strtok(line, \textcolor{stringliteral}{":"});
258             iName = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)n"});
259             \textcolor{keywordflow}{if} (strcmp(\hyperlink{cmd_d_s_8c_a5acaf42e0ff80bd0de38c490576e9f85}{skn\_strip}(dRoute), \textcolor{stringliteral}{"interface"}) == 0) \{
260                 strncpy(pchDefaultInterfaceName, \hyperlink{cmd_d_s_8c_a5acaf42e0ff80bd0de38c490576e9f85}{skn\_strip}(iName), (
      \hyperlink{cmd_d_s_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF} - 1));
261                 \textcolor{keywordflow}{break};
262             \}
263         \}
264         fclose(f\_route);
265 
266         \textcolor{keywordflow}{return} (EXIT\_SUCCESS);
267     \} \textcolor{keywordflow}{else} \{
268         g\_warning(\textcolor{stringliteral}{"[REGISTRY] Alternate method to get RouteInfo Failed: %d:%s"}, errno, strerror(errno));
269         \textcolor{keywordflow}{return} (EXIT\_FAILURE);
270     \}
271 
272 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{cmd_d_s_8c_afc164e6efc7bdcdbacba97ba6f6c2a19_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_afc164e6efc7bdcdbacba97ba6f6c2a19_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}}
\index{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address(char $\ast$intf, char $\ast$ipv4)}{skn_get_default_interface_name_and_ipv4_address(char *intf, char *ipv4)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+I\+P\+Broadcast\+Array} skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{intf, }
\item[{char $\ast$}]{ipv4}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a72be87baa67e532c78af054acf935d6c}{}\label{cmd_d_s_8c_a72be87baa67e532c78af054acf935d6c}


Referenced by main().



Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{cmd_d_s_8c_a72be87baa67e532c78af054acf935d6c_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}}
\index{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address@{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address(gchar $\ast$intf, gchar $\ast$ipv4)}{skn_get_default_interface_name_and_ipv4_address(gchar *intf, gchar *ipv4)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+I\+P\+Broadcast\+Array} skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name\+\_\+and\+\_\+ipv4\+\_\+address (
\begin{DoxyParamCaption}
\item[{gchar $\ast$}]{intf, }
\item[{gchar $\ast$}]{ipv4}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a4f733621137368e762c5db74a3cec52b}{}\label{cmd_d_s_8c_a4f733621137368e762c5db74a3cec52b}


Definition at line 150 of file cmd\+D\+S.\+c.



References \+\_\+ip\+Broadcast\+Array\+::ch\+Default\+Intf\+Name, \+\_\+ip\+Broadcast\+Array\+::default\+Index, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+E\+R\+R\+OR, skn\+\_\+get\+\_\+broadcast\+\_\+ip\+\_\+array(), and S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+FF.


\begin{DoxyCode}
150                                                                                               \{
151     \hyperlink{struct__ip_broadcast_array}{PIPBroadcastArray} paB = g\_new0(\hyperlink{struct__ip_broadcast_array}{IPBroadcastArray}, 1);
152 
153     \textcolor{keywordflow}{if} (\hyperlink{cmd_d_s_8c_a0dfc1a6916909805dc7fd2d8c471e0e3}{skn\_get\_broadcast\_ip\_array}(paB) != 
      \hyperlink{cmd_d_s_8c_a12efd06fda89d6826f820e75148d8fd7}{PLATFORM\_ERROR}) \{
154         g\_utf8\_strncpy(intf, paB->\hyperlink{struct__ip_broadcast_array_a06dab8742df19b5aec8538842617778d}{chDefaultIntfName}, 
      \hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
155         g\_utf8\_strncpy(ipv4, paB->\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[paB->\hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}], 
      \hyperlink{cmd_d_s_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF});
156     \} \textcolor{keywordflow}{else} \{
157         g\_warning(\textcolor{stringliteral}{"[REGISTRY] InterfaceName and Address: unable to access information."});
158         \textcolor{keywordflow}{return}(NULL);
159     \}
160     \textcolor{keywordflow}{return} (paB);
161 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a4f733621137368e762c5db74a3cec52b_cgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+get\+\_\+timestamp@{skn\+\_\+get\+\_\+timestamp}}
\index{skn\+\_\+get\+\_\+timestamp@{skn\+\_\+get\+\_\+timestamp}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+get\+\_\+timestamp()}{skn_get_timestamp()}}]{\setlength{\rightskip}{0pt plus 5cm}gchar$\ast$ skn\+\_\+get\+\_\+timestamp (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a6ea2e6ee5c8f0d51a98539842634f217}{}\label{cmd_d_s_8c_a6ea2e6ee5c8f0d51a98539842634f217}


Definition at line 312 of file cmd\+D\+S.\+c.



Referenced by cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler(), and cb\+\_\+udp\+\_\+request\+\_\+handler().


\begin{DoxyCode}
312                             \{
313     GDateTime   *stamp = g\_date\_time\_new\_now\_local();
314     gchar *response = g\_date\_time\_format(stamp,\textcolor{stringliteral}{"%F.%T"});
315 
316     \textcolor{keywordflow}{return}(response);
317 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a6ea2e6ee5c8f0d51a98539842634f217_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string@{skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string}}
\index{skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string@{skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string(\+G\+I\+O\+Condition condition)}{skn_gio_condition_to_string(GIOCondition condition)}}]{\setlength{\rightskip}{0pt plus 5cm}gchar$\ast$ skn\+\_\+gio\+\_\+condition\+\_\+to\+\_\+string (
\begin{DoxyParamCaption}
\item[{G\+I\+O\+Condition}]{condition}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}{}\label{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5}


Definition at line 603 of file cmd\+D\+S.\+c.



Referenced by cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler(), and cb\+\_\+udp\+\_\+request\+\_\+handler().


\begin{DoxyCode}
603                                                             \{
604     gchar *value = NULL;
605 
606     \textcolor{keywordflow}{switch}(condition) \{
607         \textcolor{keywordflow}{case} G\_IO\_IN:
608             value = \textcolor{stringliteral}{"There is data to read."};
609             \textcolor{keywordflow}{break};
610         \textcolor{keywordflow}{case} G\_IO\_OUT:
611             value = \textcolor{stringliteral}{"Data can be written (without blocking)."};
612             \textcolor{keywordflow}{break};
613         \textcolor{keywordflow}{case} G\_IO\_PRI:
614             value = \textcolor{stringliteral}{"There is urgent data to read."};
615             \textcolor{keywordflow}{break};
616         \textcolor{keywordflow}{case} G\_IO\_ERR:
617             value = \textcolor{stringliteral}{"Error condition."};
618             \textcolor{keywordflow}{break};
619         \textcolor{keywordflow}{case} G\_IO\_HUP:
620             value = \textcolor{stringliteral}{"Hung up (the connection has been broken, usually for pipes and sockets)."};
621             \textcolor{keywordflow}{break};
622         \textcolor{keywordflow}{case} G\_IO\_NVAL:
623             value = \textcolor{stringliteral}{"Invalid request. The file descriptor is not open."};
624             \textcolor{keywordflow}{break};
625         \textcolor{keywordflow}{default}:
626             value = \textcolor{stringliteral}{"Unknown GIOCondition!"};
627     \}
628 
629     \textcolor{keywordflow}{return} (value);
630 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a2dcc830aabe5f0cfffb3077fc0cba6a5_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+strip@{skn\+\_\+strip}}
\index{skn\+\_\+strip@{skn\+\_\+strip}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+strip(gchar $\ast$alpha)}{skn_strip(gchar *alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}gchar$\ast$ skn\+\_\+strip (
\begin{DoxyParamCaption}
\item[{gchar $\ast$}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a5acaf42e0ff80bd0de38c490576e9f85}{}\label{cmd_d_s_8c_a5acaf42e0ff80bd0de38c490576e9f85}
Remove Trailing and Leading Blanks
\begin{DoxyItemize}
\item caution\+: pointers from argv are readonly and segfault on \textquotesingle{}alpha\mbox{[}end\mbox{]} = 0\textquotesingle{} 
\end{DoxyItemize}

Definition at line 124 of file cmd\+D\+S.\+c.



Referenced by skn\+\_\+get\+\_\+default\+\_\+interface\+\_\+name().


\begin{DoxyCode}
124                                  \{
125     \textcolor{keywordflow}{if} (alpha == NULL || strlen(alpha) < 1)
126         \textcolor{keywordflow}{return}(alpha);
127 
128     \textcolor{keywordtype}{int} len = strlen(alpha);
129     \textcolor{keywordtype}{int} end = len - 1;
130     \textcolor{keywordtype}{int} start = 0;
131 
132     \textcolor{comment}{// use isgraph() or !isspace() vs isalnum() to allow ['|' ';' '%']}
133     \textcolor{keywordflow}{while} ( !g\_unichar\_isgraph(alpha[end]) && end > 0 ) \{ \textcolor{comment}{// remove trailing non-alphanumeric chars}
134         alpha[end--] = 0;
135     \}
136 
137     len = strlen(alpha);
138     \textcolor{keywordflow}{while} ( !g\_unichar\_isalnum(alpha[start]) && start < len ) \{ \textcolor{comment}{// find first non-alpha stricter}
139         start++;
140     \}
141     \textcolor{keywordflow}{if} (start < len && start > 0) \{  \textcolor{comment}{// move in place}
142         end = len - start;
143         memmove(&alpha[0], &alpha[start], end);
144         alpha[end] = 0;
145     \}
146 
147     \textcolor{keywordflow}{return}(alpha);
148 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a5acaf42e0ff80bd0de38c490576e9f85_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces@{skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces}}
\index{skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces@{skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces(\+G\+Socket $\ast$g\+Sock, P\+I\+P\+Broadcast\+Array pab)}{skn_udp_network_broadcast_all_interfaces(GSocket *gSock, PIPBroadcastArray pab)}}]{\setlength{\rightskip}{0pt plus 5cm}gboolean skn\+\_\+udp\+\_\+network\+\_\+broadcast\+\_\+all\+\_\+interfaces (
\begin{DoxyParamCaption}
\item[{G\+Socket $\ast$}]{g\+Sock, }
\item[{{\bf P\+I\+P\+Broadcast\+Array}}]{paB}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_af376243f65a3fd761050836d1293b0d9}{}\label{cmd_d_s_8c_af376243f65a3fd761050836d1293b0d9}
Send a registry request on the broadcast ip of all interfaces


\begin{DoxyParams}{Parameters}
{\em g\+Sock} & IN G\+Lib active/bound socket with broadcast enabled \\
\hline
{\em ch\+\_\+request} & IN Greetings message, anytext \\
\hline
{\em ch\+\_\+intf\+Name} & O\+UT Default Ethernet Interface Name \\
\hline
{\em ch\+\_\+ip\+Address} & O\+UT Default Ethernet IP Address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on success, 
\end{DoxyReturn}


Definition at line 282 of file cmd\+D\+S.\+c.



References \+\_\+ip\+Broadcast\+Array\+::broad\+Addr\+Str, \+\_\+ip\+Broadcast\+Array\+::count, \+\_\+ip\+Broadcast\+Array\+::default\+Index, \+\_\+ip\+Broadcast\+Array\+::if\+Name\+Str, \+\_\+ip\+Broadcast\+Array\+::ip\+Addr\+Str, T\+R\+UE, and U\+D\+P\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+P\+O\+RT.



Referenced by main().


\begin{DoxyCode}
282                                                                                          \{
283     \textcolor{keyword}{struct }sockaddr\_in remaddr; \textcolor{comment}{/* remote address */}
284     socklen\_t addrlen = \textcolor{keyword}{sizeof}(remaddr); \textcolor{comment}{/* length of addresses */}
285     gchar *request = \textcolor{stringliteral}{"urn:rpilocator - Rpi Where Are You?"};
286     gint vIndex = 0;
287     gint i\_socket = g\_socket\_get\_fd(gSock);
288 
289     g\_print(\textcolor{stringliteral}{"[REGISTRY] Broadcast Socket Bound to %s\(\backslash\)n"}, paB->\hyperlink{struct__ip_broadcast_array_a96891ccc707337890b2a166e3ef3a8e1}{ipAddrStr}[paB->
      \hyperlink{struct__ip_broadcast_array_a5822ff77ae9f31bd3b4298d463c02f1f}{defaultIndex}]);
290 
291     \textcolor{keywordflow}{for} (vIndex = 0; vIndex < paB->\hyperlink{struct__ip_broadcast_array_a971377a4c995292b8bd908f185cfc844}{count}; vIndex++) \{
292         memset(&remaddr, 0, \textcolor{keyword}{sizeof}(remaddr));
293         remaddr.sin\_family = AF\_INET;
294         remaddr.sin\_addr.s\_addr = inet\_addr(paB->\hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[vIndex]);
295         remaddr.sin\_port = htons(\hyperlink{cmd_d_s_8c_a76bd5a574aad0fa67de6c9804853f191}{UDP\_BROADCAST\_PORT});
296 
297         \textcolor{keywordflow}{if} (sendto(i\_socket, request, strlen(request), 0, (\textcolor{keyword}{struct} sockaddr *) &remaddr, addrlen) < 0) \{
298             g\_warning(\textcolor{stringliteral}{"SendTo() Timed out; Failure code=%d, etext=%s"}, errno, strerror(errno));
299             \textcolor{keywordflow}{break};
300         \}
301         g\_print(\textcolor{stringliteral}{"[REGISTRY] Query Broadcasted on %s:%s:%d\(\backslash\)n"}, paB->\hyperlink{struct__ip_broadcast_array_a193b90f271c061e8bf1593bab6a182c9}{ifNameStr}[vIndex], paB->
      \hyperlink{struct__ip_broadcast_array_af40943e174ba847fa0218cfa6051e277}{broadAddrStr}[vIndex], \hyperlink{cmd_d_s_8c_a76bd5a574aad0fa67de6c9804853f191}{UDP\_BROADCAST\_PORT});
302     \}
303 
304     \textcolor{keywordflow}{return}(\hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
305 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{cmd_d_s_8c_af376243f65a3fd761050836d1293b0d9_icgraph}
\end{center}
\end{figure}


\index{cmd\+D\+S.\+c@{cmd\+D\+S.\+c}!udp\+\_\+registry\+\_\+response\+\_\+parser@{udp\+\_\+registry\+\_\+response\+\_\+parser}}
\index{udp\+\_\+registry\+\_\+response\+\_\+parser@{udp\+\_\+registry\+\_\+response\+\_\+parser}!cmd\+D\+S.\+c@{cmd\+D\+S.\+c}}
\subsubsection[{\texorpdfstring{udp\+\_\+registry\+\_\+response\+\_\+parser(\+P\+Reg\+Data msg, gchar $\ast$response)}{udp_registry_response_parser(PRegData msg, gchar *response)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+P\+Reg\+Data} udp\+\_\+registry\+\_\+response\+\_\+parser (
\begin{DoxyParamCaption}
\item[{{\bf P\+Reg\+Data}}]{msg, }
\item[{gchar $\ast$}]{response}
\end{DoxyParamCaption}
)}\hypertarget{cmd_d_s_8c_a568a9919cfd345f6c1a41a2ec7c4b1ca}{}\label{cmd_d_s_8c_a568a9919cfd345f6c1a41a2ec7c4b1ca}
Parse this response message

Format\+: name=rpi\+\_\+locator\+\_\+service,ip=10.\+100.\+1.\+19,port=48028$\vert$ name=lcd\+\_\+display\+\_\+service,ip=10.\+100.\+1.\+19,port=48029$\vert$

the vertical bar char \textquotesingle{}$\vert$\textquotesingle{} is the line separator, \% and ; are also supported 

Definition at line 329 of file cmd\+D\+S.\+c.



References \+\_\+registry\+Data\+::ch\+\_\+ip, \+\_\+registry\+Data\+::ch\+\_\+name, \+\_\+registry\+Data\+::ch\+\_\+port, F\+A\+L\+SE, S\+Z\+\_\+\+R\+M\+T\+A\+D\+D\+R\+\_\+\+B\+U\+FF, and T\+R\+UE.



Referenced by cb\+\_\+udp\+\_\+broadcast\+\_\+response\+\_\+handler().


\begin{DoxyCode}
329                                                                       \{
330     gboolean rc = \hyperlink{skn__common__headers_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
331     gboolean final\_rc = \hyperlink{skn__common__headers_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
332     gchar ** lines = NULL;
333     gchar *current\_line = NULL;
334     gchar ** entries = NULL;
335     gchar *current\_entry = NULL;
336     gchar ** key\_value = NULL;
337     \hyperlink{struct__registry_data}{PRegData} *msgs;
338     \hyperlink{struct__registry_data}{PRegData} preg = NULL;
339     gint h\_index = 0;
340     gint v\_index = 0;
341     gint o\_index = 0;
342     gint a\_count = 0;
343     gint e\_count = 0;
344 
345     \textcolor{keywordflow}{if} (g\_utf8\_strchr(response, -1, \textcolor{charliteral}{'|'}) == NULL) \{  \textcolor{comment}{// must be a registry entry}
346         \textcolor{keywordflow}{return} (NULL);
347     \}
348 
349     lines = g\_strsplit\_set(response, \textcolor{stringliteral}{"|;%"}, -1);  \textcolor{comment}{// get whole entries}
350     \textcolor{keywordflow}{if} ((NULL == lines) || (g\_strv\_length(lines) < 1)) \{
351         \textcolor{keywordflow}{return}(NULL);
352     \}
353 
354     a\_count = g\_strv\_length(lines);
355     msgs = g\_new0(\hyperlink{struct__registry_data}{PRegData}, a\_count);
356     \textcolor{keywordflow}{for}(o\_index = 0; o\_index < a\_count; o\_index += 1) \{
357         msgs[o\_index] = g\_new0(\hyperlink{struct__registry_data}{RegData}, 1);
358         memmove(msgs[o\_index], msg, \textcolor{keyword}{sizeof}(\hyperlink{struct__registry_data}{RegData}));
359     \}
360 
361     o\_index = 0;
362     current\_line = lines[h\_index];
363     \textcolor{keywordflow}{while} ((NULL != current\_line) && (h\_index < a\_count)) \{   \textcolor{comment}{// do each entry}
364         \textcolor{keywordflow}{if}(g\_utf8\_strlen(current\_line, -1) < 1) \{
365             current\_line = lines[++h\_index];
366             \textcolor{keywordflow}{continue};
367         \}
368 
369         v\_index = 0;
370         entries = g\_strsplit\_set(current\_line, \textcolor{stringliteral}{","}, -1);
371         current\_entry = entries[v\_index];
372         e\_count = g\_strv\_length(entries);
373         preg = msgs[o\_index];
374         rc = \hyperlink{skn__common__headers_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
375 
376         \textcolor{keywordflow}{while}((NULL != current\_entry) && (v\_index < e\_count)) \{
377             \textcolor{keywordflow}{if}(g\_utf8\_strlen(current\_entry, -1) < 1) \{
378                 current\_entry = entries[++v\_index];
379                 \textcolor{keywordflow}{continue};
380             \}
381 
382             \textcolor{comment}{// get name, ip, port}
383 
384             key\_value = g\_strsplit\_set(current\_entry, \textcolor{stringliteral}{"="}, -1);
385             \textcolor{keywordflow}{if}((key\_value != NULL) && (g\_strv\_length(key\_value) > 0)) \{
386                 \textcolor{keywordflow}{if}(g\_strrstr(key\_value[0], \textcolor{stringliteral}{"a"}) != NULL) \{
387                     final\_rc = rc = \hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
388                     g\_utf8\_strncpy(preg->\hyperlink{struct__registry_data_a4764e2a72c3ba9177b6c4803cfa03f72}{ch\_name}, key\_value[1], 
      \hyperlink{cmd_d_s_8c_a152ca8fa1a2eac39d1badafb6c6cef8c}{SZ\_RMTADDR\_BUFF});
389                 \}
390                 \textcolor{keywordflow}{if}(g\_strrstr(key\_value[0], \textcolor{stringliteral}{"i"}) != NULL) \{
391                     final\_rc = rc = \hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
392                     g\_utf8\_strncpy(preg->\hyperlink{struct__registry_data_a814e064e77a6aac5866c88cb51acd971}{ch\_ip}, key\_value[1], 
      \hyperlink{cmd_d_s_8c_a152ca8fa1a2eac39d1badafb6c6cef8c}{SZ\_RMTADDR\_BUFF});
393                 \}
394                 \textcolor{keywordflow}{if}(g\_strrstr(key\_value[0], \textcolor{stringliteral}{"o"}) != NULL) \{
395                     final\_rc = rc = \hyperlink{skn__common__headers_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
396                     g\_utf8\_strncpy(preg->\hyperlink{struct__registry_data_a74f03616af9ec9770266cb7988fe1a71}{ch\_port}, key\_value[1], 
      \hyperlink{cmd_d_s_8c_a152ca8fa1a2eac39d1badafb6c6cef8c}{SZ\_RMTADDR\_BUFF});
397                 \}
398             \}
399             g\_strfreev(key\_value);
400             current\_entry = entries[++v\_index];
401         \} \textcolor{comment}{// end entries}
402 
403         \textcolor{keywordflow}{if} (rc && (g\_utf8\_strlen(preg->\hyperlink{struct__registry_data_a814e064e77a6aac5866c88cb51acd971}{ch\_ip}, -1) > 6)) \{   \textcolor{comment}{// only move if used and valid}
404             o\_index += 1;
405         \}
406         g\_strfreev(entries);
407 
408         h\_index +=1;
409         current\_line = lines[h\_index];
410     \} \textcolor{comment}{// end lines}
411     g\_strfreev(lines);
412 
413     \textcolor{keywordflow}{if} (final\_rc) \{
414         \textcolor{keywordflow}{while}(o\_index < a\_count) \{
415             g\_free(msgs[o\_index]);
416             msgs[o\_index++] = NULL;
417         \}
418         \textcolor{keywordflow}{return}(msgs);
419     \} \textcolor{keywordflow}{else} \{
420         \textcolor{keywordflow}{while}(o\_index < a\_count) \{
421             g\_free(msgs[o\_index]);
422             msgs[o\_index++] = NULL;
423         \}
424         g\_free(msgs);
425         \textcolor{keywordflow}{return}(NULL);
426     \}
427 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cmd_d_s_8c_a568a9919cfd345f6c1a41a2ec7c4b1ca_icgraph}
\end{center}
\end{figure}


