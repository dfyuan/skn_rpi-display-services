\hypertarget{lcd__display__client_8c}{\section{src/lcd\+\_\+display\+\_\+client.c File Reference}
\label{lcd__display__client_8c}\index{src/lcd\+\_\+display\+\_\+client.\+c@{src/lcd\+\_\+display\+\_\+client.\+c}}
}
{\ttfamily \#include \char`\"{}skn\+\_\+network\+\_\+helpers.\+h\char`\"{}}\\*
Include dependency graph for lcd\+\_\+display\+\_\+client.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd__display__client_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
long \hyperlink{lcd__display__client_8c_aac32062aeca841944e9d1016c8db5e6a}{get\+Cpu\+Temps} (\hyperlink{skn__common__headers_8h_aa93d24a6c28f94dd78dabd7a586821cd}{P\+Cpu\+Temps} temps)
\item 
int \hyperlink{lcd__display__client_8c_aec6fcc1d0ae2035966ea7b3f624050cd}{generate\+\_\+cpu\+\_\+temps\+\_\+info} (char $\ast$msg)
\item 
int \hyperlink{lcd__display__client_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{lcd__display__client_8c_aec6fcc1d0ae2035966ea7b3f624050cd}{\index{lcd\+\_\+display\+\_\+client.\+c@{lcd\+\_\+display\+\_\+client.\+c}!generate\+\_\+cpu\+\_\+temps\+\_\+info@{generate\+\_\+cpu\+\_\+temps\+\_\+info}}
\index{generate\+\_\+cpu\+\_\+temps\+\_\+info@{generate\+\_\+cpu\+\_\+temps\+\_\+info}!lcd\+\_\+display\+\_\+client.\+c@{lcd\+\_\+display\+\_\+client.\+c}}
\subsubsection[{generate\+\_\+cpu\+\_\+temps\+\_\+info}]{\setlength{\rightskip}{0pt plus 5cm}int generate\+\_\+cpu\+\_\+temps\+\_\+info (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{lcd__display__client_8c_aec6fcc1d0ae2035966ea7b3f624050cd}
D\+O N\+O\+T U\+S\+E T\+H\+I\+S I\+N M\+O\+D\+U\+L\+E\+S T\+H\+A\+T H\+A\+N\+D\+L\+E A I2\+C Based L\+C\+D R\+Pi cannot handle I2\+C and Get\+Cpu\+Temp() without locking the process in an uniterrupted sleep; forcing a power cycle. 

Definition at line 58 of file lcd\+\_\+display\+\_\+client.\+c.



Referenced by main().


\begin{DoxyCode}
58                                        \{
59     \textcolor{keyword}{static} \hyperlink{struct__temps}{CpuTemps} cpuTemp;
60     \textcolor{keywordtype}{int} mLen = 0;
61 
62     memset(&cpuTemp, 0, \textcolor{keyword}{sizeof}(\hyperlink{struct__temps}{CpuTemps}));
63     \textcolor{keywordflow}{if} ( \hyperlink{lcd__display__client_8c_aac32062aeca841944e9d1016c8db5e6a}{getCpuTemps}(&cpuTemp) != -1 ) \{
64         mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}-1, \textcolor{stringliteral}{"CPU: %s %s"}, cpuTemp.\hyperlink{struct__temps_add683444c2985b00bd51bc69e9026a69}{c}, cpuTemp.
      \hyperlink{struct__temps_a9de7d7f00c6df40b61735f25e3247b40}{f});
65     \} \textcolor{keywordflow}{else} \{
66         mLen = snprintf(msg, \hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}-1, \textcolor{stringliteral}{"Temp: N/A"});
67     \}
68 
69     \textcolor{keywordflow}{return} mLen;
70 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{lcd__display__client_8c_aec6fcc1d0ae2035966ea7b3f624050cd_icgraph}
\end{center}
\end{figure}


\hypertarget{lcd__display__client_8c_aac32062aeca841944e9d1016c8db5e6a}{\index{lcd\+\_\+display\+\_\+client.\+c@{lcd\+\_\+display\+\_\+client.\+c}!get\+Cpu\+Temps@{get\+Cpu\+Temps}}
\index{get\+Cpu\+Temps@{get\+Cpu\+Temps}!lcd\+\_\+display\+\_\+client.\+c@{lcd\+\_\+display\+\_\+client.\+c}}
\subsubsection[{get\+Cpu\+Temps}]{\setlength{\rightskip}{0pt plus 5cm}long get\+Cpu\+Temps (
\begin{DoxyParamCaption}
\item[{{\bf P\+Cpu\+Temps}}]{temps}
\end{DoxyParamCaption}
)}}\label{lcd__display__client_8c_aac32062aeca841944e9d1016c8db5e6a}
\hyperlink{udp__locator__client_8c}{udp\+\_\+locator\+\_\+client.\+c}
\begin{DoxyItemize}
\item Client
\end{DoxyItemize}

cmdline\+: ./udp\+\_\+locator\+\_\+client -\/m \char`\"{}$<$request-\/message-\/string$>$\char`\"{} D\+O N\+O\+T U\+S\+E T\+H\+I\+S I\+N M\+O\+D\+U\+L\+E\+S T\+H\+A\+T H\+A\+N\+D\+L\+E A I2\+C Based L\+C\+D R\+Pi cannot handle I2\+C and Get\+Cpu\+Temp() without locking the process in an uniterrupted sleep; forcing a power cycle.

Redhat/\+Centos\+: /sys/class/hwmon/hwmon0/device/temp1\+\_\+input Ubuntu/\+Debian\+: /sys/class/thermal/thermal\+\_\+zone0/temp 

Definition at line 20 of file lcd\+\_\+display\+\_\+client.\+c.



References \+\_\+temps\+::c, \+\_\+temps\+::cb\+Name, \+\_\+temps\+::f, \+\_\+temps\+::raw, and S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G.



Referenced by generate\+\_\+cpu\+\_\+temps\+\_\+info().


\begin{DoxyCode}
20                                   \{
21     \textcolor{keywordtype}{long} lRaw = 0;
22     \textcolor{keywordtype}{int} rc = 0;
23 
24     FILE *sysFs = fopen(\textcolor{stringliteral}{"/sys/class/thermal/thermal\_zone0/temp"}, \textcolor{stringliteral}{"r"});
25     \textcolor{keywordflow}{if} (sysFs == NULL) \{
26         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Warning: Failed to open Debian CPU temperature: %d:%s\(\backslash\)n"}, errno, 
      strerror(errno));
27         sysFs = fopen(\textcolor{stringliteral}{"/sys/class/hwmon/hwmon0/device/temp1\_input"}, \textcolor{stringliteral}{"r"});
28         \textcolor{keywordflow}{if} (sysFs == NULL) \{
29             skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Warning: Failed to open Centos CPU temperature: %d:%s\(\backslash\)n"}, 
      errno, strerror(errno));
30             \textcolor{keywordflow}{return} -1;
31         \}
32     \}
33 
34     rc = fscanf(sysFs, \textcolor{stringliteral}{"%ld"}, &lRaw);
35     fclose(sysFs);
36 
37     \textcolor{keywordflow}{if} (rc != 1 || lRaw < 0) \{
38         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Warning: Failed to READ CPU temperature: %d:%s\(\backslash\)n"}, strerror(errno
      ));
39         \textcolor{keywordflow}{return} -1;
40     \}
41 
42     \textcolor{keywordflow}{if} (temps != NULL) \{ \textcolor{comment}{// populate struct}
43         snprintf(temps->\hyperlink{struct__temps_add683444c2985b00bd51bc69e9026a69}{c}, \textcolor{keyword}{sizeof}(temps->\hyperlink{struct__temps_add683444c2985b00bd51bc69e9026a69}{c}), \textcolor{stringliteral}{"%3.1fC"}, (\textcolor{keywordtype}{double} )(lRaw / 1000.0));
44         snprintf(temps->\hyperlink{struct__temps_a9de7d7f00c6df40b61735f25e3247b40}{f}, \textcolor{keyword}{sizeof}(temps->\hyperlink{struct__temps_a9de7d7f00c6df40b61735f25e3247b40}{f}), \textcolor{stringliteral}{"%3.1fF"}, (\textcolor{keywordtype}{double} )(lRaw / 1000.0 * 9 / 5 + 32));
45         temps->\hyperlink{struct__temps_a62d3522782b91f7fbb444bceb91c1876}{raw} = lRaw;
46         strncpy(temps->\hyperlink{struct__temps_a74414216b43459f4ebcada36b9b165f5}{cbName}, \textcolor{stringliteral}{"CpuTemps"}, \textcolor{keyword}{sizeof}(temps->\hyperlink{struct__temps_a74414216b43459f4ebcada36b9b165f5}{cbName}) - 1);
47     \}
48 
49     \textcolor{keywordflow}{return} lRaw;
50 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd__display__client_8c_aac32062aeca841944e9d1016c8db5e6a_icgraph}
\end{center}
\end{figure}


\hypertarget{lcd__display__client_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{lcd\+\_\+display\+\_\+client.\+c@{lcd\+\_\+display\+\_\+client.\+c}!main@{main}}
\index{main@{main}!lcd\+\_\+display\+\_\+client.\+c@{lcd\+\_\+display\+\_\+client.\+c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{lcd__display__client_8c_a0ddf1224851353fc92bfbff6f499fa97}


Definition at line 73 of file lcd\+\_\+display\+\_\+client.\+c.



References gd\+\_\+i\+\_\+socket, gd\+\_\+i\+\_\+update, gd\+\_\+pch\+\_\+message, gd\+\_\+pch\+\_\+service\+\_\+name, generate\+\_\+cpu\+\_\+temps\+\_\+info(), gi\+\_\+exit\+\_\+flag, \+\_\+service\+Entry\+::ip, \+\_\+service\+Entry\+::name, \+\_\+service\+Entry\+::port, \+\_\+service\+Request\+::request, S\+D\+\_\+\+D\+E\+B\+U\+G, S\+D\+\_\+\+N\+O\+T\+I\+C\+E, S\+D\+\_\+\+W\+A\+R\+N\+I\+N\+G, skn\+\_\+generate\+\_\+datetime\+\_\+info(), skn\+\_\+generate\+\_\+loadavg\+\_\+info(), skn\+\_\+generate\+\_\+uname\+\_\+info(), skn\+\_\+get\+\_\+number\+\_\+of\+\_\+cpu\+\_\+cores(), skn\+\_\+handle\+\_\+locator\+\_\+command\+\_\+line(), skn\+\_\+program\+\_\+name\+\_\+and\+\_\+description\+\_\+set(), S\+K\+N\+\_\+\+R\+U\+N\+\_\+\+M\+O\+D\+E\+\_\+\+R\+U\+N, skn\+\_\+service\+\_\+registry\+\_\+destroy(), skn\+\_\+service\+\_\+registry\+\_\+entry\+\_\+count(), skn\+\_\+service\+\_\+registry\+\_\+find\+\_\+entry(), skn\+\_\+service\+\_\+registry\+\_\+get\+\_\+via\+\_\+udp\+\_\+broadcast(), skn\+\_\+service\+\_\+request\+\_\+create(), skn\+\_\+signals\+\_\+cleanup(), skn\+\_\+signals\+\_\+init(), skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+broadcast\+\_\+socket(), skn\+\_\+udp\+\_\+host\+\_\+create\+\_\+regular\+\_\+socket(), skn\+\_\+udp\+\_\+service\+\_\+request(), S\+Z\+\_\+\+C\+H\+A\+R\+\_\+\+B\+U\+F\+F, and S\+Z\+\_\+\+I\+N\+F\+O\+\_\+\+B\+U\+F\+F.


\begin{DoxyCode}
74 \{
75     \textcolor{keywordtype}{char} request[\hyperlink{cmd_d_c_8c_a442d5e93bd9c9d8eb4532aba62b5f86c}{SZ\_INFO\_BUFF}];
76     \textcolor{keywordtype}{char} registry[\hyperlink{cmd_d_c_8c_a8d2978ad614b0de81c60483e706d9306}{SZ\_CHAR\_BUFF}];
77     \hyperlink{struct__service_registry}{PServiceRegistry} psr = NULL;
78     \hyperlink{struct__service_entry}{PRegistryEntry} pre = NULL;
79     \hyperlink{struct__service_request}{PServiceRequest} pnsr = NULL;
80     \textcolor{keywordtype}{int} vIndex = 0;
81     \textcolor{keywordtype}{long} host\_update\_cycle = 0;
82 
83     memset(registry, 0, \textcolor{keyword}{sizeof}(registry));
84     memset(request, 0, \textcolor{keyword}{sizeof}(request));
85     strncpy(registry, \textcolor{stringliteral}{"DisplayClient: Raspberry Pi where are you?"}, \textcolor{keyword}{sizeof}(registry) - 1);
86 
87     \hyperlink{skn__network__helpers_8c_ac2672efa5ece276743c6558dfe82d01a}{skn\_program\_name\_and\_description\_set}(
88             \textcolor{stringliteral}{"lcd\_display\_client"},
89             \textcolor{stringliteral}{"Send messages to the Display Service."}
90             );
91 
92     \textcolor{comment}{/* Parse any command line options,}
93 \textcolor{comment}{     * like request string override */}
94     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a665c441c1f789eb555b1c23ed43de890}{skn\_handle\_locator\_command\_line}(argc, argv) == EXIT\_FAILURE) \{
95             exit(EXIT\_FAILURE);
96     \}
97     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\_pch\_message} != NULL) \{
98             strncpy(request, \hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\_pch\_message}, \textcolor{keyword}{sizeof}(request));
99         free(\hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\_pch\_message}); \textcolor{comment}{// from strdup()}
100         \hyperlink{skn__network__helpers_8c_a0bb2e7571c22c0455842aba8cf1d97dc}{gd\_pch\_message} = request;
101     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (argc == 2) \{
102             strcpy(request, argv[1]);
103     \}
104 
105     skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Request  Message [%s]"}, request);
106     skn\_logger(\hyperlink{skn__common__headers_8h_a3ace3381f5b69f4a46fc35b70844a5dc}{SD\_DEBUG}, \textcolor{stringliteral}{"Registry Message [%s]"}, registry);
107 
108     \textcolor{comment}{/* Initialize Signal handler */}
109     \hyperlink{skn__network__helpers_8c_ad5959da47263ac46035692fab7c1897c}{skn\_signals\_init}();
110 
111     \textcolor{comment}{/* Create local socket for sending requests */}
112     \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket} = \hyperlink{skn__network__helpers_8c_a4f9f7e0f50cb3073d9c6e5a6a0d5240d}{skn\_udp\_host\_create\_broadcast\_socket}(0, 4.
      0);
113     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket} == EXIT\_FAILURE) \{
114         \hyperlink{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58}{skn\_signals\_cleanup}(\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag});
115             exit(EXIT\_FAILURE);
116     \}
117 
118     skn\_logger(\hyperlink{skn__common__headers_8h_a4e0c16529642a911483bd7eaabefca4c}{SD\_NOTICE}, \textcolor{stringliteral}{"Application Active..."});
119 
120     \textcolor{comment}{/* Get the ServiceRegistry from Provider}
121 \textcolor{comment}{     * - could return null if error */}
122     psr = \hyperlink{skn__network__helpers_8c_ac5eaa92d1366ef646641f8ae3b11ed69}{skn\_service\_registry\_get\_via\_udp\_broadcast}(
      \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket}, registry);
123     \textcolor{keywordflow}{if} (psr != NULL && \hyperlink{skn__network__helpers_8c_a7fa761695029d3ab846d21f5c94ce61b}{skn\_service\_registry\_entry\_count}(psr) != 0) \{
124         \textcolor{keywordtype}{char} *service\_name = \textcolor{stringliteral}{"lcd\_display\_service"};
125 
126         \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name} != NULL) \{
127             service\_name = \hyperlink{skn__network__helpers_8c_a2f908b49598a49ea624bfcc3e2175b7c}{gd\_pch\_service\_name};
128         \}
129 
130         \textcolor{comment}{/* find a single entry */}
131         pre = \hyperlink{skn__network__helpers_8c_add839b84b8249372e523219f7036b77d}{skn\_service\_registry\_find\_entry}(psr, service\_name);
132         \textcolor{keywordflow}{if} (pre != NULL) \{
133             skn\_logger(\textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\(\backslash\)nLCD DisplayService (%s) is located at IPv4: %s:%d\(\backslash\)n"}, pre->
      \hyperlink{struct__service_entry_aa66dcf0806f67276d049ac75c6153768}{name}, pre->\hyperlink{struct__service_entry_a70b1db0895fbe31c07c8799cb57c678a}{ip}, pre->\hyperlink{struct__service_entry_ac8a3a40de5eee937afb42faea4d18bb2}{port});
134         \}
135 
136         \textcolor{comment}{/*}
137 \textcolor{comment}{         * Switch to non-broadcast type socket */}
138         close(\hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket}); \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket} = -1;
139         \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket} = \hyperlink{skn__network__helpers_8c_a25427bc0b7f087d1135c92dd3704f210}{skn\_udp\_host\_create\_regular\_socket}(0, 8.
      0);
140         \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket} == EXIT\_FAILURE) \{
141             \textcolor{keywordflow}{if} (psr != NULL) \hyperlink{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6}{skn\_service\_registry\_destroy}(psr);
142             \hyperlink{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58}{skn\_signals\_cleanup}(\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag});
143             exit(EXIT\_FAILURE);
144         \}
145     \}
146 
147 
148     \textcolor{comment}{// we have the location}
149     \textcolor{keywordflow}{if} (pre != NULL) \{
150         \textcolor{keywordflow}{if} (request[0] == 0) \{
151             snprintf(request, \textcolor{keyword}{sizeof}(request), \textcolor{stringliteral}{"%02ld Cores Available."},  
      \hyperlink{skn__network__helpers_8c_a9b607e33be05bf0479127f233a58fab7}{skn\_get\_number\_of\_cpu\_cores}() );
152         \}
153         pnsr = \hyperlink{skn__network__helpers_8c_a922ccd04b4dc28211ff08c4c62462544}{skn\_service\_request\_create}(pre, 
      \hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket}, request);
154     \}
155     \textcolor{keywordflow}{if} (pnsr != NULL) \{
156         \textcolor{keywordflow}{do} \{
157             vIndex = \hyperlink{skn__network__helpers_8c_ad8304e97f9bccee1cd899a61b91ae677}{skn\_udp\_service\_request}(pnsr);
158             \textcolor{keywordflow}{if} ((vIndex == EXIT\_FAILURE) && (\hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\_i\_update} == 0)) \{ \textcolor{comment}{// ignore if non-stop is set}
159                 \textcolor{keywordflow}{break};
160             \}
161             sleep(\hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\_i\_update});
162 
163             \textcolor{keywordflow}{switch} (host\_update\_cycle++) \{  \textcolor{comment}{// cycle through other info}
164                 \textcolor{keywordflow}{case} 0:
165                     \hyperlink{skn__network__helpers_8c_abbacbfd3718ca9b0f29e08e36e15c1d2}{skn\_generate\_loadavg\_info}(pnsr->
      \hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request});
166                     \textcolor{keywordflow}{break};
167                 \textcolor{keywordflow}{case} 1:
168                     \hyperlink{skn__network__helpers_8c_adc9d01795423b927160fa32e842015ea}{skn\_generate\_datetime\_info}(pnsr->
      \hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request});
169                     \textcolor{keywordflow}{break};
170                 \textcolor{keywordflow}{case} 2:
171                     \hyperlink{skn__network__helpers_8c_a7da6dc73acd9390e469a4f2a1bd5e162}{skn\_generate\_uname\_info}(pnsr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request});
172                 \textcolor{keywordflow}{break};
173                 \textcolor{keywordflow}{case} 3:
174                     \hyperlink{lcd__display__client_8c_aec6fcc1d0ae2035966ea7b3f624050cd}{generate\_cpu\_temps\_info}(pnsr->\hyperlink{struct__service_request_ad347b2a07388ec9d9d33756f1a1ef235}{request});
175                     host\_update\_cycle = 0;
176                 \textcolor{keywordflow}{break};
177             \}
178 
179         \} \textcolor{keywordflow}{while}(\hyperlink{skn__network__helpers_8c_a49e7c0da0f26a1f505934e5610ead123}{gd\_i\_update} != 0 && \hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag} == 
      \hyperlink{skn__common__headers_8h_a3f5142b81a9ee977aedfd69a61281920}{SKN\_RUN\_MODE\_RUN});
180         free(pnsr);  \textcolor{comment}{// Done}
181 
182     \} \textcolor{keywordflow}{else} \{
183         skn\_logger(\hyperlink{skn__common__headers_8h_a1b84e50e89a48558f56175017017c375}{SD\_WARNING}, \textcolor{stringliteral}{"Unable to create Network Request."});
184     \}
185 
186     \textcolor{comment}{/* Cleanup and shutdown}
187 \textcolor{comment}{     * - if shutdown was caused by signal handler}
188 \textcolor{comment}{     *   then a termination signal will be sent via signal()}
189 \textcolor{comment}{     *   otherwise, a normal exit occurs}
190 \textcolor{comment}{     */}
191     \textcolor{keywordflow}{if} (\hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket}) close(\hyperlink{skn__network__helpers_8c_a62c4e1910a12d9a04a12768154853712}{gd\_i\_socket});
192     \textcolor{keywordflow}{if} (psr != NULL) \hyperlink{skn__network__helpers_8c_ada82b67be04c913bed01291f505938a6}{skn\_service\_registry\_destroy}(psr);
193     \hyperlink{skn__network__helpers_8c_a65457e80843e7024248639687afb4a58}{skn\_signals\_cleanup}(\hyperlink{skn__network__helpers_8c_a7b63b016033aaa3ad752bdbd887d10c0}{gi\_exit\_flag});
194 
195     exit(EXIT\_SUCCESS);
196 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd__display__client_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}


